{"version":3,"file":"wxflutter-weex-js-framework.min.js","sources":["../runtime/shared/polyfill/arrayFrom.js","../node_modules/core-js/modules/_is-object.js","../node_modules/core-js/modules/_an-object.js","../node_modules/core-js/modules/_dom-create.js","../node_modules/core-js/modules/_property-desc.js","../node_modules/core-js/modules/_has.js","../node_modules/core-js/modules/_uid.js","../node_modules/core-js/modules/_a-function.js","../node_modules/core-js/modules/_ctx.js","../node_modules/core-js/modules/_global.js","../node_modules/core-js/modules/_core.js","../node_modules/core-js/modules/_fails.js","../node_modules/core-js/modules/_descriptors.js","../node_modules/core-js/modules/_ie8-dom-define.js","../node_modules/core-js/modules/_object-dp.js","../node_modules/core-js/modules/_to-primitive.js","../node_modules/core-js/modules/_hide.js","../node_modules/core-js/modules/_shared.js","../node_modules/core-js/modules/_function-to-string.js","../node_modules/core-js/modules/_redefine.js","../node_modules/core-js/modules/_export.js","../node_modules/core-js/modules/_cof.js","../node_modules/core-js/modules/_defined.js","../node_modules/core-js/modules/_to-iobject.js","../node_modules/core-js/modules/_to-integer.js","../node_modules/core-js/modules/_to-length.js","../node_modules/core-js/modules/_to-object.js","../node_modules/core-js/modules/_array-includes.js","../node_modules/core-js/modules/_iobject.js","../node_modules/core-js/modules/_to-absolute-index.js","../node_modules/core-js/modules/_shared-key.js","../node_modules/core-js/modules/_object-keys-internal.js","../node_modules/core-js/modules/_enum-bug-keys.js","../node_modules/core-js/modules/_object-keys.js","../node_modules/core-js/modules/_object-gops.js","../node_modules/core-js/modules/_object-pie.js","../node_modules/core-js/modules/_object-assign.js","../node_modules/core-js/modules/es6.object.assign.js","../node_modules/core-js/fn/object/assign.js","../runtime/shared/polyfill/objectSetPrototypeOf.js","../runtime/shared/polyfill/promise.js","../node_modules/core-js/modules/_classof.js","../node_modules/core-js/modules/_wks.js","../node_modules/core-js/modules/es6.object.to-string.js","../node_modules/core-js/modules/_object-create.js","../node_modules/core-js/modules/_set-to-string-tag.js","../node_modules/core-js/modules/_string-at.js","../node_modules/core-js/modules/_iterators.js","../node_modules/core-js/modules/_object-dps.js","../node_modules/core-js/modules/_html.js","../node_modules/core-js/modules/_iter-create.js","../node_modules/core-js/modules/_iter-define.js","../node_modules/core-js/modules/_object-gpo.js","../node_modules/core-js/modules/es6.string.iterator.js","../node_modules/core-js/modules/_add-to-unscopables.js","../node_modules/core-js/modules/_iter-step.js","../node_modules/core-js/modules/es6.array.iterator.js","../node_modules/core-js/modules/web.dom.iterable.js","../node_modules/core-js/modules/_task.js","../node_modules/core-js/modules/_an-instance.js","../node_modules/core-js/modules/_is-array-iter.js","../node_modules/core-js/modules/core.get-iterator-method.js","../node_modules/core-js/modules/_for-of.js","../node_modules/core-js/modules/_iter-call.js","../node_modules/core-js/modules/_species-constructor.js","../node_modules/core-js/modules/_invoke.js","../node_modules/core-js/modules/_microtask.js","../node_modules/core-js/modules/_new-promise-capability.js","../node_modules/core-js/modules/_perform.js","../node_modules/core-js/modules/_user-agent.js","../node_modules/core-js/modules/_set-species.js","../node_modules/core-js/modules/_iter-detect.js","../node_modules/core-js/modules/es6.promise.js","../node_modules/core-js/modules/_redefine-all.js","../node_modules/core-js/modules/_promise-resolve.js","../runtime/shared/utils.js","../runtime/shared/env/console.js","../runtime/shared/env/setTimeout.js","../runtime/shared/env/freeze.js","../runtime/bridge/CallbackManager.js","../runtime/vdom/operation.js","../runtime/vdom/Node.js","../runtime/vdom/WeexElement.js","../runtime/vdom/Element.js","../runtime/bridge/TaskCenter.js","../runtime/bridge/receiver.js","../runtime/bridge/normalize.js","../runtime/api/module.js","../runtime/api/component.js","../runtime/api/service.js","../runtime/vdom/Comment.js","../runtime/bridge/Listener.js","../runtime/bridge/Handler.js","../runtime/vdom/Document.js","../runtime/api/WeexInstance.js","../runtime/api/init.js","../runtime/api/config.js","../runtime/api/index.js","../runtime/services/broadcast-channel/message-event.js","../runtime/services/broadcast-channel/index.js","../runtime/services/index.js","../runtime/frameworks/vanilla/index.js","../packages/weex-vue-framework/factory.js","../packages/weex-vue-framework/index.js","../runtime/frameworks/legacy/api/methods.js","../runtime/frameworks/legacy/util/shared.js","../runtime/frameworks/legacy/util/index.js","../runtime/frameworks/legacy/core/dep.js","../runtime/frameworks/legacy/core/watcher.js","../runtime/frameworks/legacy/core/array.js","../runtime/frameworks/legacy/core/observer.js","../runtime/frameworks/legacy/core/state.js","../runtime/frameworks/legacy/config.js","../runtime/frameworks/legacy/vm/directive.js","../runtime/frameworks/legacy/vm/dom-helper.js","../runtime/frameworks/legacy/vm/compiler.js","../runtime/frameworks/legacy/vm/events.js","../runtime/frameworks/legacy/vm/index.js","../runtime/frameworks/legacy/app/register.js","../node_modules/semver/semver.js","../runtime/frameworks/legacy/app/downgrade.js","../runtime/frameworks/legacy/app/bundle/bootstrap.js","../runtime/frameworks/legacy/app/viewport.js","../runtime/frameworks/legacy/app/bundle/define.js","../runtime/frameworks/legacy/app/ctrl/misc.js","../runtime/frameworks/legacy/app/ctrl/init.js","../runtime/frameworks/legacy/app/differ.js","../runtime/frameworks/legacy/app/instance.js","../runtime/frameworks/legacy/app/index.js","../runtime/frameworks/legacy/static/map.js","../runtime/frameworks/legacy/static/register.js","../runtime/frameworks/legacy/static/bridge.js","../runtime/frameworks/legacy/index.js","../runtime/entries/setup.js","../runtime/entries/index.js","../runtime/frameworks/index.js","../runtime/frameworks/legacy/static/create.js","../runtime/frameworks/legacy/static/life.js","../runtime/frameworks/legacy/static/misc.js"],"sourcesContent":["/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n/* eslint-disable */\n\n// Production steps of ECMA-262, Edition 6, 22.1.2.1\n// Reference: https://people.mozilla.org/~jorendorff/es6-draft.html#sec-array.from\n\n/* istanbul ignore if */\nif (!Array.from) {\n  Array.from = (function() {\n    var toStr = Object.prototype.toString;\n    var isCallable = function(fn) {\n      return typeof fn === 'function' || toStr.call(fn) === '[object Function]';\n    };\n    var toInteger = function(value) {\n      var number = Number(value);\n      if (isNaN(number)) {\n        return 0;\n      }\n      if (number === 0 || !isFinite(number)) {\n        return number;\n      }\n      return (number > 0 ? 1 : -1) * Math.floor(Math.abs(number));\n    };\n    var maxSafeInteger = Math.pow(2, 53) - 1;\n    var toLength = function(value) {\n      var len = toInteger(value);\n      return Math.min(Math.max(len, 0), maxSafeInteger);\n    };\n\n    // The length property of the from method is 1.\n    return function from(arrayLike/*, mapFn, thisArg */) {\n      // 1. Let C be the this value.\n      var C = this;\n\n      // 2. Let items be ToObject(arrayLike).\n      var items = Object(arrayLike);\n\n      // 3. ReturnIfAbrupt(items).\n      if (arrayLike == null) {\n        throw new TypeError('Array.from requires an array-like object - not null or undefined');\n      }\n\n      // 4. If mapfn is undefined, then let mapping be false.\n      var mapFn = arguments.length > 1 ? arguments[1] : void undefined;\n      var T;\n      if (typeof mapFn !== 'undefined') {\n        // 5. else\n        // 5. a If IsCallable(mapfn) is false, throw a TypeError exception.\n        if (!isCallable(mapFn)) {\n          throw new TypeError('Array.from: when provided, the second argument must be a function');\n        }\n\n        // 5. b. If thisArg was supplied, let T be thisArg; else let T be undefined.\n        if (arguments.length > 2) {\n          T = arguments[2];\n        }\n      }\n\n      // 10. Let lenValue be Get(items, \"length\").\n      // 11. Let len be ToLength(lenValue).\n      var len = toLength(items.length);\n\n      // 13. If IsConstructor(C) is true, then\n      // 13. a. Let A be the result of calling the [[Construct]] internal method of C with an argument list containing the single item len.\n      // 14. a. Else, Let A be ArrayCreate(len).\n      var A = isCallable(C) ? Object(new C(len)) : new Array(len);\n\n      // 16. Let k be 0.\n      var k = 0;\n      // 17. Repeat, while k < len… (also steps a - h)\n      var kValue;\n      while (k < len) {\n        kValue = items[k];\n        if (mapFn) {\n          A[k] = typeof T === 'undefined' ? mapFn(kValue, k) : mapFn.call(T, kValue, k);\n        } else {\n          A[k] = kValue;\n        }\n        k += 1;\n      }\n      // 18. Let putStatus be Put(A, \"length\", len, true).\n      A.length = len;\n      // 20. Return A.\n      return A;\n    };\n  }());\n}\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var core = module.exports = { version: '2.6.11' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'\n});\n","module.exports = require('./_shared')('native-function-to-string', Function.toString);\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar SRC = require('./_uid')('src');\nvar $toString = require('./_function-to-string');\nvar TO_STRING = 'toString';\nvar TPL = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n","var global = require('./_global');\nvar core = require('./_core');\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar ctx = require('./_ctx');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","exports.f = {}.propertyIsEnumerable;\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n/* eslint-disable */\n\n// https://gist.github.com/WebReflection/5593554\n\n/* istanbul ignore if */\nif (!Object.setPrototypeOf) {\n  Object.setPrototypeOf = (function(Object, magic) {\n    var set;\n    function setPrototypeOf(O, proto) {\n      set.call(O, proto);\n      return O;\n    }\n    try {\n      // this works already in Firefox and Safari\n      set = Object.getOwnPropertyDescriptor(Object.prototype, magic).set;\n      set.call({}, null);\n    } catch (e) {\n      if (\n        // IE < 11 cannot be shimmed\n        Object.prototype !== {}[magic] ||\n        // neither can any browser that actually\n        // implemented __proto__ correctly\n        // (all but old V8 will return here)\n        {__proto__: null}.__proto__ === void 0\n        // this case means null objects cannot be passed\n        // through setPrototypeOf in a reliable way\n        // which means here a **Sham** is needed instead\n      ) {\n        return;\n      }\n      // nodejs 0.8 and 0.10 are (buggy and..) fine here\n      // probably Chrome or some old Mobile stock browser\n      set = function(proto) {\n        this[magic] = proto;\n      };\n      // please note that this will **not** work\n      // in those browsers that do not inherit\n      // __proto__ by mistake from Object.prototype\n      // in these cases we should probably throw an error\n      // or at least be informed about the issue\n      setPrototypeOf.polyfill = setPrototypeOf(\n        setPrototypeOf({}, null),\n        Object.prototype\n      ) instanceof Object;\n      // setPrototypeOf.polyfill === true means it works as meant\n      // setPrototypeOf.polyfill === false means it's not 100% reliable\n      // setPrototypeOf.polyfill === undefined\n      // or\n      // setPrototypeOf.polyfill ==  null means it's not a polyfill\n      // which means it works as expected\n      // we can even delete Object.prototype.__proto__;\n    }\n    return setPrototypeOf;\n  }(Object, '__proto__'));\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n// fix Promise Problem on JSContext of iOS7~8\n// @see https://bugs.webkit.org/show_bug.cgi?id=135866\n\nconst { WXEnvironment } = global\n\n/* istanbul ignore next */\nif (typeof WXEnvironment !== 'undefined'\n  && (WXEnvironment.platform === 'iOS' || WXEnvironment.platform === 'android')\n  && !WXEnvironment.__enable_native_promise__) {\n  global.Promise = undefined\n}\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","'use strict';\n// 19.1.3.6 Object.prototype.toString()\nvar classof = require('./_classof');\nvar test = {};\ntest[require('./_wks')('toStringTag')] = 'z';\nif (test + '' != '[object z]') {\n  require('./_redefine')(Object.prototype, 'toString', function toString() {\n    return '[object ' + classof(this) + ']';\n  }, true);\n}\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","module.exports = {};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n","'use strict';\nvar global = require('./_global');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","var redefine = require('./_redefine');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) redefine(target, key, src[key], safe);\n  return target;\n};\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n/**\n * Get a unique id.\n */\nlet nextNodeRef = 1\nexport function uniqueId() {\n  return (nextNodeRef++).toString()\n}\n\nexport function typof(v) {\n  const s = Object.prototype.toString.call(v)\n  return s.substring(8, s.length - 1)\n}\n\nexport function isPlainObject(value) {\n  return Object.prototype.toString.call(value) === '[object Object]'\n}\n\nexport function hasOwn(object, key) {\n  return isPlainObject(object) && Object.prototype.hasOwnProperty.call(object, key)\n}\n\nexport function bufferToBase64(buffer) {\n  if (typeof btoa !== 'function') {\n    return ''\n  }\n  const string = Array.prototype.map.call(\n    new Uint8Array(buffer),\n    code => String.fromCharCode(code)\n  ).join('')\n  return btoa(string) // eslint-disable-line no-undef\n}\n\nexport function base64ToBuffer(base64) {\n  if (typeof atob !== 'function') {\n    return new ArrayBuffer(0)\n  }\n  const string = atob(base64) // eslint-disable-line no-undef\n  const array = new Uint8Array(string.length)\n  Array.prototype.forEach.call(string, (ch, i) => {\n    array[i] = ch.charCodeAt(0)\n  })\n  return array.buffer\n}\n\n/**\n * Detect if the param is falsy or empty\n * @param {any} any\n */\nexport function isEmpty(any) {\n  if (!any || typeof any !== 'object') {\n    return true\n  }\n\n  for (const key in any) {\n    if (Object.prototype.hasOwnProperty.call(any, key)) {\n      return false\n    }\n  }\n  return true\n}\n\nconst LEVELS = ['off', 'error', 'warn', 'info', 'log', 'debug']\nlet levelMap = {}\n\n/**\n * Generate map for which types of message will be sent in a certain message level\n * as the order of LEVELS.\n */\nexport function generateLevelMap() {\n  LEVELS.forEach(level => {\n    const levelIndex = LEVELS.indexOf(level)\n    levelMap[level] = {}\n    LEVELS.forEach(type => {\n      const typeIndex = LEVELS.indexOf(type)\n      if (typeIndex <= levelIndex) {\n        levelMap[level][type] = true\n      }\n    })\n  })\n}\n\n/**\n * Reset level map to empty object,\n * then the log level can be toggled at runtime.\n */\nexport function resetLevelMap() {\n  levelMap = {}\n}\n\n/**\n * Check if a certain type of message will be sent in current log level of env.\n * @param  {string} type\n * @return {boolean}\n */\nexport function checkLevel(type) {\n  return true;\n  const logLevel = (global.WXEnvironment && global.WXEnvironment.logLevel) || 'log'\n  return levelMap[logLevel] && levelMap[logLevel][type]\n}\n\n/**\n * Print debug log regardless of level check.\n *\n * This methods can avoid \"double level check\" compared with using wrapped console.log\n */\nexport function debugLog(text) {\n  if (__global && __global.nativeLog) {\n    __global.nativeLog('wxInteractionAnalyzer: [jsfm]' + text, '__DEBUG')\n  } else {\n    global.nativeLog('wxInteractionAnalyzer: [jsfm]' + text, '__DEBUG')\n  }\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n/**\n * @fileOverview\n * This file will hack `console` methods by `WXEnvironment.logLevel`.\n *\n * So we can control how many and which messages will be sent by change the log level.\n * Additionally in native platform the message content must be primitive values and\n * using `nativeLog(...args, logLevelMark)` so we create a new `console` object in\n * global add a format process for its methods.\n */\n\nimport { checkLevel, generateLevelMap, resetLevelMap } from '../utils'\n\nconst originalConsole = global.console\n\n/**\n * Hack console for native environment.\n */\nexport function setNativeConsole() {\n  generateLevelMap()\n\n  /* istanbul ignore next */\n  // mock console in native environment\n  if (global.WXEnvironment && global.WXEnvironment.platform !== 'Web') {\n    global.console = {\n      debug: (...args) => {\n        if (checkLevel('debug')) {\n          if (__global && __global.nativeLog) {\n            __global.nativeLog(...format(args), '__DEBUG')\n          } else {\n            global.nativeLog(...format(args), '__DEBUG')\n          }\n        }\n      },\n      log: (...args) => {\n        if (checkLevel('log')) {\n          if (__global && __global.nativeLog) {\n            __global.nativeLog(...format(args), '__LOG')\n          } else {\n            global.nativeLog(...format(args), '__LOG')\n          }\n\n\n        }\n      },\n      info: (...args) => {\n        if (checkLevel('info')) {\n          if (__global && __global.nativeLog) {\n            __global.nativeLog(...format(args), '__INFO')\n          } else {\n            global.nativeLog(...format(args), '__INFO')\n          }\n\n        }\n      },\n      warn: (...args) => {\n        if (checkLevel('warn')) {\n          if (__global && __global.nativeLog) {\n            __global.nativeLog(...format(args), '__WARN')\n          } else {\n            global.nativeLog(...format(args), '__WARN')\n          }\n        }\n      },\n      error: (...args) => {\n        if (checkLevel('error')) {\n          if (__global && __global.nativeLog) {\n            __global.nativeLog(...format(args), '__ERROR')\n          } else {\n            global.nativeLog(...format(args), '__ERROR')\n          }\n        }\n      }\n    }\n  }\n\n  // Web or Node\n  else {\n    const { debug, log, info, warn, error } = console\n    console.__ori__ = { debug, log, info, warn, error }\n    console.log = (...args) => {\n      if (checkLevel('debug')) { console.__ori__.debug.apply(console, args) }\n    }\n    console.log = (...args) => {\n      if (checkLevel('log')) { console.__ori__.log.apply(console, args) }\n    }\n    console.info = (...args) => {\n      if (checkLevel('info')) { console.__ori__.info.apply(console, args) }\n    }\n    console.warn = (...args) => {\n      if (checkLevel('warn')) { console.__ori__.warn.apply(console, args) }\n    }\n    console.error = (...args) => {\n      if (checkLevel('error')) { console.__ori__.error.apply(console, args) }\n    }\n  }\n}\n\n/**\n * Reset hacked console to original.\n */\n/* istanbul ignore next */\nexport function resetNativeConsole() {\n  resetLevelMap()\n  global.console = originalConsole\n}\n\n/**\n * Convert all log arguments into primitive values.\n * @param  {array} args\n * @return {array}\n */\n/* istanbul ignore next */\nfunction format(args) {\n  return args.map((v) => {\n    const type = Object.prototype.toString.call(v)\n    if (type.toLowerCase() === '[object object]') {\n      v = JSON.stringify(v)\n    }\n    else {\n      v = String(v)\n    }\n    return v\n  })\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n/**\n * @fileOverview\n * Polyfill `setTimeout` on Android V8 using native method\n * `setTimeoutNative(callbackId, time)` and JS method\n * `setTimeoutCallback(callbackId)`.\n * This polyfill is only used in virtual-DOM diff & flush agorithm. Not\n * accessed by JS Bundle code (The timer APIs polyfill for JS Bundle is in\n * `html5/default/app/ctrl.js`).\n */\n\nconst originalSetTimeout = global.setTimeout\nconst setTimeoutNative = global.setTimeoutNative\n\n/**\n * Set up native timer\n */\n/* istanbul ignore next */\nexport function setNativeTimer () {\n  if (typeof setTimeout === 'undefined' &&\n  typeof setTimeoutNative === 'function') {\n    const timeoutMap = {}\n    let timeoutId = 0\n\n    global.setTimeout = (cb, time) => {\n      timeoutMap[++timeoutId] = cb\n      setTimeoutNative(timeoutId.toString(), time)\n    }\n\n    global.setTimeoutCallback = (id) => {\n      if (typeof timeoutMap[id] === 'function') {\n        timeoutMap[id]()\n        delete timeoutMap[id]\n      }\n    }\n  }\n}\n\n/* istanbul ignore next */\nexport function resetNativeTimer () {\n  global.setTimeout = originalSetTimeout\n  global.setTimeoutCallback = null\n}\n\nsetNativeTimer()\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/**\n * Freeze the prototype of javascript build-in objects.\n */\n/* istanbul ignore next */\nexport function freezePrototype () {\n  Object.freeze(Object)\n  Object.freeze(Array)\n\n  // Object.freeze(Object.prototype)\n  freezeObjectProto()\n  Object.freeze(Array.prototype)\n  Object.freeze(String.prototype)\n  Object.freeze(Number.prototype)\n  Object.freeze(Boolean.prototype)\n\n  // Object.freeze(Error.prototype)\n  freezeErrorProto()\n  Object.freeze(Date.prototype)\n  Object.freeze(RegExp.prototype)\n}\n\nfunction freezeObjectProto () {\n  const proto = Object.prototype\n  const protoName = 'Object.prototype'\n  freezeProtoProperty(proto, '__defineGetter__', protoName)\n  freezeProtoProperty(proto, '__defineSetter__', protoName)\n  freezeProtoProperty(proto, '__lookupGetter__', protoName)\n  freezeProtoProperty(proto, '__lookupSetter__', protoName)\n  freezeProtoProperty(proto, 'constructor', protoName)\n  freezeProtoProperty(proto, 'hasOwnProperty', protoName)\n  freezeProtoProperty(proto, 'isPrototypeOf', protoName)\n  freezeProtoProperty(proto, 'propertyIsEnumerable', protoName)\n  freezeProtoProperty(proto, 'toLocaleString', protoName)\n  freezeProtoProperty(proto, 'toString', protoName)\n  freezeProtoProperty(proto, 'valueOf', protoName)\n  Object.seal(proto)\n}\n\nfunction freezeErrorProto () {\n  const proto = Error.prototype\n  const protoName = 'Error.prototype'\n  freezeProtoProperty(proto, 'name', protoName)\n  freezeProtoProperty(proto, 'message', protoName)\n  freezeProtoProperty(proto, 'toString', protoName)\n  freezeProtoProperty(proto, 'constructor', protoName)\n  Object.seal(proto)\n}\n\nfunction freezeProtoProperty (proto, propertyName, protoName) {\n  if (!proto.hasOwnProperty(propertyName)) {\n    return\n  }\n\n  const origin = proto[propertyName]\n  Object.defineProperty(proto, propertyName, {\n    get: function () {\n      return origin\n    },\n    set: function (value) {\n      if (this === proto) {\n        throw Error(`Cannot assign to read only property ${propertyName} of ${protoName}`)\n      }\n\n      Object.defineProperty(this, propertyName, {\n        value: value,\n        writable: true\n      })\n\n      return value\n    }\n  })\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nfunction getHookKey (componentId, type, hookName) {\n  return `${type}@${hookName}#${componentId}`\n}\n\n/**\n * For general callback management of a certain Weex instance.\n * Because function can not passed into native, so we create callback\n * callback id for each function and pass the callback id into native\n * in fact. And when a callback called from native, we can find the real\n * callback through the callback id we have passed before.\n */\nexport default class CallbackManager {\n  constructor (instanceId) {\n    this.instanceId = String(instanceId)\n    this.lastCallbackId = 0\n    this.callbacks = {}\n    this.hooks = {}\n  }\n  add (callback) {\n    this.lastCallbackId++\n    this.callbacks[this.lastCallbackId] = callback\n    return this.lastCallbackId\n  }\n  remove (callbackId) {\n    const callback = this.callbacks[callbackId]\n    delete this.callbacks[callbackId]\n    return callback\n  }\n  registerHook (componentId, type, hookName, hookFunction) {\n    // TODO: validate arguments\n    const key = getHookKey(componentId, type, hookName)\n    if (this.hooks[key]) {\n      console.warn(`[JS Framework] Override an existing component hook \"${key}\".`)\n    }\n    this.hooks[key] = hookFunction\n  }\n  triggerHook (componentId, type, hookName, args) {\n    // TODO: validate arguments\n    const key = getHookKey(componentId, type, hookName)\n    const hookFunction = this.hooks[key]\n    if (typeof hookFunction !== 'function') {\n      console.error(`[JS Framework] Invalid hook function type (${typeof hookFunction}) on \"${key}\".`)\n      return null\n    }\n    let result = null\n    try {\n      result = hookFunction.apply(null, args || [])\n    }\n    catch (e) {\n      console.error(`[JS Framework] Failed to execute the hook function on \"${key}\".`)\n      throw e\n    }\n    return result\n  }\n  consume (callbackId, data, ifKeepAlive) {\n    const callback = this.callbacks[callbackId]\n    if (typeof ifKeepAlive === 'undefined' || ifKeepAlive === false) {\n      delete this.callbacks[callbackId]\n    }\n    if (typeof callback === 'function') {\n      try {\n        return callback.call(null, data)\n      }\n      catch (error) {\n        console.error(`[JS Framework] Failed to execute the callback function:\\n ${error.toString()}`)\n        throw error\n      }\n    }\n    return new Error(`invalid callback id \"${callbackId}\"`)\n  }\n  close () {\n    this.callbacks = {}\n    this.hooks = {}\n  }\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nconst docMap = {}\n\n/**\n * Add a document object into docMap.\n * @param {string} id\n * @param {object} document\n */\nexport function addDoc (id, doc) {\n  if (id) {\n    docMap[id] = doc\n  }\n}\n\n/**\n * Get the document object by id.\n * @param {string} id\n */\nexport function getDoc (id) {\n  return docMap[id]\n}\n\n/**\n * Remove the document from docMap by id.\n * @param {string} id\n */\nexport function removeDoc (id) {\n  delete docMap[id]\n}\n\n/**\n * @deprecated\n * Get listener by document id.\n * @param {string} id\n * @return {object} listener\n */\nexport function getListener (id) {\n  const doc = docMap[id]\n  if (doc && doc.listener) {\n    return doc.listener\n  }\n  return null\n}\n\n/**\n * Get TaskCenter instance by id.\n * @param {string} id\n * @return {object} TaskCenter\n */\nexport function getTaskCenter (id) {\n  const doc = docMap[id]\n  if (doc && doc.taskCenter) {\n    return doc.taskCenter\n  }\n  return null\n}\n\n/**\n * Append body node to documentElement.\n * @param {object} document\n * @param {object} node\n * @param {object} before\n */\nexport function appendBody (doc, node, before) {\n  const { documentElement } = doc\n\n  if (documentElement.pureChildren.length > 0 || node.parentNode) {\n    return\n  }\n  const children = documentElement.children\n  const beforeIndex = children.indexOf(before)\n  if (beforeIndex < 0) {\n    children.push(node)\n  }\n  else {\n    children.splice(beforeIndex, 0, node)\n  }\n\n  if (node.nodeType === 1) {\n    if (node.role === 'body') {\n      node.docId = doc.id\n      node.ownerDocument = doc\n      node.parentNode = documentElement\n      linkParent(node, documentElement)\n    }\n    else {\n      node.children.forEach(child => {\n        child.parentNode = node\n      })\n      setBody(doc, node)\n      node.docId = doc.id\n      node.ownerDocument = doc\n      linkParent(node, documentElement)\n      delete doc.nodeMap[node.nodeId]\n    }\n    documentElement.pureChildren.push(node)\n    sendBody(doc, node)\n  }\n  else {\n    node.parentNode = documentElement\n    doc.nodeMap[node.ref] = node\n  }\n}\n\nfunction sendBody (doc, node) {\n  const body = node.toJSON()\n  if (doc && doc.taskCenter && typeof doc.taskCenter.send === 'function') {\n    doc.taskCenter.send('dom', { action: 'createBody' }, [body])\n  }\n}\n\n/**\n * Set up body node.\n * @param {object} document\n * @param {object} element\n */\nexport function setBody (doc, el) {\n  el.role = 'body'\n  el.depth = 1\n  delete doc.nodeMap[el.nodeId]\n  el.ref = '_root'\n  doc.nodeMap._root = el\n  doc.body = el\n}\n\n/**\n * Establish the connection between parent and child node.\n * @param {object} child node\n * @param {object} parent node\n */\nexport function linkParent (node, parent) {\n  node.parentNode = parent\n  if (parent.docId) {\n    node.docId = parent.docId\n    node.ownerDocument = parent.ownerDocument\n    node.ownerDocument.nodeMap[node.nodeId] = node\n    node.depth = parent.depth + 1\n  }\n  node.children.forEach(child => {\n    linkParent(child, node)\n  })\n}\n\n/**\n * Get the next sibling element.\n * @param {object} node\n */\nexport function nextElement (node) {\n  while (node) {\n    if (node.nodeType === 1) {\n      return node\n    }\n    node = node.nextSibling\n  }\n}\n\n/**\n * Get the previous sibling element.\n * @param {object} node\n */\nexport function previousElement (node) {\n  while (node) {\n    if (node.nodeType === 1) {\n      return node\n    }\n    node = node.previousSibling\n  }\n}\n\n/**\n * Insert a node into list at the specified index.\n * @param {object} target node\n * @param {array} list\n * @param {number} newIndex\n * @param {boolean} changeSibling\n * @return {number} newIndex\n */\nexport function insertIndex (target, list, newIndex, changeSibling) {\n  /* istanbul ignore next */\n  if (newIndex < 0) {\n    newIndex = 0\n  }\n  const before = list[newIndex - 1]\n  const after = list[newIndex]\n  list.splice(newIndex, 0, target)\n  if (changeSibling) {\n    before && (before.nextSibling = target)\n    target.previousSibling = before\n    target.nextSibling = after\n    after && (after.previousSibling = target)\n  }\n  return newIndex\n}\n\n/**\n * Move the node to a new index in list.\n * @param {object} target node\n * @param {array} list\n * @param {number} newIndex\n * @param {boolean} changeSibling\n * @return {number} newIndex\n */\nexport function moveIndex (target, list, newIndex, changeSibling) {\n  const index = list.indexOf(target)\n  /* istanbul ignore next */\n  if (index < 0) {\n    return -1\n  }\n  if (changeSibling) {\n    const before = list[index - 1]\n    const after = list[index + 1]\n    before && (before.nextSibling = after)\n    after && (after.previousSibling = before)\n  }\n  list.splice(index, 1)\n  let newIndexAfter = newIndex\n  if (index <= newIndex) {\n    newIndexAfter = newIndex - 1\n  }\n  const beforeNew = list[newIndexAfter - 1]\n  const afterNew = list[newIndexAfter]\n  list.splice(newIndexAfter, 0, target)\n  if (changeSibling) {\n    beforeNew && (beforeNew.nextSibling = target)\n    target.previousSibling = beforeNew\n    target.nextSibling = afterNew\n    afterNew && (afterNew.previousSibling = target)\n  }\n  if (index === newIndexAfter) {\n    return -1\n  }\n  return newIndex\n}\n\n/**\n * Remove the node from list.\n * @param {object} target node\n * @param {array} list\n * @param {boolean} changeSibling\n */\nexport function removeIndex (target, list, changeSibling) {\n  const index = list.indexOf(target)\n  /* istanbul ignore next */\n  if (index < 0) {\n    return\n  }\n  if (changeSibling) {\n    const before = list[index - 1]\n    const after = list[index + 1]\n    before && (before.nextSibling = after)\n    after && (after.previousSibling = before)\n  }\n  list.splice(index, 1)\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { uniqueId } from '../shared/utils'\nimport { getDoc } from './operation'\n\nexport default class Node {\n  constructor () {\n    this.nodeId = uniqueId()\n    this.ref = this.nodeId\n    this.children = []\n    this.pureChildren = []\n    this.parentNode = null\n    this.nextSibling = null\n    this.previousSibling = null\n  }\n\n  /**\n  * Destroy current node, and remove itself form nodeMap.\n  */\n  destroy () {\n    const doc = getDoc(this.docId)\n    if (doc) {\n      delete this.docId\n      delete doc.nodeMap[this.nodeId]\n    }\n    this.children.forEach(child => {\n      child.destroy()\n    })\n  }\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { getTaskCenter } from './operation'\n\nlet Element\n\nexport function setElement (El) {\n  Element = El\n}\n\n/**\n * A map which stores all type of elements.\n * @type {Object}\n */\nconst registeredElements = {}\n\n/**\n * Register an extended element type with component methods.\n * @param  {string} type    component type\n * @param  {array}  methods a list of method names\n */\nexport function registerElement (type, methods) {\n  // Skip when no special component methods.\n  if (!Array.isArray(methods) || !methods.length) {\n    return\n  }\n\n  // Init constructor.\n  class WeexElement extends Element {}\n\n  // Add methods to prototype.\n  methods.forEach(methodName => {\n    WeexElement.prototype[methodName] = function (...args) {\n      const taskCenter = getTaskCenter(this.docId)\n      if (taskCenter) {\n        return taskCenter.send('component', {\n          ref: this.ref,\n          component: type,\n          method: methodName\n        }, args)\n      }\n    }\n  })\n\n  // Add to element type map.\n  registeredElements[type] = WeexElement\n}\n\nexport function unregisterElement (type) {\n  delete registeredElements[type]\n}\n\nexport function getWeexElement (type) {\n  return registeredElements[type]\n}\n\nexport function isWeexElement (type) {\n  return !!registeredElements[type]\n}\n\n/**\n * Clear all element types. Only for testing.\n */\nexport function clearWeexElements () {\n  for (const type in registeredElements) {\n    unregisterElement(type)\n  }\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport Node from './Node'\nimport {\n  getDoc,\n  getTaskCenter,\n  linkParent,\n  nextElement,\n  previousElement,\n  insertIndex,\n  moveIndex,\n  removeIndex\n} from './operation'\nimport { uniqueId, isEmpty, checkLevel, debugLog } from '../shared/utils'\nimport { getWeexElement, setElement } from './WeexElement'\n\nconst DEFAULT_TAG_NAME = 'div'\nconst BUBBLE_EVENTS = [\n  'click', 'longpress', 'touchstart', 'touchmove', 'touchend',\n  'panstart', 'panmove', 'panend', 'horizontalpan', 'verticalpan', 'swipe'\n]\n\nfunction registerNode (docId, node) {\n  const doc = getDoc(docId)\n  doc.nodeMap[node.nodeId] = node\n}\n\nexport default class Element extends Node {\n  constructor (type = DEFAULT_TAG_NAME, props, isExtended) {\n    super()\n\n    const WeexElement = getWeexElement(type)\n    if (WeexElement && !isExtended) {\n      return new WeexElement(type, props, true)\n    }\n\n    props = props || {}\n    this.nodeType = 1\n    this.nodeId = uniqueId()\n    this.ref = this.nodeId\n    this.type = type\n    this.attr = props.attr || {}\n    this.style = props.style || {}\n    this.classStyle = props.classStyle || {}\n    this.event = {}\n    this.children = []\n    this.pureChildren = []\n  }\n\n  /**\n   * Append a child node.\n   * @param {object} node\n   * @return {undefined | number} the signal sent by native\n   */\n  appendChild (node) {\n    if (node.parentNode && node.parentNode !== this) {\n      return\n    }\n    /* istanbul ignore else */\n    if (!node.parentNode) {\n      if (checkLevel('debug')) {\n        debugLog(`[appendChild](${this.docId},${node.type},${node.ref}) `\n          + `Append <${node.type}> to <${this.type}> (${this.ref}).`)\n      }\n      linkParent(node, this)\n      insertIndex(node, this.children, this.children.length, true)\n      if (this.docId) {\n        registerNode(this.docId, node)\n      }\n      if (node.nodeType === 1) {\n        insertIndex(node, this.pureChildren, this.pureChildren.length)\n        const taskCenter = getTaskCenter(this.docId)\n        if (taskCenter) {\n          return taskCenter.send(\n            'dom',\n            { action: 'addElement' },\n            [this.ref, node.toJSON(), -1]\n          )\n        }\n      }\n    }\n    else {\n      if (checkLevel('debug')) {\n        debugLog(`[appendChild](${this.docId},${node.type},${node.ref}) `\n          + `Move <${node.type}> to ${this.children.length} of <${this.type}> (${this.ref}).`)\n      }\n      moveIndex(node, this.children, this.children.length, true)\n      if (node.nodeType === 1) {\n        const index = moveIndex(node, this.pureChildren, this.pureChildren.length)\n        const taskCenter = getTaskCenter(this.docId)\n        if (taskCenter && index >= 0) {\n          return taskCenter.send(\n            'dom',\n            { action: 'moveElement' },\n            [node.ref, this.ref, index]\n          )\n        }\n      }\n    }\n  }\n\n  /**\n   * Insert a node before specified node.\n   * @param {object} node\n   * @param {object} before\n   * @return {undefined | number} the signal sent by native\n   */\n  insertBefore (node, before) {\n    if (node.parentNode && node.parentNode !== this) {\n      return\n    }\n    if (node === before || (node.nextSibling && node.nextSibling === before)) {\n      return\n    }\n    if (!node.parentNode) {\n      if (checkLevel('debug')) {\n        debugLog(`[insertBefore](${this.docId},${node.type},${node.ref}) `\n          + `Insert <${node.type}> to <${this.type}> (${this.ref}), before (${before.ref}).`)\n      }\n      linkParent(node, this)\n      insertIndex(node, this.children, this.children.indexOf(before), true)\n      if (this.docId) {\n        registerNode(this.docId, node)\n      }\n      if (node.nodeType === 1) {\n        const pureBefore = nextElement(before)\n        const index = insertIndex(\n          node,\n          this.pureChildren,\n          pureBefore\n            ? this.pureChildren.indexOf(pureBefore)\n            : this.pureChildren.length\n        )\n        const taskCenter = getTaskCenter(this.docId)\n        if (taskCenter) {\n          return taskCenter.send(\n            'dom',\n            { action: 'addElement' },\n            [this.ref, node.toJSON(), index]\n          )\n        }\n      }\n    }\n    else {\n      moveIndex(node, this.children, this.children.indexOf(before), true)\n      if (node.nodeType === 1) {\n        const pureBefore = nextElement(before)\n        /* istanbul ignore next */\n        const index = moveIndex(\n          node,\n          this.pureChildren,\n          pureBefore\n            ? this.pureChildren.indexOf(pureBefore)\n            : this.pureChildren.length\n        )\n        const taskCenter = getTaskCenter(this.docId)\n        if (taskCenter && index >= 0) {\n          return taskCenter.send(\n            'dom',\n            { action: 'moveElement' },\n            [node.ref, this.ref, index]\n          )\n        }\n      }\n    }\n  }\n\n  /**\n   * Insert a node after specified node.\n   * @param {object} node\n   * @param {object} after\n   * @return {undefined | number} the signal sent by native\n   */\n  insertAfter (node, after) {\n    if (node.parentNode && node.parentNode !== this) {\n      return\n    }\n    if (node === after || (node.previousSibling && node.previousSibling === after)) {\n      return\n    }\n    if (!node.parentNode) {\n      if (checkLevel('debug')) {\n        debugLog(`[insertAfter](${this.docId},${node.type},${node.ref}) `\n          + `Insert <${node.type}> to <${this.type}> (${this.ref}), after (${after.ref}).`)\n      }\n      linkParent(node, this)\n      insertIndex(node, this.children, this.children.indexOf(after) + 1, true)\n      /* istanbul ignore else */\n      if (this.docId) {\n        registerNode(this.docId, node)\n      }\n      if (node.nodeType === 1) {\n        const index = insertIndex(\n          node,\n          this.pureChildren,\n          this.pureChildren.indexOf(previousElement(after)) + 1\n        )\n        const taskCenter = getTaskCenter(this.docId)\n        /* istanbul ignore else */\n        if (taskCenter) {\n          return taskCenter.send(\n            'dom',\n            { action: 'addElement' },\n            [this.ref, node.toJSON(), index]\n          )\n        }\n      }\n    }\n    else {\n      moveIndex(node, this.children, this.children.indexOf(after) + 1, true)\n      if (node.nodeType === 1) {\n        const index = moveIndex(\n          node,\n          this.pureChildren,\n          this.pureChildren.indexOf(previousElement(after)) + 1\n        )\n        const taskCenter = getTaskCenter(this.docId)\n        if (taskCenter && index >= 0) {\n          return taskCenter.send(\n            'dom',\n            { action: 'moveElement' },\n            [node.ref, this.ref, index]\n          )\n        }\n      }\n    }\n  }\n\n  /**\n   * Remove a child node, and decide whether it should be destroyed.\n   * @param {object} node\n   * @param {boolean} preserved\n   */\n  removeChild (node, preserved) {\n    if (node.parentNode) {\n      removeIndex(node, this.children, true)\n      if (node.nodeType === 1) {\n        if (checkLevel('debug')) {\n          debugLog(`[removeChild](${this.docId},${node.type},${node.ref}) `\n            + `Remove <${node.type}> from <${this.type}> (${this.ref}).`)\n        }\n        removeIndex(node, this.pureChildren)\n        const taskCenter = getTaskCenter(this.docId)\n        if (taskCenter) {\n          taskCenter.send(\n            'dom',\n            { action: 'removeElement' },\n            [node.ref]\n          )\n        }\n      }\n    }\n    if (!preserved) {\n      node.destroy()\n    }\n  }\n\n  /**\n   * Clear all child nodes.\n   */\n  clear () {\n    const taskCenter = getTaskCenter(this.docId)\n    /* istanbul ignore else */\n    if (taskCenter) {\n      this.pureChildren.forEach(node => {\n        taskCenter.send(\n          'dom',\n          { action: 'removeElement' },\n          [node.ref]\n        )\n      })\n    }\n    this.children.forEach(node => {\n      node.destroy()\n    })\n    this.children.length = 0\n    this.pureChildren.length = 0\n  }\n\n  /**\n   * Set an attribute, and decide whether the task should be send to native.\n   * @param {string} key\n   * @param {string | number} value\n   * @param {boolean} silent\n   */\n  setAttr (key, value, silent) {\n    if (this.attr[key] === value && silent !== false) {\n      return\n    }\n    this.attr[key] = value\n    const taskCenter = getTaskCenter(this.docId)\n    if (!silent && taskCenter) {\n      const result = {}\n      result[key] = value\n      taskCenter.send(\n        'dom',\n        { action: 'updateAttrs' },\n        [this.ref, result]\n      )\n    }\n  }\n\n  /**\n   * Set batched attributes.\n   * @param {object} batchedAttrs\n   * @param {boolean} silent\n   */\n  setAttrs (batchedAttrs, silent) {\n    if (isEmpty(batchedAttrs)) return\n    const mutations = {}\n    for (const key in batchedAttrs) {\n      if (this.attr[key] !== batchedAttrs[key]) {\n        this.attr[key] = batchedAttrs[key]\n        mutations[key] = batchedAttrs[key]\n      }\n    }\n    if (!isEmpty(mutations)) {\n      const taskCenter = getTaskCenter(this.docId)\n      if (!silent && taskCenter) {\n        taskCenter.send(\n          'dom',\n          { action: 'updateAttrs' },\n          [this.ref, mutations]\n        )\n      }\n    }\n  }\n\n  /**\n   * Set a style property, and decide whether the task should be send to native.\n   * @param {string} key\n   * @param {string | number} value\n   * @param {boolean} silent\n   */\n  setStyle (key, value, silent) {\n    if (this.style[key] === value && silent !== false) {\n      return\n    }\n    this.style[key] = value\n    const taskCenter = getTaskCenter(this.docId)\n    if (!silent && taskCenter) {\n      const result = {}\n      result[key] = value\n      taskCenter.send(\n        'dom',\n        { action: 'updateStyle' },\n        [this.ref, result]\n      )\n    }\n  }\n\n  /**\n   * Set batched style properties.\n   * @param {object} batchedStyles\n   * @param {boolean} silent\n   */\n  setStyles (batchedStyles, silent) {\n    if (isEmpty(batchedStyles)) return\n    const mutations = {}\n    for (const key in batchedStyles) {\n      if (this.style[key] !== batchedStyles[key]) {\n        this.style[key] = batchedStyles[key]\n        mutations[key] = batchedStyles[key]\n      }\n    }\n    if (!isEmpty(mutations)) {\n      const taskCenter = getTaskCenter(this.docId)\n      if (!silent && taskCenter) {\n        taskCenter.send(\n          'dom',\n          { action: 'updateStyle' },\n          [this.ref, mutations]\n        )\n      }\n    }\n  }\n\n  /**\n   * Set style properties from class.\n   * @param {object} classStyle\n   */\n  setClassStyle (classStyle) {\n    // reset previous class style to empty string\n    for (const key in this.classStyle) {\n      this.classStyle[key] = ''\n    }\n\n    Object.assign(this.classStyle, classStyle)\n    const taskCenter = getTaskCenter(this.docId)\n    if (taskCenter) {\n      taskCenter.send(\n        'dom',\n        { action: 'updateStyle' },\n        [this.ref, this.toStyle()]\n      )\n    }\n  }\n\n  /**\n   * Add an event handler.\n   * @param {string} event type\n   * @param {function} event handler\n   */\n  addEvent (type, handler, params) {\n    if (!this.event) {\n      this.event = {}\n    }\n    if (!this.event[type]) {\n      if (checkLevel('debug')) {\n        debugLog(`[addEvent](${this.docId},${this.type},${this.ref}) `\n          + `Add \"${type}\" event on <${this.type}> (${this.ref}).`)\n      }\n      this.event[type] = { handler, params }\n      const taskCenter = getTaskCenter(this.docId)\n      if (taskCenter) {\n        taskCenter.send(\n          'dom',\n          { action: 'addEvent' },\n          [this.ref, type]\n        )\n      }\n    }\n  }\n\n  /**\n   * Remove an event handler.\n   * @param {string} event type\n   */\n  removeEvent (type) {\n    if (this.event && this.event[type]) {\n      if (checkLevel('debug')) {\n        debugLog(`[removeEvent](${this.docId},${this.type},${this.ref}) `\n          + `Remove \"${type}\" event on <${this.type}> (${this.ref}).`)\n      }\n      delete this.event[type]\n      const taskCenter = getTaskCenter(this.docId)\n      if (taskCenter) {\n        taskCenter.send(\n          'dom',\n          { action: 'removeEvent' },\n          [this.ref, type]\n        )\n      }\n    }\n  }\n\n  /**\n   * Fire an event manually.\n   * @param {string} type type\n   * @param {function} event handler\n   * @param {boolean} isBubble whether or not event bubble\n   * @param {boolean} options\n   * @return {} anything returned by handler function\n   */\n  fireEvent (type, event, isBubble, options) {\n    let result = null\n    let isStopPropagation = false\n    const eventDesc = this.event[type]\n    if (eventDesc && event) {\n      if (checkLevel('debug')) {\n        debugLog(`[fireEvent](${this.docId},${this.type},${this.ref}) `\n          + `Fire \"${type}\" event on <${this.type}> (${this.ref}).`)\n      }\n      const handler = eventDesc.handler\n      event.stopPropagation = () => {\n        isStopPropagation = true\n      }\n      try {\n        if (options && options.params) {\n          result = handler.call(this, ...options.params, event)\n        }\n        else {\n          result = handler.call(this, event)\n        }\n      }\n      catch (error) {\n        console.error(`[JS Framework] Failed to invoke the event handler of \"${type}\" `\n          + `on ${this.type} (${this.ref}):\\n ${error.toString()}`)\n        throw error\n      }\n    }\n\n    if (!isStopPropagation\n      && isBubble\n      && (BUBBLE_EVENTS.indexOf(type) !== -1)\n      && this.parentNode\n      && this.parentNode.fireEvent) {\n      event.currentTarget = this.parentNode\n      this.parentNode.fireEvent(type, event, isBubble) // no options\n    }\n\n    return result\n  }\n\n  /**\n   * Get all styles of current element.\n   * @return {object} style\n   */\n  toStyle () {\n    return Object.assign({}, this.classStyle, this.style)\n  }\n\n  /**\n   * Convert current element to JSON like object.\n   * @param {boolean} ignoreChildren whether to ignore child nodes, default false\n   * @return {object} element\n   */\n  toJSON (ignoreChildren = false) {\n    const result = {\n      ref: this.ref.toString(),\n      type: this.type,\n      attr: this.attr,\n      style: this.toStyle()\n    }\n    const event = []\n    for (const type in this.event) {\n      const { params } = this.event[type]\n      if (!params) {\n        event.push(type)\n      }\n      else {\n        event.push({ type, params })\n      }\n    }\n    if (event.length) {\n      result.event = event\n    }\n    if (!ignoreChildren && this.pureChildren.length) {\n      result.children = this.pureChildren.map((child) => child.toJSON())\n    }\n    return result\n  }\n\n  /**\n   * Convert to HTML element tag string.\n   * @return {stirng} html\n   */\n  toString () {\n    return '<' + this.type +\n    ' attr=' + JSON.stringify(this.attr) +\n    ' style=' + JSON.stringify(this.toStyle()) + '>' +\n    this.pureChildren.map((child) => child.toString()).join('') +\n    '</' + this.type + '>'\n  }\n}\n\nsetElement(Element)\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport CallbackManager from './CallbackManager'\nimport Element from '../vdom/Element'\nimport { typof, checkLevel, debugLog } from '../shared/utils'\nimport { normalizePrimitive } from './normalize'\n\nlet fallback = function () {}\n\n// The API of TaskCenter would be re-design.\nexport class TaskCenter {\n  constructor (id, sendTasks) {\n    Object.defineProperty(this, 'instanceId', {\n      enumerable: true,\n      value: String(id)\n    })\n    Object.defineProperty(this, 'callbackManager', {\n      enumerable: true,\n      value: new CallbackManager(id)\n    })\n    fallback = sendTasks || function () {}\n  }\n\n  callback (callbackId, data, ifKeepAlive) {\n    return this.callbackManager.consume(callbackId, data, ifKeepAlive)\n  }\n\n  registerHook (...args) {\n    return this.callbackManager.registerHook(...args)\n  }\n\n  triggerHook (...args) {\n    return this.callbackManager.triggerHook(...args)\n  }\n\n  updateData (componentId, newData, callback) {\n    this.send('module', {\n      module: 'dom',\n      method: 'updateComponentData'\n    }, [componentId, newData, callback])\n  }\n\n  destroyCallback () {\n    return this.callbackManager.close()\n  }\n\n  /**\n   * Normalize a value. Specially, if the value is a function, then generate a function id\n   * and save it to `CallbackManager`, at last return the function id.\n   * @param  {any}        v\n   * @return {primitive}\n   */\n  normalize (v, deep = false) {\n    const type = typof(v)\n    if (v && v instanceof Element) {\n      return v.ref\n    }\n    if (v && v._isVue && v.$el instanceof Element) {\n      return v.$el.ref\n    }\n    if (type === 'Function') {\n      return this.callbackManager.add(v).toString()\n    }\n    if (deep) {\n      if (type === 'Object') {\n        const object = {}\n        for (const key in v) {\n          object[key] = this.normalize(v[key], true)\n        }\n        return object\n      }\n      if (type === 'Array') {\n        return v.map(item => this.normalize(item, true))\n      }\n    }\n    if (v && v.ref && v['[[VirtualElement]]']) {\n      return v.ref\n    }\n    return normalizePrimitive(v)\n  }\n\n  send (type, params, args, options) {\n    const { action, component, ref, module, method } = params\n\n    // normalize args and options\n    args = args.map(arg => this.normalize(arg))\n    if (typof(options) === 'Object') {\n      options = this.normalize(options, true)\n    }\n\n    switch (type) {\n      case 'dom': {\n        if (checkLevel('debug')) {\n          debugLog(`[task](${this.instanceId},${this.type},${action}) ${JSON.stringify(args)}`)\n        }\n        return this[action](this.instanceId, args)\n      }\n      case 'component':\n        return this.componentHandler(this.instanceId, ref, method, args, Object.assign({ component }, options))\n      default: {\n        if (checkLevel('debug')) {\n          debugLog(`[task](${this.instanceId},${module},${method}) ${JSON.stringify(args)}`)\n        }\n        return this.moduleHandler(this.instanceId, module, method, args, options)\n      }\n    }\n  }\n\n  callDOM (action, args) {\n    return this[action](this.instanceId, args)\n  }\n\n  callComponent (ref, method, args, options) {\n    return this.componentHandler(this.instanceId, ref, method, args, options)\n  }\n\n  callModule (module, method, args, options) {\n    return this.moduleHandler(this.instanceId, module, method, args, options)\n  }\n}\n\nexport function init () {\n  const DOM_METHODS = {\n    createFinish: global.callCreateFinish,\n    updateFinish: global.callUpdateFinish,\n    refreshFinish: global.callRefreshFinish,\n\n    createBody: global.callCreateBody,\n\n    addElement: global.callAddElement,\n    removeElement: global.callRemoveElement,\n    moveElement: global.callMoveElement,\n    updateAttrs: global.callUpdateAttrs,\n    updateStyle: global.callUpdateStyle,\n\n    addEvent: global.callAddEvent,\n    removeEvent: global.callRemoveEvent,\n    __updateComponentData: global.__updateComponentData\n  }\n  const proto = TaskCenter.prototype\n\n  for (const name in DOM_METHODS) {\n    const method = DOM_METHODS[name]\n    proto[name] = method ?\n      (id, args) => method(id, ...args) :\n      (id, args) => fallback(id, [{ module: 'dom', method: name, args }], '-1')\n  }\n\n  proto.componentHandler = global.callNativeComponent ||\n    ((id, ref, method, args, options) =>\n      fallback(id, [{ component: options.component, ref, method, args }]))\n\n  proto.moduleHandler = global.callNativeModule ||\n    ((id, module, method, args) =>\n      fallback(id, [{ module, method, args }]))\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { getDoc } from '../vdom/operation'\n\nfunction fireEvent(document, nodeId, type, event, domChanges, params) {\n  // console.log(\"nodeId \" + nodeId + ' type ' + type)\n\n  const el = document.getRef(nodeId)\n  if (el) {\n    return document.fireEvent(el, type, event, domChanges, params)\n  }\n  else if (event) {\n    event._nodeId = nodeId\n    return document.fireEvent(document.getRef('_documentElement'), type, event, domChanges, params)\n  }\n}\n\nfunction callback(document, callbackId, data, ifKeepAlive) {\n  return document.taskCenter.callback(callbackId, data, ifKeepAlive)\n}\n\nfunction componentHook(document, componentId, type, hook, args) {\n  if (!document || !document.taskCenter) {\n    console.error(`[JS Framework] Can't find \"document\" or \"taskCenter\".`)\n    return null\n  }\n  let result = null\n  try {\n    result = document.taskCenter.triggerHook(componentId, type, hook, args)\n  }\n  catch (e) {\n    console.error(`[JS Framework] Failed to trigger the \"${type}@${hook}\" hook on ${componentId}.`)\n\n    // Still throw the exception anyway, it should be caught\n    // and processed by the native for consistent error collecting.\n    throw e\n  }\n  return result\n}\n\n/**\n * Accept calls from native (event or callback).\n *\n * @param  {string} id\n * @param  {array} tasks list with `method` and `args`\n */\nexport function receiveTasks(id, tasks) {\n  const document = getDoc(id)\n  // console.log(\"id = \" + id + ', tasks = ' + JSON.stringify(tasks));\n  if (!document) {\n    return new Error(`[JS Framework] Failed to receiveTasks, `\n      + `instance (${id}) is not available.`)\n  }\n  if (Array.isArray(tasks)) {\n    return tasks.map(task => {\n      console.log(\"task.args = \" + Array.isArray(task.args));\n      switch (task.method) {\n        case 'callback': return callback(document, ...task.args)\n        case 'fireEventSync':\n        case 'fireEvent': return fireEvent(document, ...task.args)\n        case 'componentHook': return componentHook(document, ...task.args)\n      }\n    })\n  }\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { typof, bufferToBase64, base64ToBuffer } from '../shared/utils'\n\n/**\n * Normalize a primitive value.\n * @param  {any}        v\n * @return {primitive}\n */\nexport function normalizePrimitive (v) {\n  const type = typof(v)\n\n  switch (type) {\n    case 'Undefined':\n    case 'Null':\n      return ''\n\n    case 'RegExp':\n      return v.toString()\n    case 'Date':\n      return v.toISOString()\n\n    case 'Number':\n    case 'String':\n    case 'Boolean':\n    case 'Array':\n    case 'Object':\n      return v\n\n    case 'ArrayBuffer':\n      return {\n        '@type': 'binary',\n        dataType: type,\n        base64: bufferToBase64(v)\n      }\n\n    case 'Int8Array':\n    case 'Uint8Array':\n    case 'Uint8ClampedArray':\n    case 'Int16Array':\n    case 'Uint16Array':\n    case 'Int32Array':\n    case 'Uint32Array':\n    case 'Float32Array':\n    case 'Float64Array':\n      return {\n        '@type': 'binary',\n        dataType: type,\n        base64: bufferToBase64(v.buffer)\n      }\n\n    default:\n      return JSON.stringify(v)\n  }\n}\n\nexport function decodePrimitive (data) {\n  if (typof(data) === 'Object') {\n    // decode base64 into binary\n    if (data['@type'] && data['@type'] === 'binary') {\n      return base64ToBuffer(data.base64 || '')\n    }\n\n    const realData = {}\n    for (const key in data) {\n      realData[key] = decodePrimitive(data[key])\n    }\n    return realData\n  }\n  if (typof(data) === 'Array') {\n    return data.map(decodePrimitive)\n  }\n  return data\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { hasOwn, isPlainObject } from '../shared/utils'\n\nconst weexModules = {}\n\n/**\n * Register native modules information.\n * @param {object} newModules\n */\nexport function registerModules (newModules = {}) {\n  for (const name in newModules) {\n    if (!hasOwn(weexModules, name)) {\n      weexModules[name] = {}\n    }\n    if (Array.isArray(newModules[name])) {\n      newModules[name].forEach(method => {\n        if (typeof method === 'string') {\n          weexModules[name][method] = true\n        }\n        else if (isPlainObject(method) && typeof method.name === 'string') {\n          weexModules[name][method.name] = method.args || []\n        }\n      })\n    }\n  }\n}\n\n/**\n * Check whether the module or the method has been registered.\n * @param {String} module name\n * @param {String} method name (optional)\n */\nexport function isRegisteredModule (name, method) {\n  if (typeof method === 'string') {\n    return !!(weexModules[name] && weexModules[name][method])\n  }\n  return !!weexModules[name]\n}\n\nexport function getModuleDescription (name) {\n  return weexModules[name]\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { isPlainObject } from '../shared/utils'\nimport { registerElement } from '../vdom/WeexElement'\n\nconst weexComponents = {}\n\n/**\n * Register native components information.\n * @param {array} newComponents\n */\nexport function registerComponents(newComponents) {\n  if (Array.isArray(newComponents)) {\n    newComponents.forEach(component => {\n      if (!component) {\n        return\n      }\n      if (typeof component === 'string') {\n        weexComponents[component] = true\n      }\n      else if (isPlainObject(component) && typeof component.type === 'string') {\n        weexComponents[component.type] = component\n        registerElement(component.type, component.methods)\n      }\n    })\n  }\n  return 'wtf'\n}\n\n/**\n * Check whether the component has been registered.\n * @param {String} component name\n */\nexport function isRegisteredComponent(name) {\n  return !!weexComponents[name]\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n// JS Services\n\nexport const services = []\n\n/**\n * Register a JavaScript service.\n * A JavaScript service options could have a set of lifecycle methods\n * for each Weex instance. For example: create, refresh, destroy.\n * For the JS framework maintainer if you want to supply some features\n * which need to work well in different Weex instances, even in different\n * frameworks separately. You can make a JavaScript service to init\n * its variables or classes for each Weex instance when it's created\n * and recycle them when it's destroyed.\n * @param {object} options Could have { create, refresh, destroy }\n *                         lifecycle methods. In create method it should\n *                         return an object of what variables or classes\n *                         would be injected into the Weex instance.\n */\nexport function register (name, options) {\n  if (has(name)) {\n    console.warn(`Service \"${name}\" has been registered already!`)\n  }\n  else {\n    options = Object.assign({}, options)\n    services.push({ name, options })\n  }\n}\n\n/**\n * Unregister a JavaScript service by name\n * @param {string} name\n */\nexport function unregister (name) {\n  services.some((service, index) => {\n    if (service.name === name) {\n      services.splice(index, 1)\n      return true\n    }\n  })\n}\n\n/**\n * Check if a JavaScript service with a certain name existed.\n * @param  {string}  name\n * @return {Boolean}\n */\nexport function has (name) {\n  return indexOf(name) >= 0\n}\n\n/**\n * Find the index of a JavaScript service by name\n * @param  {string} name\n * @return {number}\n */\nfunction indexOf (name) {\n  return services.map(service => service.name).indexOf(name)\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport Node from './Node'\nimport { uniqueId } from '../shared/utils'\n\nexport default class Comment extends Node {\n  constructor (value) {\n    super()\n\n    this.nodeType = 8\n    this.nodeId = uniqueId()\n    this.ref = this.nodeId\n    this.type = 'comment'\n    this.value = value\n    this.children = []\n    this.pureChildren = []\n  }\n\n  /**\n  * Convert to HTML comment string.\n  * @return {stirng} html\n  */\n  toString () {\n    return '<!-- ' + this.value + ' -->'\n  }\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n/**\n* Create the action object.\n* @param {string} name\n* @param {array} arguments\n* @return {object} action\n*/\nfunction createAction (name, args = []) {\n  return { module: 'dom', method: name, args: args }\n}\n\nexport default class Listener {\n  constructor (id, handler) {\n    this.id = id\n    this.batched = false\n    this.updates = []\n    if (typeof handler === 'function') {\n      Object.defineProperty(this, 'handler', {\n        configurable: true,\n        enumerable: true,\n        writable: true,\n        value: handler\n      })\n    }\n    else {\n      console.error('[JS Runtime] invalid parameter, handler must be a function')\n    }\n  }\n\n  /**\n   * Send the \"createFinish\" signal.\n   * @param {function} callback\n   * @return {undefined | number} the signal sent by native\n   */\n  createFinish (callback) {\n    const handler = this.handler\n    return handler([createAction('createFinish')], callback)\n  }\n\n  /**\n   * Send the \"updateFinish\" signal.\n   * @param {function} callback\n   * @return {undefined | number} the signal sent by native\n   */\n  updateFinish (callback) {\n    const handler = this.handler\n    return handler([createAction('updateFinish')], callback)\n  }\n\n  /**\n   * Send the \"refreshFinish\" signal.\n   * @param {function} callback\n   * @return {undefined | number} the signal sent by native\n   */\n  refreshFinish (callback) {\n    const handler = this.handler\n    return handler([createAction('refreshFinish')], callback)\n  }\n\n  /**\n   * Send the \"createBody\" signal.\n   * @param {object} element\n   * @return {undefined | number} the signal sent by native\n   */\n  createBody (element) {\n    const body = element.toJSON()\n    const children = body.children\n    delete body.children\n    const actions = [createAction('createBody', [body])]\n    if (children) {\n      actions.push.apply(actions, children.map(child => {\n        return createAction('addElement', [body.ref, child, -1])\n      }))\n    }\n    return this.addActions(actions)\n  }\n\n  /**\n   * Send the \"addElement\" signal.\n   * @param {object} element\n   * @param {stirng} reference id\n   * @param {number} index\n   * @return {undefined | number} the signal sent by native\n   */\n  addElement (element, ref, index) {\n    if (!(index >= 0)) {\n      index = -1\n    }\n    return this.addActions(createAction('addElement', [ref, element.toJSON(), index]))\n  }\n\n  /**\n   * Send the \"removeElement\" signal.\n   * @param {stirng} reference id\n   * @return {undefined | number} the signal sent by native\n   */\n  removeElement (ref) {\n    if (Array.isArray(ref)) {\n      const actions = ref.map((r) => createAction('removeElement', [r]))\n      return this.addActions(actions)\n    }\n    return this.addActions(createAction('removeElement', [ref]))\n  }\n\n  /**\n   * Send the \"moveElement\" signal.\n   * @param {stirng} target reference id\n   * @param {stirng} parent reference id\n   * @param {number} index\n   * @return {undefined | number} the signal sent by native\n   */\n  moveElement (targetRef, parentRef, index) {\n    return this.addActions(createAction('moveElement', [targetRef, parentRef, index]))\n  }\n\n  /**\n   * Send the \"updateAttrs\" signal.\n   * @param {stirng} reference id\n   * @param {stirng} key\n   * @param {stirng} value\n   * @return {undefined | number} the signal sent by native\n   */\n  setAttr (ref, key, value) {\n    const result = {}\n    result[key] = value\n    return this.addActions(createAction('updateAttrs', [ref, result]))\n  }\n\n  /**\n   * Send the \"updateStyle\" signal, update a sole style.\n   * @param {stirng} reference id\n   * @param {stirng} key\n   * @param {stirng} value\n   * @return {undefined | number} the signal sent by native\n   */\n  setStyle (ref, key, value) {\n    const result = {}\n    result[key] = value\n    return this.addActions(createAction('updateStyle', [ref, result]))\n  }\n\n  /**\n   * Send the \"updateStyle\" signal.\n   * @param {stirng} reference id\n   * @param {object} style\n   * @return {undefined | number} the signal sent by native\n   */\n  setStyles (ref, style) {\n    return this.addActions(createAction('updateStyle', [ref, style]))\n  }\n\n  /**\n   * Send the \"addEvent\" signal.\n   * @param {stirng} reference id\n   * @param {string} event type\n   * @return {undefined | number} the signal sent by native\n   */\n  addEvent (ref, type) {\n    return this.addActions(createAction('addEvent', [ref, type]))\n  }\n\n  /**\n   * Send the \"removeEvent\" signal.\n   * @param {stirng} reference id\n   * @param {string} event type\n   * @return {undefined | number} the signal sent by native\n   */\n  removeEvent (ref, type) {\n    return this.addActions(createAction('removeEvent', [ref, type]))\n  }\n\n  /**\n   * Default handler.\n   * @param {object | array} actions\n   * @param {function} callback\n   * @return {} anything returned by callback function\n   */\n  handler (actions, cb) {\n    return cb && cb()\n  }\n\n  /**\n   * Add actions into updates.\n   * @param {object | array} actions\n   * @return {undefined | number} the signal sent by native\n   */\n  addActions (actions) {\n    const updates = this.updates\n    const handler = this.handler\n\n    if (!Array.isArray(actions)) {\n      actions = [actions]\n    }\n\n    if (this.batched) {\n      updates.push.apply(updates, actions)\n    }\n    else {\n      return handler(actions)\n    }\n  }\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n/**\n * @fileOverview\n * Task handler for communication between javascript and native.\n */\n\nconst handlerMap = {\n  createBody: 'callCreateBody',\n  addElement: 'callAddElement',\n  removeElement: 'callRemoveElement',\n  moveElement: 'callMoveElement',\n  updateAttrs: 'callUpdateAttrs',\n  updateStyle: 'callUpdateStyle',\n  addEvent: 'callAddEvent',\n  removeEvent: 'callRemoveEvent'\n}\n\n/**\n * Create a task handler.\n * @param {string} id\n * @param {function} handler\n * @return {function} taskHandler\n */\nexport function createHandler (id, handler) {\n  const defaultHandler = handler || global.callNative\n\n  /* istanbul ignore if */\n  if (typeof defaultHandler !== 'function') {\n    console.error('[JS Runtime] no default handler')\n  }\n\n  return function taskHandler (tasks) {\n    /* istanbul ignore if */\n    if (!Array.isArray(tasks)) {\n      tasks = [tasks]\n    }\n    for (let i = 0; i < tasks.length; i++) {\n      const returnValue = dispatchTask(id, tasks[i], defaultHandler)\n      if (returnValue === -1) {\n        return returnValue\n      }\n    }\n  }\n}\n\n/**\n * Check if there is a corresponding available handler in the environment.\n * @param {string} module\n * @param {string} method\n * @return {boolean}\n */\nfunction hasAvailableHandler (module, method) {\n  return module === 'dom'\n    && handlerMap[method]\n    && typeof global[handlerMap[method]] === 'function'\n}\n\n/**\n * Dispatch the task to the specified handler.\n * @param {string} id\n * @param {object} task\n * @param {function} defaultHandler\n * @return {number} signal returned from native\n */\nfunction dispatchTask (id, task, defaultHandler) {\n  const { module, method, args } = task\n\n  if (hasAvailableHandler(module, method)) {\n    return global[handlerMap[method]](id, ...args, '-1')\n  }\n\n  return defaultHandler(id, [task], '-1')\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport Comment from './Comment'\nimport Element from './Element'\nimport Listener from '../bridge/Listener'\nimport { checkLevel, debugLog } from '../shared/utils'\nimport { TaskCenter } from '../bridge/TaskCenter'\nimport { createHandler } from '../bridge/Handler'\nimport { addDoc, removeDoc, appendBody, setBody } from './operation'\n\n/**\n * Update all changes for an element.\n * @param {object} element\n * @param {object} changes\n */\nfunction updateElement(el, changes) {\n  const attrs = changes.attrs || {}\n  for (const name in attrs) {\n    el.setAttr(name, attrs[name], true)\n  }\n  const style = changes.style || {}\n  for (const name in style) {\n    el.setStyle(name, style[name], true)\n  }\n}\n\nexport default class Document {\n  constructor(id, url, handler) {\n    id = id ? id.toString() : ''\n    this.id = id\n    this.URL = url\n\n    addDoc(id, this)\n    this.nodeMap = {}\n    const L = Document.Listener || Listener\n    this.listener = new L(id, handler || createHandler(id, Document.handler)) // deprecated\n    this.taskCenter = new TaskCenter(id, handler ? (id, ...args) => handler(...args) : Document.handler)\n    this.createDocumentElement()\n  }\n\n  /**\n  * Get the node from nodeMap.\n  * @param {string} reference id\n  * @return {object} node\n  */\n  getRef(ref) {\n    return this.nodeMap[ref]\n  }\n\n  /**\n  * Turn on batched updates.\n  */\n  open() {\n    this.listener.batched = false\n  }\n\n  /**\n  * Turn off batched updates.\n  */\n  close() {\n    this.listener.batched = true\n  }\n\n  /**\n  * Create the document element.\n  * @return {object} documentElement\n  */\n  createDocumentElement() {\n    if (!this.documentElement) {\n      const el = new Element('document')\n      el.docId = this.id\n      el.ownerDocument = this\n      el.role = 'documentElement'\n      el.depth = 0\n      el.ref = '_documentElement'\n      this.nodeMap._documentElement = el\n      this.documentElement = el\n\n      Object.defineProperty(el, 'appendChild', {\n        configurable: true,\n        enumerable: true,\n        writable: true,\n        value: (node) => {\n          appendBody(this, node)\n        }\n      })\n\n      Object.defineProperty(el, 'insertBefore', {\n        configurable: true,\n        enumerable: true,\n        writable: true,\n        value: (node, before) => {\n          appendBody(this, node, before)\n        }\n      })\n\n      if (checkLevel('debug')) {\n        debugLog(`Create document element (id: \"${el.docId}\", ref: \"${el.ref}\")`)\n      }\n    }\n\n    return this.documentElement\n  }\n\n  /**\n  * Create the body element.\n  * @param {string} type\n  * @param {objct} props\n  * @return {object} body element\n  */\n  createBody(type, props) {\n    if (!this.body) {\n      const el = new Element(type, props)\n      setBody(this, el)\n      if (checkLevel('debug')) {\n        debugLog(`[createBody](${this.id},${el.type},${el.ref}) `\n          + `(${JSON.stringify(el.toJSON(true))}).`)\n      }\n    }\n\n    return this.body\n  }\n\n  /**\n  * Create an element.\n  * @param {string} tagName\n  * @param {objct} props\n  * @return {object} element\n  */\n  createElement(tagName, props) {\n    const el = new Element(tagName, props)\n    if (checkLevel('debug')) {\n      debugLog(`[createElement](${this.id},${el.type},${el.ref}) `\n        + `(${JSON.stringify(el.toJSON(true))}).`)\n    }\n    return el\n  }\n\n  /**\n  * Create an comment.\n  * @param {string} text\n  * @return {object} comment\n  */\n  createComment(text) {\n    return new Comment(text)\n  }\n\n  /**\n  * Fire an event on specified element manually.\n  * @param {object} element\n  * @param {string} event type\n  * @param {object} event object\n  * @param {object} dom changes\n  * @param {object} options\n  * @return {} anything returned by handler function\n  */\n  fireEvent(el, type, event, domChanges, options) {\n    console.log(\"el \" + el + ' type ' + type + ' event ' + event)\n    if (!el) {\n      return\n    }\n    event = event || {}\n    event.type = event.type || type\n    event.target = el\n    event.currentTarget = el\n    event.timestamp = Date.now()\n    if (domChanges) {\n      updateElement(el, domChanges)\n    }\n    let isBubble\n    const $root = this.getRef('_root')\n    if ($root && $root.attr) {\n      isBubble = $root.attr['bubble'] === 'true'\n    }\n    return el.fireEvent(type, event, isBubble, options)\n  }\n\n  /**\n  * Destroy current document, and remove itself form docMap.\n  */\n  destroy() {\n    if (checkLevel('debug')) {\n      debugLog(`[destroy](${this.id},document,${this.ref}) `\n        + `Destroy document (id: \"${this.id}\", URL: \"${this.URL}\")`)\n    }\n    this.taskCenter.destroyCallback()\n    delete this.listener\n    delete this.nodeMap\n    delete this.taskCenter\n    removeDoc(this.id)\n  }\n}\n\n// default task handler\nDocument.handler = null\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport Document from '../vdom/Document'\nimport { isRegisteredModule, getModuleDescription } from './module'\nimport { isRegisteredComponent } from './component'\nimport { getTaskCenter } from '../vdom/operation'\n\nfunction setId (weex, id) {\n  Object.defineProperty(weex, '[[CurrentInstanceId]]', { value: id })\n}\n\nfunction getId (weex) {\n  return weex['[[CurrentInstanceId]]']\n}\n\nfunction moduleGetter (id, module, method) {\n  const taskCenter = getTaskCenter(id)\n  if (!taskCenter || typeof taskCenter.send !== 'function') {\n    console.error(`[JS Framework] Failed to find taskCenter (${id}).`)\n    return null\n  }\n  return (...args) => taskCenter.send('module', { module, method }, args)\n}\n\nfunction moduleSetter (id, module, method, fn) {\n  const taskCenter = getTaskCenter(id)\n  if (!taskCenter || typeof taskCenter.send !== 'function') {\n    console.error(`[JS Framework] Failed to find taskCenter (${id}).`)\n    return null\n  }\n  if (typeof fn !== 'function') {\n    console.error(`[JS Framework] ${module}.${method} must be assigned as a function.`)\n    return null\n  }\n  return fn => taskCenter.send('module', { module, method }, [fn])\n}\n\nexport default class WeexInstance {\n  constructor (id, config, data) {\n    setId(this, String(id))\n    this.config = config || {}\n    this._nativeData = data || {}\n    this.document = new Document(id, this.config.bundleUrl)\n    this.requireModule = this.requireModule.bind(this)\n    this.importScript = this.importScript.bind(this)\n    this.isRegisteredModule = isRegisteredModule\n    this.isRegisteredComponent = isRegisteredComponent\n  }\n\n  requireModule (moduleName) {\n    const id = getId(this)\n    if (!(id && this.document && this.document.taskCenter)) {\n      console.error(`[JS Framework] Failed to requireModule(\"${moduleName}\"), `\n        + `instance (${id}) doesn't exist anymore.`)\n      return\n    }\n\n    // warn for unknown module\n    if (!isRegisteredModule(moduleName)) {\n      console.warn(`[JS Framework] using unregistered weex module \"${moduleName}\"`)\n      return\n    }\n\n    // create registered module apis\n    const moduleProxy = {}\n    const moduleDefine = getModuleDescription(moduleName)\n    for (const methodName in moduleDefine) {\n      Object.defineProperty(moduleProxy, methodName, {\n        enumerable: true,\n        configurable: true,\n        get: () => moduleGetter(id, moduleName, methodName),\n        set: fn => moduleSetter(id, moduleName, methodName, fn)\n      })\n    }\n\n    return moduleProxy\n  }\n\n  supports (condition) {\n    if (typeof condition !== 'string') return null\n\n    const res = condition.match(/^@(\\w+)\\/([\\w-]+)(\\.(\\w+))?$/i)\n    if (res) {\n      const type = res[1]\n      const name = res[2]\n      const method = res[4]\n      switch (type) {\n        case 'module': return isRegisteredModule(name, method)\n        case 'component': return isRegisteredComponent(name)\n      }\n    }\n\n    return null\n  }\n\n  importScript (src, options = {}) {\n    const id = getId(this)\n    const taskCenter = getTaskCenter(id)\n    return new Promise(function (resolve, reject) {\n      if (!taskCenter || typeof taskCenter.send !== 'function') {\n        reject(new Error(`[JS Framework] Failed to import script \"${src}\", `\n          + `no taskCenter (${id}) matched.`))\n      }\n      try {\n        taskCenter.send('module', {\n          module: 'script',\n          method: 'importScript'\n        }, [src, options], {\n          callback: [\n            result => resolve(result),\n            error => reject(error)\n          ]\n        })\n      }\n      catch (e) {\n        reject(e)\n      }\n    })\n  }\n\n  // registerStyleSheet (styles) {\n  //   if (this.document) {\n  //     this.document.registerStyleSheet(styles)\n  //   }\n  // }\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { init as initTaskHandler } from '../bridge/TaskCenter'\nimport { receiveTasks } from '../bridge/receiver'\nimport { registerModules } from './module'\nimport { registerComponents } from './component'\nimport { services, register, unregister } from './service'\nimport WeexInstance from './WeexInstance'\nimport { getDoc } from '../vdom/operation'\n\nlet frameworks\nlet runtimeConfig\n\nconst versionRegExp = /^\\s*\\/\\/ *(\\{[^}]*\\}) *\\r?\\n/\n\n/**\n * Detect a JS Bundle code and make sure which framework it's based to. Each JS\n * Bundle should make sure that it starts with a line of JSON comment and is\n * more that one line.\n * @param  {string} code\n * @return {object}\n */\nfunction getBundleType(code) {\n  const result = versionRegExp.exec(code)\n  if (result) {\n    try {\n      const info = JSON.parse(result[1])\n      return info.framework\n    }\n    catch (e) { }\n  }\n\n  // default bundle type\n  return 'Weex'\n}\n\n/**\n * Get js framework version at runtime.\n */\nfunction getJSFMVersion() {\n  // It will be converted into a version string at build time\n  return __WEEX_JS_FRAMEWORK_VERSION__ // eslint-disable-line\n}\n\nfunction createServices(id, env, config) {\n  // Init JavaScript services for this instance.\n  const serviceMap = Object.create(null)\n  serviceMap.service = Object.create(null)\n  services.forEach(({ name, options }) => {\n    if (process.env.NODE_ENV === 'development') {\n      console.log(`[JS Runtime] create service ${name}.`)\n    }\n    const create = options.create\n    if (create) {\n      try {\n        const result = create(id, env, config)\n        Object.assign(serviceMap.service, result)\n        Object.assign(serviceMap, result.instance)\n      }\n      catch (e) {\n        console.error(`[JS Runtime] Failed to create service ${name}.`)\n      }\n    }\n  })\n  delete serviceMap.service.instance\n  Object.freeze(serviceMap.service)\n  return serviceMap\n}\n\nconst instanceTypeMap = {}\nfunction getFrameworkType(id) {\n  return instanceTypeMap[id]\n}\n\nfunction createInstanceContext(id, options = {}, data) {\n  console.log('createInstanceContext id = ' + id + ', options = ' + JSON.stringify(options) + ', data = ' + JSON.stringify(data));\n\n  const weex = new WeexInstance(id, options, data)\n\n  const bundleType = options.bundleType || 'Vue'\n  instanceTypeMap[id] = bundleType\n  const framework = runtimeConfig.frameworks[bundleType]\n  if (!framework) {\n    return new Error(`[JS Framework] Invalid bundle type \"${bundleType}\".`)\n  }\n\n  // prepare js service\n  const services = createServices(id, {\n    weex,\n    config: options,\n    created: Date.now(),\n    framework: bundleType,\n    bundleType\n  }, runtimeConfig)\n  Object.freeze(services)\n\n  // prepare runtime context\n  const runtimeContext = Object.create(null)\n  Object.assign(runtimeContext, services, {\n    weex,\n    getJSFMVersion,\n    requireModule: (...args) => weex.requireModule(...args),\n    __WEEX_CALL_JAVASCRIPT__: receiveTasks,\n    services // Temporary compatible with some legacy APIs in Rax\n  })\n  Object.freeze(runtimeContext)\n\n  // prepare instance context\n  const instanceContext = Object.assign({}, runtimeContext)\n  if (typeof framework.createInstanceContext === 'function') {\n    Object.assign(instanceContext, framework.createInstanceContext(id, runtimeContext, data))\n  }\n  Object.freeze(instanceContext)\n  return instanceContext\n}\n\n/**\n * Check which framework a certain JS Bundle code based to. And create instance\n * by this framework.\n * @param {string} id\n * @param {string} code\n * @param {object} config\n * @param {object} data\n */\nfunction createInstance(id, code, config, data) {\n  if (instanceTypeMap[id]) {\n    return new Error(`The instance id \"${id}\" has already been used!`)\n  }\n\n  // Init instance info.\n  const bundleType = getBundleType(code)\n  instanceTypeMap[id] = bundleType\n\n  // Init instance config.\n  config = JSON.parse(JSON.stringify(config || {}))\n  config.env = JSON.parse(JSON.stringify(global.WXEnvironment || {}))\n  config.bundleType = bundleType\n\n  const framework = runtimeConfig.frameworks[bundleType]\n  if (!framework) {\n    return new Error(`[JS Framework] Invalid bundle type \"${bundleType}\".`)\n  }\n  if (bundleType === 'Weex') {\n    console.error(`[JS Framework] COMPATIBILITY WARNING: `\n      + `Weex DSL 1.0 (.we) framework is no longer supported! `\n      + `It will be removed in the next version of WeexSDK, `\n      + `your page would be crash if you still using the \".we\" framework. `\n      + `Please upgrade it to Vue.js or Rax.`)\n  }\n\n  const instanceContext = createInstanceContext(id, config, data)\n  if (typeof framework.createInstance === 'function') {\n    // Temporary compatible with some legacy APIs in Rax,\n    // some Rax page is using the legacy \".we\" framework.\n    if (bundleType === 'Rax' || bundleType === 'Weex') {\n      const raxInstanceContext = Object.assign({\n        config,\n        created: Date.now(),\n        framework: bundleType\n      }, instanceContext)\n      return framework.createInstance(id, code, config, data, raxInstanceContext)\n    }\n    return framework.createInstance(id, code, config, data, instanceContext)\n  }\n  // console.error(`[JS Framework] Can't find available \"createInstance\" method in ${bundleType}!`)\n  runInContext(code, instanceContext)\n}\n\n/**\n * Run js code in a specific context.\n * @param {string} code\n * @param {object} context\n */\nfunction runInContext(code, context) {\n  const keys = []\n  const args = []\n  for (const key in context) {\n    keys.push(key)\n    args.push(context[key])\n  }\n\n  const bundle = `\n    (function (global) {\n      ${code}\n    })(Object.create(this))\n  `\n\n  return (new Function(...keys, bundle))(...args)\n}\n\n/**\n * Get the JSON object of the root element.\n * @param {string} instanceId\n */\nfunction getRoot(instanceId) {\n  const document = getDoc(instanceId)\n  try {\n    if (document && document.body) {\n      return document.body.toJSON()\n    }\n  }\n  catch (e) {\n    console.error(`[JS Framework] Failed to get the virtual dom tree.`)\n    return\n  }\n}\n\nconst methods = {\n  createInstance,\n  createInstanceContext,\n  getRoot,\n  getJSFMVersion,\n  getDocument: getDoc,\n  registerService: register,\n  unregisterService: unregister,\n  callJS(id, tasks) {\n    const framework = frameworks[getFrameworkType(id)]\n    if (framework && typeof framework.receiveTasks === 'function') {\n      return framework.receiveTasks(id, tasks)\n    }\n    return receiveTasks(id, tasks)\n  }\n}\n\n/**\n * Register methods which will be called for each instance.\n * @param {string} methodName\n */\nfunction genInstance(methodName) {\n  methods[methodName] = function (...args) {\n    const id = args[0]\n    const type = getFrameworkType(id)\n    if (type && frameworks[type]) {\n      const result = frameworks[type][methodName](...args)\n      const info = { framework: type }\n\n      // Lifecycle methods\n      if (methodName === 'refreshInstance') {\n        services.forEach(service => {\n          const refresh = service.options.refresh\n          if (refresh) {\n            refresh(id, { info, runtime: runtimeConfig })\n          }\n        })\n      }\n      else if (methodName === 'destroyInstance') {\n        services.forEach(service => {\n          const destroy = service.options.destroy\n          if (destroy) {\n            destroy(id, { info, runtime: runtimeConfig })\n          }\n        })\n        delete instanceTypeMap[id]\n      }\n\n      return result\n    }\n    return new Error(`[JS Framework] Using invalid instance id `\n      + `\"${id}\" when calling ${methodName}.`)\n  }\n}\n\n/**\n * Register methods which init each frameworks.\n * @param {string} methodName\n * @param {function} sharedMethod\n */\nfunction adaptMethod(methodName, sharedMethod) {\n  methods[methodName] = function (...args) {\n    if (typeof sharedMethod === 'function') {\n      sharedMethod(...args)\n    }\n\n    // TODO: deprecated\n    for (const name in runtimeConfig.frameworks) {\n      const framework = runtimeConfig.frameworks[name]\n      if (framework && framework[methodName]) {\n        framework[methodName](...args)\n      }\n    }\n  }\n}\n\nexport default function init(config) {\n  runtimeConfig = config || {}\n  frameworks = runtimeConfig.frameworks || {}\n  initTaskHandler()\n\n  // Init each framework by `init` method and `config` which contains three\n  // virtual-DOM Class: `Document`, `Element` & `Comment`, and a JS bridge method:\n  // `sendTasks(...args)`.\n  for (const name in frameworks) {\n    const framework = frameworks[name]\n    if (typeof framework.init === 'function') {\n      try {\n        framework.init(config)\n      }\n      catch (e) { }\n    }\n  }\n\n  adaptMethod('registerComponents', registerComponents)\n  adaptMethod('registerModules', registerModules)\n  adaptMethod('registerMethods')\n\n    ;['destroyInstance', 'refreshInstance'].forEach(genInstance)\n\n  return methods\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { Document, Element, Comment } from '../vdom'\nimport Listener from '../bridge/Listener'\nimport { TaskCenter } from '../bridge/TaskCenter'\n\nconst config = {\n  Document, Element, Comment, Listener,\n  TaskCenter,\n  sendTasks(...args) {\n    if (typeof callNative === 'function') {\n      console.log('sendTasks 0000 ' + JSON.stringify(args))\n      return callNative(...args)\n    }\n    console.log('sendTasks 11111' + JSON.stringify(args))\n    return (global.callNative || (() => { }))(...args)\n  }\n}\n\nDocument.handler = config.sendTasks\n\nexport default config\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport init from './init'\nimport config from './config'\nimport { register, unregister, has } from './service'\n\n/* istanbul ignore next */\nfunction freezePrototype () {\n  // Object.freeze(config.Element)\n  Object.freeze(config.Comment)\n  Object.freeze(config.Listener)\n  Object.freeze(config.Document.prototype)\n  // Object.freeze(config.Element.prototype)\n  Object.freeze(config.Comment.prototype)\n  Object.freeze(config.Listener.prototype)\n}\n\nexport default {\n  service: { register, unregister, has },\n  freezePrototype,\n  init,\n  config\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n/**\n * Mock MessageEvent type\n * @param {string} type\n * @param {object} dict { data, origin, source, ports }\n *\n * This type has been simplified.\n * https://html.spec.whatwg.org/multipage/comms.html#messageevent\n * https://dom.spec.whatwg.org/#interface-event\n */\nexport function MessageEvent (type, dict = {}) {\n  this.type = type || 'message'\n\n  this.data = dict.data || null\n  this.origin = dict.origin || ''\n  this.source = dict.source || null\n  this.ports = dict.ports || []\n\n  // inherit properties\n  this.target = null\n  this.timeStamp = Date.now()\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n/**\n * @fileOverview\n * The polyfill of BroadcastChannel API.\n * This api can be used to achieve inter-instance communications.\n *\n * https://html.spec.whatwg.org/multipage/comms.html#broadcasting-to-other-browsing-contexts\n */\n\nimport { MessageEvent } from './message-event'\n\nconst channels = {}\nconst instances = {}\n\n/**\n * An empty constructor for BroadcastChannel polyfill.\n * The real constructor will be defined when a Weex instance created because\n * we need to track the channel by Weex instance id.\n */\nfunction BroadcastChannel () {}\n\n/**\n * Sends the given message to other BroadcastChannel objects set up for this channel.\n * @param {any} message\n */\nBroadcastChannel.prototype.postMessage = function (message) {\n  if (this._closed) {\n    throw new Error(`BroadcastChannel \"${this.name}\" is closed.`)\n  }\n\n  const subscribers = channels[this.name]\n  if (subscribers && subscribers.length) {\n    for (let i = 0; i < subscribers.length; ++i) {\n      const member = subscribers[i]\n\n      if (member._closed || member === this) continue\n\n      if (typeof member.onmessage === 'function') {\n        member.onmessage(new MessageEvent('message', { data: message }))\n      }\n    }\n  }\n}\n\n/**\n * Closes the BroadcastChannel object, opening it up to garbage collection.\n */\nBroadcastChannel.prototype.close = function () {\n  if (this._closed) {\n    return\n  }\n\n  this._closed = true\n\n  // remove itself from channels.\n  if (channels[this.name]) {\n    const subscribers = channels[this.name].filter(x => x !== this)\n    if (subscribers.length) {\n      channels[this.name] = subscribers\n    }\n    else {\n      delete channels[this.name]\n    }\n  }\n}\n\nexport default {\n  create: (id, env, config) => {\n    instances[id] = []\n    if (typeof global.BroadcastChannel === 'function') {\n      return {}\n    }\n    const serviceObject = {\n      /**\n       * Returns a new BroadcastChannel object via which messages for the given\n       * channel name can be sent and received.\n       * @param {string} name\n       */\n      BroadcastChannel: function (name) {\n        // the name property is readonly\n        Object.defineProperty(this, 'name', {\n          configurable: false,\n          enumerable: true,\n          writable: false,\n          value: String(name)\n        })\n\n        this._closed = false\n        this.onmessage = null\n\n        if (!channels[this.name]) {\n          channels[this.name] = []\n        }\n        channels[this.name].push(this)\n        instances[id].push(this)\n      }\n    }\n    serviceObject.BroadcastChannel.prototype = BroadcastChannel.prototype\n    return {\n      instance: serviceObject\n    }\n  },\n  destroy: (id, env) => {\n    instances[id].forEach(channel => channel.close())\n    delete instances[id]\n  }\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport BroadcastChannel from './broadcast-channel/index'\n\nexport default {\n  BroadcastChannel\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nconst config = {}\n\nconst instanceMap = {}\n\nexport function init (cfg) {\n  config.Document = cfg.Document\n  config.Element = cfg.Element\n  config.Comment = cfg.Comment\n  config.sendTasks = cfg.sendTasks\n}\n\nexport function createInstance (id, code, options = {}, data = {}, serviceObjects = {}) {\n  const document = new config.Document(id, options.bundleUrl)\n  const callbacks = {}\n  const instance = { id, data, document, callbacks }\n\n  let lastCallbackId = 0\n  document.addCallback = func => {\n    lastCallbackId++\n    callbacks[lastCallbackId] = func\n    return lastCallbackId\n  }\n  document.handleCallback = (funcId, data, ifLast) => {\n    const callback = callbacks[funcId]\n    if (ifLast) {\n      delete callbacks[funcId]\n    }\n    return callback(data)\n  }\n  instanceMap[id] = instance\n\n  const globalObjects = Object.assign({\n    Document: config.Document,\n    Element: config.Element,\n    Comment: config.Comment,\n    sendTasks: tasks => config.sendTasks(id, tasks, -1),\n    options,\n    document\n  }, serviceObjects)\n\n  const globalKeys = []\n  const globalValues = []\n  for (const key in globalObjects) {\n    globalKeys.push(key)\n    globalValues.push(globalObjects[key])\n  }\n  globalKeys.push(code)\n\n  const result = new Function(...globalKeys)\n  result(...globalValues)\n\n  config.sendTasks(id, [{ module: 'dom', method: 'createFinish', args: [] }], -1)\n\n  return instance\n}\n\nexport function destroyInstance (id) {\n  delete instanceMap[id]\n}\n\nexport function getRoot (id) {\n  return instanceMap[id].document.body.toJSON()\n}\n\nexport function receiveTasks (id, tasks) {\n  const jsHandlers = {\n    fireEvent: (id, ref, type, data, domChanges) => {\n      const { document } = instanceMap[id]\n      const el = document.getRef(ref)\n      return document.fireEvent(el, type, data, domChanges)\n    },\n\n    callback: (id, funcId, data, ifLast) => {\n      const { document } = instanceMap[id]\n      return document.handleCallback(funcId, data, ifLast)\n    }\n  }\n\n  const { document } = instanceMap[id] || {}\n  if (document && Array.isArray(tasks)) {\n    const results = []\n    tasks.forEach((task) => {\n      const handler = jsHandlers[task.method]\n      const args = [...task.args]\n      if (typeof handler === 'function') {\n        args.unshift(id)\n        results.push(handler(...args))\n      }\n    })\n    return results\n  }\n}\n","'use strict';\n\n\n\nmodule.exports = function weexFactory (exports, document) {\n\n/*  */\n\nvar emptyObject = Object.freeze({});\n\n// These helpers produce better VM code in JS engines due to their\n// explicitness and function inlining.\nfunction isUndef (v) {\n  return v === undefined || v === null\n}\n\nfunction isDef (v) {\n  return v !== undefined && v !== null\n}\n\nfunction isTrue (v) {\n  return v === true\n}\n\nfunction isFalse (v) {\n  return v === false\n}\n\n/**\n * Check if value is primitive.\n */\nfunction isPrimitive (value) {\n  return (\n    typeof value === 'string' ||\n    typeof value === 'number' ||\n    // $flow-disable-line\n    typeof value === 'symbol' ||\n    typeof value === 'boolean'\n  )\n}\n\n/**\n * Quick object check - this is primarily used to tell\n * Objects from primitive values when we know the value\n * is a JSON-compliant type.\n */\nfunction isObject (obj) {\n  return obj !== null && typeof obj === 'object'\n}\n\n/**\n * Get the raw type string of a value, e.g., [object Object].\n */\nvar _toString = Object.prototype.toString;\n\nfunction toRawType (value) {\n  return _toString.call(value).slice(8, -1)\n}\n\n/**\n * Strict object type check. Only returns true\n * for plain JavaScript objects.\n */\nfunction isPlainObject (obj) {\n  return _toString.call(obj) === '[object Object]'\n}\n\nfunction isRegExp (v) {\n  return _toString.call(v) === '[object RegExp]'\n}\n\n/**\n * Check if val is a valid array index.\n */\nfunction isValidArrayIndex (val) {\n  var n = parseFloat(String(val));\n  return n >= 0 && Math.floor(n) === n && isFinite(val)\n}\n\nfunction isPromise (val) {\n  return (\n    isDef(val) &&\n    typeof val.then === 'function' &&\n    typeof val.catch === 'function'\n  )\n}\n\n/**\n * Convert a value to a string that is actually rendered.\n */\nfunction toString (val) {\n  return val == null\n    ? ''\n    : Array.isArray(val) || (isPlainObject(val) && val.toString === _toString)\n      ? JSON.stringify(val, null, 2)\n      : String(val)\n}\n\n/**\n * Convert an input value to a number for persistence.\n * If the conversion fails, return original string.\n */\nfunction toNumber (val) {\n  var n = parseFloat(val);\n  return isNaN(n) ? val : n\n}\n\n/**\n * Make a map and return a function for checking if a key\n * is in that map.\n */\nfunction makeMap (\n  str,\n  expectsLowerCase\n) {\n  var map = Object.create(null);\n  var list = str.split(',');\n  for (var i = 0; i < list.length; i++) {\n    map[list[i]] = true;\n  }\n  return expectsLowerCase\n    ? function (val) { return map[val.toLowerCase()]; }\n    : function (val) { return map[val]; }\n}\n\n/**\n * Check if a tag is a built-in tag.\n */\nvar isBuiltInTag = makeMap('slot,component', true);\n\n/**\n * Check if an attribute is a reserved attribute.\n */\nvar isReservedAttribute = makeMap('key,ref,slot,slot-scope,is');\n\n/**\n * Remove an item from an array.\n */\nfunction remove (arr, item) {\n  if (arr.length) {\n    var index = arr.indexOf(item);\n    if (index > -1) {\n      return arr.splice(index, 1)\n    }\n  }\n}\n\n/**\n * Check whether an object has the property.\n */\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction hasOwn (obj, key) {\n  return hasOwnProperty.call(obj, key)\n}\n\n/**\n * Create a cached version of a pure function.\n */\nfunction cached (fn) {\n  var cache = Object.create(null);\n  return (function cachedFn (str) {\n    var hit = cache[str];\n    return hit || (cache[str] = fn(str))\n  })\n}\n\n/**\n * Camelize a hyphen-delimited string.\n */\nvar camelizeRE = /-(\\w)/g;\nvar camelize = cached(function (str) {\n  return str.replace(camelizeRE, function (_, c) { return c ? c.toUpperCase() : ''; })\n});\n\n/**\n * Capitalize a string.\n */\nvar capitalize = cached(function (str) {\n  return str.charAt(0).toUpperCase() + str.slice(1)\n});\n\n/**\n * Hyphenate a camelCase string.\n */\nvar hyphenateRE = /\\B([A-Z])/g;\nvar hyphenate = cached(function (str) {\n  return str.replace(hyphenateRE, '-$1').toLowerCase()\n});\n\n/**\n * Simple bind polyfill for environments that do not support it,\n * e.g., PhantomJS 1.x. Technically, we don't need this anymore\n * since native bind is now performant enough in most browsers.\n * But removing it would mean breaking code that was able to run in\n * PhantomJS 1.x, so this must be kept for backward compatibility.\n */\n\n/* istanbul ignore next */\nfunction polyfillBind (fn, ctx) {\n  function boundFn (a) {\n    var l = arguments.length;\n    return l\n      ? l > 1\n        ? fn.apply(ctx, arguments)\n        : fn.call(ctx, a)\n      : fn.call(ctx)\n  }\n\n  boundFn._length = fn.length;\n  return boundFn\n}\n\nfunction nativeBind (fn, ctx) {\n  return fn.bind(ctx)\n}\n\nvar bind = Function.prototype.bind\n  ? nativeBind\n  : polyfillBind;\n\n/**\n * Convert an Array-like object to a real Array.\n */\nfunction toArray (list, start) {\n  start = start || 0;\n  var i = list.length - start;\n  var ret = new Array(i);\n  while (i--) {\n    ret[i] = list[i + start];\n  }\n  return ret\n}\n\n/**\n * Mix properties into target object.\n */\nfunction extend (to, _from) {\n  for (var key in _from) {\n    to[key] = _from[key];\n  }\n  return to\n}\n\n/**\n * Merge an Array of Objects into a single Object.\n */\nfunction toObject (arr) {\n  var res = {};\n  for (var i = 0; i < arr.length; i++) {\n    if (arr[i]) {\n      extend(res, arr[i]);\n    }\n  }\n  return res\n}\n\n/* eslint-disable no-unused-vars */\n\n/**\n * Perform no operation.\n * Stubbing args to make Flow happy without leaving useless transpiled code\n * with ...rest (https://flow.org/blog/2017/05/07/Strict-Function-Call-Arity/).\n */\nfunction noop (a, b, c) {}\n\n/**\n * Always return false.\n */\nvar no = function (a, b, c) { return false; };\n\n/* eslint-enable no-unused-vars */\n\n/**\n * Return the same value.\n */\nvar identity = function (_) { return _; };\n\n/**\n * Check if two values are loosely equal - that is,\n * if they are plain objects, do they have the same shape?\n */\nfunction looseEqual (a, b) {\n  if (a === b) { return true }\n  var isObjectA = isObject(a);\n  var isObjectB = isObject(b);\n  if (isObjectA && isObjectB) {\n    try {\n      var isArrayA = Array.isArray(a);\n      var isArrayB = Array.isArray(b);\n      if (isArrayA && isArrayB) {\n        return a.length === b.length && a.every(function (e, i) {\n          return looseEqual(e, b[i])\n        })\n      } else if (a instanceof Date && b instanceof Date) {\n        return a.getTime() === b.getTime()\n      } else if (!isArrayA && !isArrayB) {\n        var keysA = Object.keys(a);\n        var keysB = Object.keys(b);\n        return keysA.length === keysB.length && keysA.every(function (key) {\n          return looseEqual(a[key], b[key])\n        })\n      } else {\n        /* istanbul ignore next */\n        return false\n      }\n    } catch (e) {\n      /* istanbul ignore next */\n      return false\n    }\n  } else if (!isObjectA && !isObjectB) {\n    return String(a) === String(b)\n  } else {\n    return false\n  }\n}\n\n/**\n * Return the first index at which a loosely equal value can be\n * found in the array (if value is a plain object, the array must\n * contain an object of the same shape), or -1 if it is not present.\n */\nfunction looseIndexOf (arr, val) {\n  for (var i = 0; i < arr.length; i++) {\n    if (looseEqual(arr[i], val)) { return i }\n  }\n  return -1\n}\n\n/**\n * Ensure a function is called only once.\n */\nfunction once (fn) {\n  var called = false;\n  return function () {\n    if (!called) {\n      called = true;\n      fn.apply(this, arguments);\n    }\n  }\n}\n\nvar SSR_ATTR = 'data-server-rendered';\n\nvar ASSET_TYPES = [\n  'component',\n  'directive',\n  'filter'\n];\n\nvar LIFECYCLE_HOOKS = [\n  'beforeCreate',\n  'created',\n  'beforeMount',\n  'mounted',\n  'beforeUpdate',\n  'updated',\n  'beforeDestroy',\n  'destroyed',\n  'activated',\n  'deactivated',\n  'errorCaptured',\n  'serverPrefetch'\n];\n\n/*  */\n\n\n\nvar config = ({\n  /**\n   * Option merge strategies (used in core/util/options)\n   */\n  // $flow-disable-line\n  optionMergeStrategies: Object.create(null),\n\n  /**\n   * Whether to suppress warnings.\n   */\n  silent: false,\n\n  /**\n   * Show production mode tip message on boot?\n   */\n  productionTip: process.env.NODE_ENV !== 'production',\n\n  /**\n   * Whether to enable devtools\n   */\n  devtools: process.env.NODE_ENV !== 'production',\n\n  /**\n   * Whether to record perf\n   */\n  performance: false,\n\n  /**\n   * Error handler for watcher errors\n   */\n  errorHandler: null,\n\n  /**\n   * Warn handler for watcher warns\n   */\n  warnHandler: null,\n\n  /**\n   * Ignore certain custom elements\n   */\n  ignoredElements: [],\n\n  /**\n   * Custom user key aliases for v-on\n   */\n  // $flow-disable-line\n  keyCodes: Object.create(null),\n\n  /**\n   * Check if a tag is reserved so that it cannot be registered as a\n   * component. This is platform-dependent and may be overwritten.\n   */\n  isReservedTag: no,\n\n  /**\n   * Check if an attribute is reserved so that it cannot be used as a component\n   * prop. This is platform-dependent and may be overwritten.\n   */\n  isReservedAttr: no,\n\n  /**\n   * Check if a tag is an unknown element.\n   * Platform-dependent.\n   */\n  isUnknownElement: no,\n\n  /**\n   * Get the namespace of an element\n   */\n  getTagNamespace: noop,\n\n  /**\n   * Parse the real tag name for the specific platform.\n   */\n  parsePlatformTagName: identity,\n\n  /**\n   * Check if an attribute must be bound using property, e.g. value\n   * Platform-dependent.\n   */\n  mustUseProp: no,\n\n  /**\n   * Perform updates asynchronously. Intended to be used by Vue Test Utils\n   * This will significantly reduce performance if set to false.\n   */\n  async: true,\n\n  /**\n   * Exposed for legacy reasons\n   */\n  _lifecycleHooks: LIFECYCLE_HOOKS\n});\n\n/*  */\n\n/**\n * unicode letters used for parsing html tags, component names and property paths.\n * using https://www.w3.org/TR/html53/semantics-scripting.html#potentialcustomelementname\n * skipping \\u10000-\\uEFFFF due to it freezing up PhantomJS\n */\nvar unicodeRegExp = /a-zA-Z\\u00B7\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u203F-\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD/;\n\n/**\n * Check if a string starts with $ or _\n */\nfunction isReserved (str) {\n  var c = (str + '').charCodeAt(0);\n  return c === 0x24 || c === 0x5F\n}\n\n/**\n * Define a property.\n */\nfunction def (obj, key, val, enumerable) {\n  Object.defineProperty(obj, key, {\n    value: val,\n    enumerable: !!enumerable,\n    writable: true,\n    configurable: true\n  });\n}\n\n/**\n * Parse simple path.\n */\nvar bailRE = new RegExp((\"[^\" + (unicodeRegExp.source) + \".$_\\\\d]\"));\nfunction parsePath (path) {\n  if (bailRE.test(path)) {\n    return\n  }\n  var segments = path.split('.');\n  return function (obj) {\n    for (var i = 0; i < segments.length; i++) {\n      if (!obj) { return }\n      obj = obj[segments[i]];\n    }\n    return obj\n  }\n}\n\n/*  */\n\n// can we use __proto__?\nvar hasProto = '__proto__' in {};\n\n// Browser environment sniffing\nvar inBrowser = typeof window !== 'undefined';\nvar inWeex = typeof WXEnvironment !== 'undefined' && !!WXEnvironment.platform;\nvar weexPlatform = inWeex && WXEnvironment.platform.toLowerCase();\nvar UA = inBrowser && window.navigator.userAgent.toLowerCase();\nvar isIE = UA && /msie|trident/.test(UA);\nvar isIE9 = UA && UA.indexOf('msie 9.0') > 0;\nvar isEdge = UA && UA.indexOf('edge/') > 0;\nvar isAndroid = (UA && UA.indexOf('android') > 0) || (weexPlatform === 'android');\nvar isIOS = (UA && /iphone|ipad|ipod|ios/.test(UA)) || (weexPlatform === 'ios');\nvar isChrome = UA && /chrome\\/\\d+/.test(UA) && !isEdge;\nvar isPhantomJS = UA && /phantomjs/.test(UA);\nvar isFF = UA && UA.match(/firefox\\/(\\d+)/);\n\n// Firefox has a \"watch\" function on Object.prototype...\nvar nativeWatch = ({}).watch;\n\nvar supportsPassive = false;\nif (inBrowser) {\n  try {\n    var opts = {};\n    Object.defineProperty(opts, 'passive', ({\n      get: function get () {\n        /* istanbul ignore next */\n        supportsPassive = true;\n      }\n    })); // https://github.com/facebook/flow/issues/285\n    window.addEventListener('test-passive', null, opts);\n  } catch (e) {}\n}\n\n// this needs to be lazy-evaled because vue may be required before\n// vue-server-renderer can set VUE_ENV\nvar _isServer;\nvar isServerRendering = function () {\n  if (_isServer === undefined) {\n    /* istanbul ignore if */\n    if (!inBrowser && !inWeex && typeof global !== 'undefined') {\n      // detect presence of vue-server-renderer and avoid\n      // Webpack shimming the process\n      _isServer = global['process'] && global['process'].env.VUE_ENV === 'server';\n    } else {\n      _isServer = false;\n    }\n  }\n  return _isServer\n};\n\n// detect devtools\nvar devtools = inBrowser && window.__VUE_DEVTOOLS_GLOBAL_HOOK__;\n\n/* istanbul ignore next */\nfunction isNative (Ctor) {\n  return typeof Ctor === 'function' && /native code/.test(Ctor.toString())\n}\n\nvar hasSymbol =\n  typeof Symbol !== 'undefined' && isNative(Symbol) &&\n  typeof Reflect !== 'undefined' && isNative(Reflect.ownKeys);\n\nvar _Set;\n/* istanbul ignore if */ // $flow-disable-line\nif (typeof Set !== 'undefined' && isNative(Set)) {\n  // use native Set when available.\n  _Set = Set;\n} else {\n  // a non-standard Set polyfill that only works with primitive keys.\n  _Set = /*@__PURE__*/(function () {\n    function Set () {\n      this.set = Object.create(null);\n    }\n    Set.prototype.has = function has (key) {\n      return this.set[key] === true\n    };\n    Set.prototype.add = function add (key) {\n      this.set[key] = true;\n    };\n    Set.prototype.clear = function clear () {\n      this.set = Object.create(null);\n    };\n\n    return Set;\n  }());\n}\n\n/*  */\n\nvar warn = noop;\nvar tip = noop;\nvar generateComponentTrace = (noop); // work around flow check\nvar formatComponentName = (noop);\n\nif (process.env.NODE_ENV !== 'production') {\n  var hasConsole = typeof console !== 'undefined';\n  var classifyRE = /(?:^|[-_])(\\w)/g;\n  var classify = function (str) { return str\n    .replace(classifyRE, function (c) { return c.toUpperCase(); })\n    .replace(/[-_]/g, ''); };\n\n  warn = function (msg, vm) {\n    var trace = vm ? generateComponentTrace(vm) : '';\n\n    if (config.warnHandler) {\n      config.warnHandler.call(null, msg, vm, trace);\n    } else if (hasConsole && (!config.silent)) {\n      console.error((\"[Vue warn]: \" + msg + trace));\n    }\n  };\n\n  tip = function (msg, vm) {\n    if (hasConsole && (!config.silent)) {\n      console.warn(\"[Vue tip]: \" + msg + (\n        vm ? generateComponentTrace(vm) : ''\n      ));\n    }\n  };\n\n  formatComponentName = function (vm, includeFile) {\n    if (vm.$root === vm) {\n      return '<Root>'\n    }\n    var options = typeof vm === 'function' && vm.cid != null\n      ? vm.options\n      : vm._isVue\n        ? vm.$options || vm.constructor.options\n        : vm;\n    var name = options.name || options._componentTag;\n    var file = options.__file;\n    if (!name && file) {\n      var match = file.match(/([^/\\\\]+)\\.vue$/);\n      name = match && match[1];\n    }\n\n    return (\n      (name ? (\"<\" + (classify(name)) + \">\") : \"<Anonymous>\") +\n      (file && includeFile !== false ? (\" at \" + file) : '')\n    )\n  };\n\n  var repeat = function (str, n) {\n    var res = '';\n    while (n) {\n      if (n % 2 === 1) { res += str; }\n      if (n > 1) { str += str; }\n      n >>= 1;\n    }\n    return res\n  };\n\n  generateComponentTrace = function (vm) {\n    if (vm._isVue && vm.$parent) {\n      var tree = [];\n      var currentRecursiveSequence = 0;\n      while (vm) {\n        if (tree.length > 0) {\n          var last = tree[tree.length - 1];\n          if (last.constructor === vm.constructor) {\n            currentRecursiveSequence++;\n            vm = vm.$parent;\n            continue\n          } else if (currentRecursiveSequence > 0) {\n            tree[tree.length - 1] = [last, currentRecursiveSequence];\n            currentRecursiveSequence = 0;\n          }\n        }\n        tree.push(vm);\n        vm = vm.$parent;\n      }\n      return '\\n\\nfound in\\n\\n' + tree\n        .map(function (vm, i) { return (\"\" + (i === 0 ? '---> ' : repeat(' ', 5 + i * 2)) + (Array.isArray(vm)\n            ? ((formatComponentName(vm[0])) + \"... (\" + (vm[1]) + \" recursive calls)\")\n            : formatComponentName(vm))); })\n        .join('\\n')\n    } else {\n      return (\"\\n\\n(found in \" + (formatComponentName(vm)) + \")\")\n    }\n  };\n}\n\n/*  */\n\nvar uid = 0;\n\n/**\n * A dep is an observable that can have multiple\n * directives subscribing to it.\n */\nvar Dep = function Dep () {\n  this.id = uid++;\n  this.subs = [];\n};\n\nDep.prototype.addSub = function addSub (sub) {\n  this.subs.push(sub);\n};\n\nDep.prototype.removeSub = function removeSub (sub) {\n  remove(this.subs, sub);\n};\n\nDep.prototype.depend = function depend () {\n  if (Dep.target) {\n    Dep.target.addDep(this);\n  }\n};\n\nDep.prototype.notify = function notify () {\n  // stabilize the subscriber list first\n  var subs = this.subs.slice();\n  if (process.env.NODE_ENV !== 'production' && !config.async) {\n    // subs aren't sorted in scheduler if not running async\n    // we need to sort them now to make sure they fire in correct\n    // order\n    subs.sort(function (a, b) { return a.id - b.id; });\n  }\n  for (var i = 0, l = subs.length; i < l; i++) {\n    subs[i].update();\n  }\n};\n\n// The current target watcher being evaluated.\n// This is globally unique because only one watcher\n// can be evaluated at a time.\nDep.target = null;\nvar targetStack = [];\n\nfunction pushTarget (target) {\n  targetStack.push(target);\n  Dep.target = target;\n}\n\nfunction popTarget () {\n  targetStack.pop();\n  Dep.target = targetStack[targetStack.length - 1];\n}\n\n/*  */\n\nvar VNode = function VNode (\n  tag,\n  data,\n  children,\n  text,\n  elm,\n  context,\n  componentOptions,\n  asyncFactory\n) {\n  this.tag = tag;\n  this.data = data;\n  this.children = children;\n  this.text = text;\n  this.elm = elm;\n  this.ns = undefined;\n  this.context = context;\n  this.fnContext = undefined;\n  this.fnOptions = undefined;\n  this.fnScopeId = undefined;\n  this.key = data && data.key;\n  this.componentOptions = componentOptions;\n  this.componentInstance = undefined;\n  this.parent = undefined;\n  this.raw = false;\n  this.isStatic = false;\n  this.isRootInsert = true;\n  this.isComment = false;\n  this.isCloned = false;\n  this.isOnce = false;\n  this.asyncFactory = asyncFactory;\n  this.asyncMeta = undefined;\n  this.isAsyncPlaceholder = false;\n};\n\nvar prototypeAccessors = { child: { configurable: true } };\n\n// DEPRECATED: alias for componentInstance for backwards compat.\n/* istanbul ignore next */\nprototypeAccessors.child.get = function () {\n  return this.componentInstance\n};\n\nObject.defineProperties( VNode.prototype, prototypeAccessors );\n\nvar createEmptyVNode = function (text) {\n  if ( text === void 0 ) text = '';\n\n  var node = new VNode();\n  node.text = text;\n  node.isComment = true;\n  return node\n};\n\nfunction createTextVNode (val) {\n  return new VNode(undefined, undefined, undefined, String(val))\n}\n\n// optimized shallow clone\n// used for static nodes and slot nodes because they may be reused across\n// multiple renders, cloning them avoids errors when DOM manipulations rely\n// on their elm reference.\nfunction cloneVNode (vnode) {\n  var cloned = new VNode(\n    vnode.tag,\n    vnode.data,\n    // #7975\n    // clone children array to avoid mutating original in case of cloning\n    // a child.\n    vnode.children && vnode.children.slice(),\n    vnode.text,\n    vnode.elm,\n    vnode.context,\n    vnode.componentOptions,\n    vnode.asyncFactory\n  );\n  cloned.ns = vnode.ns;\n  cloned.isStatic = vnode.isStatic;\n  cloned.key = vnode.key;\n  cloned.isComment = vnode.isComment;\n  cloned.fnContext = vnode.fnContext;\n  cloned.fnOptions = vnode.fnOptions;\n  cloned.fnScopeId = vnode.fnScopeId;\n  cloned.asyncMeta = vnode.asyncMeta;\n  cloned.isCloned = true;\n  return cloned\n}\n\n/*\n * not type checking this file because flow doesn't play well with\n * dynamically accessing methods on Array prototype\n */\n\nvar arrayProto = Array.prototype;\nvar arrayMethods = Object.create(arrayProto);\n\nvar methodsToPatch = [\n  'push',\n  'pop',\n  'shift',\n  'unshift',\n  'splice',\n  'sort',\n  'reverse'\n];\n\n/**\n * Intercept mutating methods and emit events\n */\nmethodsToPatch.forEach(function (method) {\n  // cache original method\n  var original = arrayProto[method];\n  def(arrayMethods, method, function mutator () {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    var result = original.apply(this, args);\n    var ob = this.__ob__;\n    var inserted;\n    switch (method) {\n      case 'push':\n      case 'unshift':\n        inserted = args;\n        break\n      case 'splice':\n        inserted = args.slice(2);\n        break\n    }\n    if (inserted) { ob.observeArray(inserted); }\n    // notify change\n    ob.dep.notify();\n    return result\n  });\n});\n\n/*  */\n\nvar arrayKeys = Object.getOwnPropertyNames(arrayMethods);\n\n/**\n * In some cases we may want to disable observation inside a component's\n * update computation.\n */\nvar shouldObserve = true;\n\nfunction toggleObserving (value) {\n  shouldObserve = value;\n}\n\n/**\n * Observer class that is attached to each observed\n * object. Once attached, the observer converts the target\n * object's property keys into getter/setters that\n * collect dependencies and dispatch updates.\n */\nvar Observer = function Observer (value) {\n  this.value = value;\n  this.dep = new Dep();\n  this.vmCount = 0;\n  def(value, '__ob__', this);\n  if (Array.isArray(value)) {\n    if (hasProto) {\n      protoAugment(value, arrayMethods);\n    } else {\n      copyAugment(value, arrayMethods, arrayKeys);\n    }\n    this.observeArray(value);\n  } else {\n    this.walk(value);\n  }\n};\n\n/**\n * Walk through all properties and convert them into\n * getter/setters. This method should only be called when\n * value type is Object.\n */\nObserver.prototype.walk = function walk (obj) {\n  var keys = Object.keys(obj);\n  for (var i = 0; i < keys.length; i++) {\n    defineReactive(obj, keys[i]);\n  }\n};\n\n/**\n * Observe a list of Array items.\n */\nObserver.prototype.observeArray = function observeArray (items) {\n  for (var i = 0, l = items.length; i < l; i++) {\n    observe(items[i]);\n  }\n};\n\n// helpers\n\n/**\n * Augment a target Object or Array by intercepting\n * the prototype chain using __proto__\n */\nfunction protoAugment (target, src) {\n  /* eslint-disable no-proto */\n  target.__proto__ = src;\n  /* eslint-enable no-proto */\n}\n\n/**\n * Augment a target Object or Array by defining\n * hidden properties.\n */\n/* istanbul ignore next */\nfunction copyAugment (target, src, keys) {\n  for (var i = 0, l = keys.length; i < l; i++) {\n    var key = keys[i];\n    def(target, key, src[key]);\n  }\n}\n\n/**\n * Attempt to create an observer instance for a value,\n * returns the new observer if successfully observed,\n * or the existing observer if the value already has one.\n */\nfunction observe (value, asRootData) {\n  if (!isObject(value) || value instanceof VNode) {\n    return\n  }\n  var ob;\n  if (hasOwn(value, '__ob__') && value.__ob__ instanceof Observer) {\n    ob = value.__ob__;\n  } else if (\n    shouldObserve &&\n    !isServerRendering() &&\n    (Array.isArray(value) || isPlainObject(value)) &&\n    Object.isExtensible(value) &&\n    !value._isVue\n  ) {\n    ob = new Observer(value);\n  }\n  if (asRootData && ob) {\n    ob.vmCount++;\n  }\n  return ob\n}\n\n/**\n * Define a reactive property on an Object.\n */\nfunction defineReactive (\n  obj,\n  key,\n  val,\n  customSetter,\n  shallow\n) {\n  var dep = new Dep();\n\n  var property = Object.getOwnPropertyDescriptor(obj, key);\n  if (property && property.configurable === false) {\n    return\n  }\n\n  // cater for pre-defined getter/setters\n  var getter = property && property.get;\n  var setter = property && property.set;\n  if ((!getter || setter) && arguments.length === 2) {\n    val = obj[key];\n  }\n\n  var childOb = !shallow && observe(val);\n  Object.defineProperty(obj, key, {\n    enumerable: true,\n    configurable: true,\n    get: function reactiveGetter () {\n      var value = getter ? getter.call(obj) : val;\n      if (Dep.target) {\n        dep.depend();\n        if (childOb) {\n          childOb.dep.depend();\n          if (Array.isArray(value)) {\n            dependArray(value);\n          }\n        }\n      }\n      return value\n    },\n    set: function reactiveSetter (newVal) {\n      var value = getter ? getter.call(obj) : val;\n      /* eslint-disable no-self-compare */\n      if (newVal === value || (newVal !== newVal && value !== value)) {\n        return\n      }\n      /* eslint-enable no-self-compare */\n      if (process.env.NODE_ENV !== 'production' && customSetter) {\n        customSetter();\n      }\n      // #7981: for accessor properties without setter\n      if (getter && !setter) { return }\n      if (setter) {\n        setter.call(obj, newVal);\n      } else {\n        val = newVal;\n      }\n      childOb = !shallow && observe(newVal);\n      dep.notify();\n    }\n  });\n}\n\n/**\n * Set a property on an object. Adds the new property and\n * triggers change notification if the property doesn't\n * already exist.\n */\nfunction set (target, key, val) {\n  if (process.env.NODE_ENV !== 'production' &&\n    (isUndef(target) || isPrimitive(target))\n  ) {\n    warn((\"Cannot set reactive property on undefined, null, or primitive value: \" + ((target))));\n  }\n  if (Array.isArray(target) && isValidArrayIndex(key)) {\n    target.length = Math.max(target.length, key);\n    target.splice(key, 1, val);\n    return val\n  }\n  if (key in target && !(key in Object.prototype)) {\n    target[key] = val;\n    return val\n  }\n  var ob = (target).__ob__;\n  if (target._isVue || (ob && ob.vmCount)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      'Avoid adding reactive properties to a Vue instance or its root $data ' +\n      'at runtime - declare it upfront in the data option.'\n    );\n    return val\n  }\n  if (!ob) {\n    target[key] = val;\n    return val\n  }\n  defineReactive(ob.value, key, val);\n  ob.dep.notify();\n  return val\n}\n\n/**\n * Delete a property and trigger change if necessary.\n */\nfunction del (target, key) {\n  if (process.env.NODE_ENV !== 'production' &&\n    (isUndef(target) || isPrimitive(target))\n  ) {\n    warn((\"Cannot delete reactive property on undefined, null, or primitive value: \" + ((target))));\n  }\n  if (Array.isArray(target) && isValidArrayIndex(key)) {\n    target.splice(key, 1);\n    return\n  }\n  var ob = (target).__ob__;\n  if (target._isVue || (ob && ob.vmCount)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      'Avoid deleting properties on a Vue instance or its root $data ' +\n      '- just set it to null.'\n    );\n    return\n  }\n  if (!hasOwn(target, key)) {\n    return\n  }\n  delete target[key];\n  if (!ob) {\n    return\n  }\n  ob.dep.notify();\n}\n\n/**\n * Collect dependencies on array elements when the array is touched, since\n * we cannot intercept array element access like property getters.\n */\nfunction dependArray (value) {\n  for (var e = (void 0), i = 0, l = value.length; i < l; i++) {\n    e = value[i];\n    e && e.__ob__ && e.__ob__.dep.depend();\n    if (Array.isArray(e)) {\n      dependArray(e);\n    }\n  }\n}\n\n/*  */\n\n/**\n * Option overwriting strategies are functions that handle\n * how to merge a parent option value and a child option\n * value into the final value.\n */\nvar strats = config.optionMergeStrategies;\n\n/**\n * Options with restrictions\n */\nif (process.env.NODE_ENV !== 'production') {\n  strats.el = strats.propsData = function (parent, child, vm, key) {\n    if (!vm) {\n      warn(\n        \"option \\\"\" + key + \"\\\" can only be used during instance \" +\n        'creation with the `new` keyword.'\n      );\n    }\n    return defaultStrat(parent, child)\n  };\n}\n\n/**\n * Helper that recursively merges two data objects together.\n */\nfunction mergeData (to, from) {\n  if (!from) { return to }\n  var key, toVal, fromVal;\n\n  var keys = hasSymbol\n    ? Reflect.ownKeys(from)\n    : Object.keys(from);\n\n  for (var i = 0; i < keys.length; i++) {\n    key = keys[i];\n    // in case the object is already observed...\n    if (key === '__ob__') { continue }\n    toVal = to[key];\n    fromVal = from[key];\n    if (!hasOwn(to, key)) {\n      set(to, key, fromVal);\n    } else if (\n      toVal !== fromVal &&\n      isPlainObject(toVal) &&\n      isPlainObject(fromVal)\n    ) {\n      mergeData(toVal, fromVal);\n    }\n  }\n  return to\n}\n\n/**\n * Data\n */\nfunction mergeDataOrFn (\n  parentVal,\n  childVal,\n  vm\n) {\n  if (!vm) {\n    // in a Vue.extend merge, both should be functions\n    if (!childVal) {\n      return parentVal\n    }\n    if (!parentVal) {\n      return childVal\n    }\n    // when parentVal & childVal are both present,\n    // we need to return a function that returns the\n    // merged result of both functions... no need to\n    // check if parentVal is a function here because\n    // it has to be a function to pass previous merges.\n    return function mergedDataFn () {\n      return mergeData(\n        typeof childVal === 'function' ? childVal.call(this, this) : childVal,\n        typeof parentVal === 'function' ? parentVal.call(this, this) : parentVal\n      )\n    }\n  } else {\n    return function mergedInstanceDataFn () {\n      // instance merge\n      var instanceData = typeof childVal === 'function'\n        ? childVal.call(vm, vm)\n        : childVal;\n      var defaultData = typeof parentVal === 'function'\n        ? parentVal.call(vm, vm)\n        : parentVal;\n      if (instanceData) {\n        return mergeData(instanceData, defaultData)\n      } else {\n        return defaultData\n      }\n    }\n  }\n}\n\nstrats.data = function (\n  parentVal,\n  childVal,\n  vm\n) {\n  if (!vm) {\n    if (childVal && typeof childVal !== 'function') {\n      process.env.NODE_ENV !== 'production' && warn(\n        'The \"data\" option should be a function ' +\n        'that returns a per-instance value in component ' +\n        'definitions.',\n        vm\n      );\n\n      return parentVal\n    }\n    return mergeDataOrFn(parentVal, childVal)\n  }\n\n  return mergeDataOrFn(parentVal, childVal, vm)\n};\n\n/**\n * Hooks and props are merged as arrays.\n */\nfunction mergeHook (\n  parentVal,\n  childVal\n) {\n  var res = childVal\n    ? parentVal\n      ? parentVal.concat(childVal)\n      : Array.isArray(childVal)\n        ? childVal\n        : [childVal]\n    : parentVal;\n  return res\n    ? dedupeHooks(res)\n    : res\n}\n\nfunction dedupeHooks (hooks) {\n  var res = [];\n  for (var i = 0; i < hooks.length; i++) {\n    if (res.indexOf(hooks[i]) === -1) {\n      res.push(hooks[i]);\n    }\n  }\n  return res\n}\n\nLIFECYCLE_HOOKS.forEach(function (hook) {\n  strats[hook] = mergeHook;\n});\n\n/**\n * Assets\n *\n * When a vm is present (instance creation), we need to do\n * a three-way merge between constructor options, instance\n * options and parent options.\n */\nfunction mergeAssets (\n  parentVal,\n  childVal,\n  vm,\n  key\n) {\n  var res = Object.create(parentVal || null);\n  if (childVal) {\n    process.env.NODE_ENV !== 'production' && assertObjectType(key, childVal, vm);\n    return extend(res, childVal)\n  } else {\n    return res\n  }\n}\n\nASSET_TYPES.forEach(function (type) {\n  strats[type + 's'] = mergeAssets;\n});\n\n/**\n * Watchers.\n *\n * Watchers hashes should not overwrite one\n * another, so we merge them as arrays.\n */\nstrats.watch = function (\n  parentVal,\n  childVal,\n  vm,\n  key\n) {\n  // work around Firefox's Object.prototype.watch...\n  if (parentVal === nativeWatch) { parentVal = undefined; }\n  if (childVal === nativeWatch) { childVal = undefined; }\n  /* istanbul ignore if */\n  if (!childVal) { return Object.create(parentVal || null) }\n  if (process.env.NODE_ENV !== 'production') {\n    assertObjectType(key, childVal, vm);\n  }\n  if (!parentVal) { return childVal }\n  var ret = {};\n  extend(ret, parentVal);\n  for (var key$1 in childVal) {\n    var parent = ret[key$1];\n    var child = childVal[key$1];\n    if (parent && !Array.isArray(parent)) {\n      parent = [parent];\n    }\n    ret[key$1] = parent\n      ? parent.concat(child)\n      : Array.isArray(child) ? child : [child];\n  }\n  return ret\n};\n\n/**\n * Other object hashes.\n */\nstrats.props =\nstrats.methods =\nstrats.inject =\nstrats.computed = function (\n  parentVal,\n  childVal,\n  vm,\n  key\n) {\n  if (childVal && process.env.NODE_ENV !== 'production') {\n    assertObjectType(key, childVal, vm);\n  }\n  if (!parentVal) { return childVal }\n  var ret = Object.create(null);\n  extend(ret, parentVal);\n  if (childVal) { extend(ret, childVal); }\n  return ret\n};\nstrats.provide = mergeDataOrFn;\n\n/**\n * Default strategy.\n */\nvar defaultStrat = function (parentVal, childVal) {\n  return childVal === undefined\n    ? parentVal\n    : childVal\n};\n\n/**\n * Validate component names\n */\nfunction checkComponents (options) {\n  for (var key in options.components) {\n    validateComponentName(key);\n  }\n}\n\nfunction validateComponentName (name) {\n  if (!new RegExp((\"^[a-zA-Z][\\\\-\\\\.0-9_\" + (unicodeRegExp.source) + \"]*$\")).test(name)) {\n    warn(\n      'Invalid component name: \"' + name + '\". Component names ' +\n      'should conform to valid custom element name in html5 specification.'\n    );\n  }\n  if (isBuiltInTag(name) || config.isReservedTag(name)) {\n    warn(\n      'Do not use built-in or reserved HTML elements as component ' +\n      'id: ' + name\n    );\n  }\n}\n\n/**\n * Ensure all props option syntax are normalized into the\n * Object-based format.\n */\nfunction normalizeProps (options, vm) {\n  var props = options.props;\n  if (!props) { return }\n  var res = {};\n  var i, val, name;\n  if (Array.isArray(props)) {\n    i = props.length;\n    while (i--) {\n      val = props[i];\n      if (typeof val === 'string') {\n        name = camelize(val);\n        res[name] = { type: null };\n      } else if (process.env.NODE_ENV !== 'production') {\n        warn('props must be strings when using array syntax.');\n      }\n    }\n  } else if (isPlainObject(props)) {\n    for (var key in props) {\n      val = props[key];\n      name = camelize(key);\n      res[name] = isPlainObject(val)\n        ? val\n        : { type: val };\n    }\n  } else if (process.env.NODE_ENV !== 'production') {\n    warn(\n      \"Invalid value for option \\\"props\\\": expected an Array or an Object, \" +\n      \"but got \" + (toRawType(props)) + \".\",\n      vm\n    );\n  }\n  options.props = res;\n}\n\n/**\n * Normalize all injections into Object-based format\n */\nfunction normalizeInject (options, vm) {\n  var inject = options.inject;\n  if (!inject) { return }\n  var normalized = options.inject = {};\n  if (Array.isArray(inject)) {\n    for (var i = 0; i < inject.length; i++) {\n      normalized[inject[i]] = { from: inject[i] };\n    }\n  } else if (isPlainObject(inject)) {\n    for (var key in inject) {\n      var val = inject[key];\n      normalized[key] = isPlainObject(val)\n        ? extend({ from: key }, val)\n        : { from: val };\n    }\n  } else if (process.env.NODE_ENV !== 'production') {\n    warn(\n      \"Invalid value for option \\\"inject\\\": expected an Array or an Object, \" +\n      \"but got \" + (toRawType(inject)) + \".\",\n      vm\n    );\n  }\n}\n\n/**\n * Normalize raw function directives into object format.\n */\nfunction normalizeDirectives (options) {\n  var dirs = options.directives;\n  if (dirs) {\n    for (var key in dirs) {\n      var def = dirs[key];\n      if (typeof def === 'function') {\n        dirs[key] = { bind: def, update: def };\n      }\n    }\n  }\n}\n\nfunction assertObjectType (name, value, vm) {\n  if (!isPlainObject(value)) {\n    warn(\n      \"Invalid value for option \\\"\" + name + \"\\\": expected an Object, \" +\n      \"but got \" + (toRawType(value)) + \".\",\n      vm\n    );\n  }\n}\n\n/**\n * Merge two option objects into a new one.\n * Core utility used in both instantiation and inheritance.\n */\nfunction mergeOptions (\n  parent,\n  child,\n  vm\n) {\n  if (process.env.NODE_ENV !== 'production') {\n    checkComponents(child);\n  }\n\n  if (typeof child === 'function') {\n    child = child.options;\n  }\n\n  normalizeProps(child, vm);\n  normalizeInject(child, vm);\n  normalizeDirectives(child);\n\n  // Apply extends and mixins on the child options,\n  // but only if it is a raw options object that isn't\n  // the result of another mergeOptions call.\n  // Only merged options has the _base property.\n  if (!child._base) {\n    if (child.extends) {\n      parent = mergeOptions(parent, child.extends, vm);\n    }\n    if (child.mixins) {\n      for (var i = 0, l = child.mixins.length; i < l; i++) {\n        parent = mergeOptions(parent, child.mixins[i], vm);\n      }\n    }\n  }\n\n  var options = {};\n  var key;\n  for (key in parent) {\n    mergeField(key);\n  }\n  for (key in child) {\n    if (!hasOwn(parent, key)) {\n      mergeField(key);\n    }\n  }\n  function mergeField (key) {\n    var strat = strats[key] || defaultStrat;\n    options[key] = strat(parent[key], child[key], vm, key);\n  }\n  return options\n}\n\n/**\n * Resolve an asset.\n * This function is used because child instances need access\n * to assets defined in its ancestor chain.\n */\nfunction resolveAsset (\n  options,\n  type,\n  id,\n  warnMissing\n) {\n  /* istanbul ignore if */\n  if (typeof id !== 'string') {\n    return\n  }\n  var assets = options[type];\n  // check local registration variations first\n  if (hasOwn(assets, id)) { return assets[id] }\n  var camelizedId = camelize(id);\n  if (hasOwn(assets, camelizedId)) { return assets[camelizedId] }\n  var PascalCaseId = capitalize(camelizedId);\n  if (hasOwn(assets, PascalCaseId)) { return assets[PascalCaseId] }\n  // fallback to prototype chain\n  var res = assets[id] || assets[camelizedId] || assets[PascalCaseId];\n  if (process.env.NODE_ENV !== 'production' && warnMissing && !res) {\n    warn(\n      'Failed to resolve ' + type.slice(0, -1) + ': ' + id,\n      options\n    );\n  }\n  return res\n}\n\n/*  */\n\n\n\nfunction validateProp (\n  key,\n  propOptions,\n  propsData,\n  vm\n) {\n  var prop = propOptions[key];\n  var absent = !hasOwn(propsData, key);\n  var value = propsData[key];\n  // boolean casting\n  var booleanIndex = getTypeIndex(Boolean, prop.type);\n  if (booleanIndex > -1) {\n    if (absent && !hasOwn(prop, 'default')) {\n      value = false;\n    } else if (value === '' || value === hyphenate(key)) {\n      // only cast empty string / same name to boolean if\n      // boolean has higher priority\n      var stringIndex = getTypeIndex(String, prop.type);\n      if (stringIndex < 0 || booleanIndex < stringIndex) {\n        value = true;\n      }\n    }\n  }\n  // check default value\n  if (value === undefined) {\n    value = getPropDefaultValue(vm, prop, key);\n    // since the default value is a fresh copy,\n    // make sure to observe it.\n    var prevShouldObserve = shouldObserve;\n    toggleObserving(true);\n    observe(value);\n    toggleObserving(prevShouldObserve);\n  }\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    // skip validation for weex recycle-list child component props\n    !( isObject(value) && ('@binding' in value))\n  ) {\n    assertProp(prop, key, value, vm, absent);\n  }\n  return value\n}\n\n/**\n * Get the default value of a prop.\n */\nfunction getPropDefaultValue (vm, prop, key) {\n  // no default, return undefined\n  if (!hasOwn(prop, 'default')) {\n    return undefined\n  }\n  var def = prop.default;\n  // warn against non-factory defaults for Object & Array\n  if (process.env.NODE_ENV !== 'production' && isObject(def)) {\n    warn(\n      'Invalid default value for prop \"' + key + '\": ' +\n      'Props with type Object/Array must use a factory function ' +\n      'to return the default value.',\n      vm\n    );\n  }\n  // the raw prop value was also undefined from previous render,\n  // return previous default value to avoid unnecessary watcher trigger\n  if (vm && vm.$options.propsData &&\n    vm.$options.propsData[key] === undefined &&\n    vm._props[key] !== undefined\n  ) {\n    return vm._props[key]\n  }\n  // call factory function for non-Function types\n  // a value is Function if its prototype is function even across different execution context\n  return typeof def === 'function' && getType(prop.type) !== 'Function'\n    ? def.call(vm)\n    : def\n}\n\n/**\n * Assert whether a prop is valid.\n */\nfunction assertProp (\n  prop,\n  name,\n  value,\n  vm,\n  absent\n) {\n  if (prop.required && absent) {\n    warn(\n      'Missing required prop: \"' + name + '\"',\n      vm\n    );\n    return\n  }\n  if (value == null && !prop.required) {\n    return\n  }\n  var type = prop.type;\n  var valid = !type || type === true;\n  var expectedTypes = [];\n  if (type) {\n    if (!Array.isArray(type)) {\n      type = [type];\n    }\n    for (var i = 0; i < type.length && !valid; i++) {\n      var assertedType = assertType(value, type[i]);\n      expectedTypes.push(assertedType.expectedType || '');\n      valid = assertedType.valid;\n    }\n  }\n\n  if (!valid) {\n    warn(\n      getInvalidTypeMessage(name, value, expectedTypes),\n      vm\n    );\n    return\n  }\n  var validator = prop.validator;\n  if (validator) {\n    if (!validator(value)) {\n      warn(\n        'Invalid prop: custom validator check failed for prop \"' + name + '\".',\n        vm\n      );\n    }\n  }\n}\n\nvar simpleCheckRE = /^(String|Number|Boolean|Function|Symbol)$/;\n\nfunction assertType (value, type) {\n  var valid;\n  var expectedType = getType(type);\n  if (simpleCheckRE.test(expectedType)) {\n    var t = typeof value;\n    valid = t === expectedType.toLowerCase();\n    // for primitive wrapper objects\n    if (!valid && t === 'object') {\n      valid = value instanceof type;\n    }\n  } else if (expectedType === 'Object') {\n    valid = isPlainObject(value);\n  } else if (expectedType === 'Array') {\n    valid = Array.isArray(value);\n  } else {\n    valid = value instanceof type;\n  }\n  return {\n    valid: valid,\n    expectedType: expectedType\n  }\n}\n\n/**\n * Use function string name to check built-in types,\n * because a simple equality check will fail when running\n * across different vms / iframes.\n */\nfunction getType (fn) {\n  var match = fn && fn.toString().match(/^\\s*function (\\w+)/);\n  return match ? match[1] : ''\n}\n\nfunction isSameType (a, b) {\n  return getType(a) === getType(b)\n}\n\nfunction getTypeIndex (type, expectedTypes) {\n  if (!Array.isArray(expectedTypes)) {\n    return isSameType(expectedTypes, type) ? 0 : -1\n  }\n  for (var i = 0, len = expectedTypes.length; i < len; i++) {\n    if (isSameType(expectedTypes[i], type)) {\n      return i\n    }\n  }\n  return -1\n}\n\nfunction getInvalidTypeMessage (name, value, expectedTypes) {\n  var message = \"Invalid prop: type check failed for prop \\\"\" + name + \"\\\".\" +\n    \" Expected \" + (expectedTypes.map(capitalize).join(', '));\n  var expectedType = expectedTypes[0];\n  var receivedType = toRawType(value);\n  // check if we need to specify expected value\n  if (\n    expectedTypes.length === 1 &&\n    isExplicable(expectedType) &&\n    isExplicable(typeof value) &&\n    !isBoolean(expectedType, receivedType)\n  ) {\n    message += \" with value \" + (styleValue(value, expectedType));\n  }\n  message += \", got \" + receivedType + \" \";\n  // check if we need to specify received value\n  if (isExplicable(receivedType)) {\n    message += \"with value \" + (styleValue(value, receivedType)) + \".\";\n  }\n  return message\n}\n\nfunction styleValue (value, type) {\n  if (type === 'String') {\n    return (\"\\\"\" + value + \"\\\"\")\n  } else if (type === 'Number') {\n    return (\"\" + (Number(value)))\n  } else {\n    return (\"\" + value)\n  }\n}\n\nvar EXPLICABLE_TYPES = ['string', 'number', 'boolean'];\nfunction isExplicable (value) {\n  return EXPLICABLE_TYPES.some(function (elem) { return value.toLowerCase() === elem; })\n}\n\nfunction isBoolean () {\n  var args = [], len = arguments.length;\n  while ( len-- ) args[ len ] = arguments[ len ];\n\n  return args.some(function (elem) { return elem.toLowerCase() === 'boolean'; })\n}\n\n/*  */\n\nfunction handleError (err, vm, info) {\n  // Deactivate deps tracking while processing error handler to avoid possible infinite rendering.\n  // See: https://github.com/vuejs/vuex/issues/1505\n  pushTarget();\n  try {\n    if (vm) {\n      var cur = vm;\n      while ((cur = cur.$parent)) {\n        var hooks = cur.$options.errorCaptured;\n        if (hooks) {\n          for (var i = 0; i < hooks.length; i++) {\n            try {\n              var capture = hooks[i].call(cur, err, vm, info) === false;\n              if (capture) { return }\n            } catch (e) {\n              globalHandleError(e, cur, 'errorCaptured hook');\n            }\n          }\n        }\n      }\n    }\n    globalHandleError(err, vm, info);\n  } finally {\n    popTarget();\n  }\n}\n\nfunction invokeWithErrorHandling (\n  handler,\n  context,\n  args,\n  vm,\n  info\n) {\n  var res;\n  try {\n    res = args ? handler.apply(context, args) : handler.call(context);\n    if (res && !res._isVue && isPromise(res) && !res._handled) {\n      res.catch(function (e) { return handleError(e, vm, info + \" (Promise/async)\"); });\n      // issue #9511\n      // avoid catch triggering multiple times when nested calls\n      res._handled = true;\n    }\n  } catch (e) {\n    handleError(e, vm, info);\n  }\n  return res\n}\n\nfunction globalHandleError (err, vm, info) {\n  if (config.errorHandler) {\n    try {\n      return config.errorHandler.call(null, err, vm, info)\n    } catch (e) {\n      // if the user intentionally throws the original error in the handler,\n      // do not log it twice\n      if (e !== err) {\n        logError(e, null, 'config.errorHandler');\n      }\n    }\n  }\n  logError(err, vm, info);\n}\n\nfunction logError (err, vm, info) {\n  if (process.env.NODE_ENV !== 'production') {\n    warn((\"Error in \" + info + \": \\\"\" + (err.toString()) + \"\\\"\"), vm);\n  }\n  /* istanbul ignore else */\n  if ((inBrowser || inWeex) && typeof console !== 'undefined') {\n    console.error(err);\n  } else {\n    throw err\n  }\n}\n\n/*  */\n\nvar callbacks = [];\nvar pending = false;\n\nfunction flushCallbacks () {\n  pending = false;\n  var copies = callbacks.slice(0);\n  callbacks.length = 0;\n  for (var i = 0; i < copies.length; i++) {\n    copies[i]();\n  }\n}\n\n// Here we have async deferring wrappers using microtasks.\n// In 2.5 we used (macro) tasks (in combination with microtasks).\n// However, it has subtle problems when state is changed right before repaint\n// (e.g. #6813, out-in transitions).\n// Also, using (macro) tasks in event handler would cause some weird behaviors\n// that cannot be circumvented (e.g. #7109, #7153, #7546, #7834, #8109).\n// So we now use microtasks everywhere, again.\n// A major drawback of this tradeoff is that there are some scenarios\n// where microtasks have too high a priority and fire in between supposedly\n// sequential events (e.g. #4521, #6690, which have workarounds)\n// or even between bubbling of the same event (#6566).\nvar timerFunc;\n\n// The nextTick behavior leverages the microtask queue, which can be accessed\n// via either native Promise.then or MutationObserver.\n// MutationObserver has wider support, however it is seriously bugged in\n// UIWebView in iOS >= 9.3.3 when triggered in touch event handlers. It\n// completely stops working after triggering a few times... so, if native\n// Promise is available, we will use it:\n/* istanbul ignore next, $flow-disable-line */\nif (typeof Promise !== 'undefined' && isNative(Promise)) {\n  var p = Promise.resolve();\n  timerFunc = function () {\n    p.then(flushCallbacks);\n    // In problematic UIWebViews, Promise.then doesn't completely break, but\n    // it can get stuck in a weird state where callbacks are pushed into the\n    // microtask queue but the queue isn't being flushed, until the browser\n    // needs to do some other work, e.g. handle a timer. Therefore we can\n    // \"force\" the microtask queue to be flushed by adding an empty timer.\n    if (isIOS) { setTimeout(noop); }\n  };\n} else if (!isIE && typeof MutationObserver !== 'undefined' && (\n  isNative(MutationObserver) ||\n  // PhantomJS and iOS 7.x\n  MutationObserver.toString() === '[object MutationObserverConstructor]'\n)) {\n  // Use MutationObserver where native Promise is not available,\n  // e.g. PhantomJS, iOS7, Android 4.4\n  // (#6466 MutationObserver is unreliable in IE11)\n  var counter = 1;\n  var observer = new MutationObserver(flushCallbacks);\n  var textNode = document.createTextNode(String(counter));\n  observer.observe(textNode, {\n    characterData: true\n  });\n  timerFunc = function () {\n    counter = (counter + 1) % 2;\n    textNode.data = String(counter);\n  };\n} else if (typeof setImmediate !== 'undefined' && isNative(setImmediate)) {\n  // Fallback to setImmediate.\n  // Technically it leverages the (macro) task queue,\n  // but it is still a better choice than setTimeout.\n  timerFunc = function () {\n    setImmediate(flushCallbacks);\n  };\n} else {\n  // Fallback to setTimeout.\n  timerFunc = function () {\n    setTimeout(flushCallbacks, 0);\n  };\n}\n\nfunction nextTick (cb, ctx) {\n  var _resolve;\n  callbacks.push(function () {\n    if (cb) {\n      try {\n        cb.call(ctx);\n      } catch (e) {\n        handleError(e, ctx, 'nextTick');\n      }\n    } else if (_resolve) {\n      _resolve(ctx);\n    }\n  });\n  if (!pending) {\n    pending = true;\n    timerFunc();\n  }\n  // $flow-disable-line\n  if (!cb && typeof Promise !== 'undefined') {\n    return new Promise(function (resolve) {\n      _resolve = resolve;\n    })\n  }\n}\n\n/* not type checking this file because flow doesn't play well with Proxy */\n\nvar initProxy;\n\nif (process.env.NODE_ENV !== 'production') {\n  var allowedGlobals = makeMap(\n    'Infinity,undefined,NaN,isFinite,isNaN,' +\n    'parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,' +\n    'Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,' +\n    'require' // for Webpack/Browserify\n  );\n\n  var warnNonPresent = function (target, key) {\n    warn(\n      \"Property or method \\\"\" + key + \"\\\" is not defined on the instance but \" +\n      'referenced during render. Make sure that this property is reactive, ' +\n      'either in the data option, or for class-based components, by ' +\n      'initializing the property. ' +\n      'See: https://vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties.',\n      target\n    );\n  };\n\n  var warnReservedPrefix = function (target, key) {\n    warn(\n      \"Property \\\"\" + key + \"\\\" must be accessed with \\\"$data.\" + key + \"\\\" because \" +\n      'properties starting with \"$\" or \"_\" are not proxied in the Vue instance to ' +\n      'prevent conflicts with Vue internals. ' +\n      'See: https://vuejs.org/v2/api/#data',\n      target\n    );\n  };\n\n  var hasProxy =\n    typeof Proxy !== 'undefined' && isNative(Proxy);\n\n  if (hasProxy) {\n    var isBuiltInModifier = makeMap('stop,prevent,self,ctrl,shift,alt,meta,exact');\n    config.keyCodes = new Proxy(config.keyCodes, {\n      set: function set (target, key, value) {\n        if (isBuiltInModifier(key)) {\n          warn((\"Avoid overwriting built-in modifier in config.keyCodes: .\" + key));\n          return false\n        } else {\n          target[key] = value;\n          return true\n        }\n      }\n    });\n  }\n\n  var hasHandler = {\n    has: function has (target, key) {\n      var has = key in target;\n      var isAllowed = allowedGlobals(key) ||\n        (typeof key === 'string' && key.charAt(0) === '_' && !(key in target.$data));\n      if (!has && !isAllowed) {\n        if (key in target.$data) { warnReservedPrefix(target, key); }\n        else { warnNonPresent(target, key); }\n      }\n      return has || !isAllowed\n    }\n  };\n\n  var getHandler = {\n    get: function get (target, key) {\n      if (typeof key === 'string' && !(key in target)) {\n        if (key in target.$data) { warnReservedPrefix(target, key); }\n        else { warnNonPresent(target, key); }\n      }\n      return target[key]\n    }\n  };\n\n  initProxy = function initProxy (vm) {\n    if (hasProxy) {\n      // determine which proxy handler to use\n      var options = vm.$options;\n      var handlers = options.render && options.render._withStripped\n        ? getHandler\n        : hasHandler;\n      vm._renderProxy = new Proxy(vm, handlers);\n    } else {\n      vm._renderProxy = vm;\n    }\n  };\n}\n\n/*  */\n\nvar seenObjects = new _Set();\n\n/**\n * Recursively traverse an object to evoke all converted\n * getters, so that every nested property inside the object\n * is collected as a \"deep\" dependency.\n */\nfunction traverse (val) {\n  _traverse(val, seenObjects);\n  seenObjects.clear();\n}\n\nfunction _traverse (val, seen) {\n  var i, keys;\n  var isA = Array.isArray(val);\n  if ((!isA && !isObject(val)) || Object.isFrozen(val) || val instanceof VNode) {\n    return\n  }\n  if (val.__ob__) {\n    var depId = val.__ob__.dep.id;\n    if (seen.has(depId)) {\n      return\n    }\n    seen.add(depId);\n  }\n  if (isA) {\n    i = val.length;\n    while (i--) { _traverse(val[i], seen); }\n  } else {\n    keys = Object.keys(val);\n    i = keys.length;\n    while (i--) { _traverse(val[keys[i]], seen); }\n  }\n}\n\nvar mark;\nvar measure;\n\nif (process.env.NODE_ENV !== 'production') {\n  var perf = inBrowser && window.performance;\n  /* istanbul ignore if */\n  if (\n    perf &&\n    perf.mark &&\n    perf.measure &&\n    perf.clearMarks &&\n    perf.clearMeasures\n  ) {\n    mark = function (tag) { return perf.mark(tag); };\n    measure = function (name, startTag, endTag) {\n      perf.measure(name, startTag, endTag);\n      perf.clearMarks(startTag);\n      perf.clearMarks(endTag);\n      // perf.clearMeasures(name)\n    };\n  }\n}\n\n/*  */\n\nvar normalizeEvent = cached(function (name) {\n  var passive = name.charAt(0) === '&';\n  name = passive ? name.slice(1) : name;\n  var once = name.charAt(0) === '~'; // Prefixed last, checked first\n  name = once ? name.slice(1) : name;\n  var capture = name.charAt(0) === '!';\n  name = capture ? name.slice(1) : name;\n  return {\n    name: name,\n    once: once,\n    capture: capture,\n    passive: passive\n  }\n});\n\nfunction createFnInvoker (fns, vm) {\n  function invoker () {\n    var arguments$1 = arguments;\n\n    var fns = invoker.fns;\n    if (Array.isArray(fns)) {\n      var cloned = fns.slice();\n      for (var i = 0; i < cloned.length; i++) {\n        invokeWithErrorHandling(cloned[i], null, arguments$1, vm, \"v-on handler\");\n      }\n    } else {\n      // return handler return value for single handlers\n      return invokeWithErrorHandling(fns, null, arguments, vm, \"v-on handler\")\n    }\n  }\n  invoker.fns = fns;\n  return invoker\n}\n\nfunction updateListeners (\n  on,\n  oldOn,\n  add,\n  remove,\n  createOnceHandler,\n  vm\n) {\n  var name, def, cur, old, event;\n  for (name in on) {\n    def = cur = on[name];\n    old = oldOn[name];\n    event = normalizeEvent(name);\n    /* istanbul ignore if */\n    if ( isPlainObject(def)) {\n      cur = def.handler;\n      event.params = def.params;\n    }\n    if (isUndef(cur)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        \"Invalid handler for event \\\"\" + (event.name) + \"\\\": got \" + String(cur),\n        vm\n      );\n    } else if (isUndef(old)) {\n      if (isUndef(cur.fns)) {\n        cur = on[name] = createFnInvoker(cur, vm);\n      }\n      if (isTrue(event.once)) {\n        cur = on[name] = createOnceHandler(event.name, cur, event.capture);\n      }\n      add(event.name, cur, event.capture, event.passive, event.params);\n    } else if (cur !== old) {\n      old.fns = cur;\n      on[name] = old;\n    }\n  }\n  for (name in oldOn) {\n    if (isUndef(on[name])) {\n      event = normalizeEvent(name);\n      remove(event.name, oldOn[name], event.capture);\n    }\n  }\n}\n\n/*  */\n\nfunction mergeVNodeHook (def, hookKey, hook) {\n  if (def instanceof VNode) {\n    def = def.data.hook || (def.data.hook = {});\n  }\n  var invoker;\n  var oldHook = def[hookKey];\n\n  function wrappedHook () {\n    hook.apply(this, arguments);\n    // important: remove merged hook to ensure it's called only once\n    // and prevent memory leak\n    remove(invoker.fns, wrappedHook);\n  }\n\n  if (isUndef(oldHook)) {\n    // no existing hook\n    invoker = createFnInvoker([wrappedHook]);\n  } else {\n    /* istanbul ignore if */\n    if (isDef(oldHook.fns) && isTrue(oldHook.merged)) {\n      // already a merged invoker\n      invoker = oldHook;\n      invoker.fns.push(wrappedHook);\n    } else {\n      // existing plain hook\n      invoker = createFnInvoker([oldHook, wrappedHook]);\n    }\n  }\n\n  invoker.merged = true;\n  def[hookKey] = invoker;\n}\n\n/*  */\n\nfunction extractPropsFromVNodeData (\n  data,\n  Ctor,\n  tag\n) {\n  // we are only extracting raw values here.\n  // validation and default values are handled in the child\n  // component itself.\n  var propOptions = Ctor.options.props;\n  if (isUndef(propOptions)) {\n    return\n  }\n  var res = {};\n  var attrs = data.attrs;\n  var props = data.props;\n  if (isDef(attrs) || isDef(props)) {\n    for (var key in propOptions) {\n      var altKey = hyphenate(key);\n      if (process.env.NODE_ENV !== 'production') {\n        var keyInLowerCase = key.toLowerCase();\n        if (\n          key !== keyInLowerCase &&\n          attrs && hasOwn(attrs, keyInLowerCase)\n        ) {\n          tip(\n            \"Prop \\\"\" + keyInLowerCase + \"\\\" is passed to component \" +\n            (formatComponentName(tag || Ctor)) + \", but the declared prop name is\" +\n            \" \\\"\" + key + \"\\\". \" +\n            \"Note that HTML attributes are case-insensitive and camelCased \" +\n            \"props need to use their kebab-case equivalents when using in-DOM \" +\n            \"templates. You should probably use \\\"\" + altKey + \"\\\" instead of \\\"\" + key + \"\\\".\"\n          );\n        }\n      }\n      checkProp(res, props, key, altKey, true) ||\n      checkProp(res, attrs, key, altKey, false);\n    }\n  }\n  return res\n}\n\nfunction checkProp (\n  res,\n  hash,\n  key,\n  altKey,\n  preserve\n) {\n  if (isDef(hash)) {\n    if (hasOwn(hash, key)) {\n      res[key] = hash[key];\n      if (!preserve) {\n        delete hash[key];\n      }\n      return true\n    } else if (hasOwn(hash, altKey)) {\n      res[key] = hash[altKey];\n      if (!preserve) {\n        delete hash[altKey];\n      }\n      return true\n    }\n  }\n  return false\n}\n\n/*  */\n\n// The template compiler attempts to minimize the need for normalization by\n// statically analyzing the template at compile time.\n//\n// For plain HTML markup, normalization can be completely skipped because the\n// generated render function is guaranteed to return Array<VNode>. There are\n// two cases where extra normalization is needed:\n\n// 1. When the children contains components - because a functional component\n// may return an Array instead of a single root. In this case, just a simple\n// normalization is needed - if any child is an Array, we flatten the whole\n// thing with Array.prototype.concat. It is guaranteed to be only 1-level deep\n// because functional components already normalize their own children.\nfunction simpleNormalizeChildren (children) {\n  for (var i = 0; i < children.length; i++) {\n    if (Array.isArray(children[i])) {\n      return Array.prototype.concat.apply([], children)\n    }\n  }\n  return children\n}\n\n// 2. When the children contains constructs that always generated nested Arrays,\n// e.g. <template>, <slot>, v-for, or when the children is provided by user\n// with hand-written render functions / JSX. In such cases a full normalization\n// is needed to cater to all possible types of children values.\nfunction normalizeChildren (children) {\n  return isPrimitive(children)\n    ? [createTextVNode(children)]\n    : Array.isArray(children)\n      ? normalizeArrayChildren(children)\n      : undefined\n}\n\nfunction isTextNode (node) {\n  return isDef(node) && isDef(node.text) && isFalse(node.isComment)\n}\n\nfunction normalizeArrayChildren (children, nestedIndex) {\n  var res = [];\n  var i, c, lastIndex, last;\n  for (i = 0; i < children.length; i++) {\n    c = children[i];\n    if (isUndef(c) || typeof c === 'boolean') { continue }\n    lastIndex = res.length - 1;\n    last = res[lastIndex];\n    //  nested\n    if (Array.isArray(c)) {\n      if (c.length > 0) {\n        c = normalizeArrayChildren(c, ((nestedIndex || '') + \"_\" + i));\n        // merge adjacent text nodes\n        if (isTextNode(c[0]) && isTextNode(last)) {\n          res[lastIndex] = createTextVNode(last.text + (c[0]).text);\n          c.shift();\n        }\n        res.push.apply(res, c);\n      }\n    } else if (isPrimitive(c)) {\n      if (isTextNode(last)) {\n        // merge adjacent text nodes\n        // this is necessary for SSR hydration because text nodes are\n        // essentially merged when rendered to HTML strings\n        res[lastIndex] = createTextVNode(last.text + c);\n      } else if (c !== '') {\n        // convert primitive to vnode\n        res.push(createTextVNode(c));\n      }\n    } else {\n      if (isTextNode(c) && isTextNode(last)) {\n        // merge adjacent text nodes\n        res[lastIndex] = createTextVNode(last.text + c.text);\n      } else {\n        // default key for nested array children (likely generated by v-for)\n        if (isTrue(children._isVList) &&\n          isDef(c.tag) &&\n          isUndef(c.key) &&\n          isDef(nestedIndex)) {\n          c.key = \"__vlist\" + nestedIndex + \"_\" + i + \"__\";\n        }\n        res.push(c);\n      }\n    }\n  }\n  return res\n}\n\n/*  */\n\nfunction initProvide (vm) {\n  var provide = vm.$options.provide;\n  if (provide) {\n    vm._provided = typeof provide === 'function'\n      ? provide.call(vm)\n      : provide;\n  }\n}\n\nfunction initInjections (vm) {\n  var result = resolveInject(vm.$options.inject, vm);\n  if (result) {\n    toggleObserving(false);\n    Object.keys(result).forEach(function (key) {\n      /* istanbul ignore else */\n      if (process.env.NODE_ENV !== 'production') {\n        defineReactive(vm, key, result[key], function () {\n          warn(\n            \"Avoid mutating an injected value directly since the changes will be \" +\n            \"overwritten whenever the provided component re-renders. \" +\n            \"injection being mutated: \\\"\" + key + \"\\\"\",\n            vm\n          );\n        });\n      } else {\n        defineReactive(vm, key, result[key]);\n      }\n    });\n    toggleObserving(true);\n  }\n}\n\nfunction resolveInject (inject, vm) {\n  if (inject) {\n    // inject is :any because flow is not smart enough to figure out cached\n    var result = Object.create(null);\n    var keys = hasSymbol\n      ? Reflect.ownKeys(inject)\n      : Object.keys(inject);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      // #6574 in case the inject object is observed...\n      if (key === '__ob__') { continue }\n      var provideKey = inject[key].from;\n      var source = vm;\n      while (source) {\n        if (source._provided && hasOwn(source._provided, provideKey)) {\n          result[key] = source._provided[provideKey];\n          break\n        }\n        source = source.$parent;\n      }\n      if (!source) {\n        if ('default' in inject[key]) {\n          var provideDefault = inject[key].default;\n          result[key] = typeof provideDefault === 'function'\n            ? provideDefault.call(vm)\n            : provideDefault;\n        } else if (process.env.NODE_ENV !== 'production') {\n          warn((\"Injection \\\"\" + key + \"\\\" not found\"), vm);\n        }\n      }\n    }\n    return result\n  }\n}\n\n/*  */\n\n\n\n/**\n * Runtime helper for resolving raw children VNodes into a slot object.\n */\nfunction resolveSlots (\n  children,\n  context\n) {\n  if (!children || !children.length) {\n    return {}\n  }\n  var slots = {};\n  for (var i = 0, l = children.length; i < l; i++) {\n    var child = children[i];\n    var data = child.data;\n    // remove slot attribute if the node is resolved as a Vue slot node\n    if (data && data.attrs && data.attrs.slot) {\n      delete data.attrs.slot;\n    }\n    // named slots should only be respected if the vnode was rendered in the\n    // same context.\n    if ((child.context === context || child.fnContext === context) &&\n      data && data.slot != null\n    ) {\n      var name = data.slot;\n      var slot = (slots[name] || (slots[name] = []));\n      if (child.tag === 'template') {\n        slot.push.apply(slot, child.children || []);\n      } else {\n        slot.push(child);\n      }\n    } else {\n      (slots.default || (slots.default = [])).push(child);\n    }\n  }\n  // ignore slots that contains only whitespace\n  for (var name$1 in slots) {\n    if (slots[name$1].every(isWhitespace)) {\n      delete slots[name$1];\n    }\n  }\n  return slots\n}\n\nfunction isWhitespace (node) {\n  return (node.isComment && !node.asyncFactory) || node.text === ' '\n}\n\n/*  */\n\nfunction normalizeScopedSlots (\n  slots,\n  normalSlots,\n  prevSlots\n) {\n  var res;\n  var hasNormalSlots = Object.keys(normalSlots).length > 0;\n  var isStable = slots ? !!slots.$stable : !hasNormalSlots;\n  var key = slots && slots.$key;\n  if (!slots) {\n    res = {};\n  } else if (slots._normalized) {\n    // fast path 1: child component re-render only, parent did not change\n    return slots._normalized\n  } else if (\n    isStable &&\n    prevSlots &&\n    prevSlots !== emptyObject &&\n    key === prevSlots.$key &&\n    !hasNormalSlots &&\n    !prevSlots.$hasNormal\n  ) {\n    // fast path 2: stable scoped slots w/ no normal slots to proxy,\n    // only need to normalize once\n    return prevSlots\n  } else {\n    res = {};\n    for (var key$1 in slots) {\n      if (slots[key$1] && key$1[0] !== '$') {\n        res[key$1] = normalizeScopedSlot(normalSlots, key$1, slots[key$1]);\n      }\n    }\n  }\n  // expose normal slots on scopedSlots\n  for (var key$2 in normalSlots) {\n    if (!(key$2 in res)) {\n      res[key$2] = proxyNormalSlot(normalSlots, key$2);\n    }\n  }\n  // avoriaz seems to mock a non-extensible $scopedSlots object\n  // and when that is passed down this would cause an error\n  if (slots && Object.isExtensible(slots)) {\n    (slots)._normalized = res;\n  }\n  def(res, '$stable', isStable);\n  def(res, '$key', key);\n  def(res, '$hasNormal', hasNormalSlots);\n  return res\n}\n\nfunction normalizeScopedSlot(normalSlots, key, fn) {\n  var normalized = function () {\n    var res = arguments.length ? fn.apply(null, arguments) : fn({});\n    res = res && typeof res === 'object' && !Array.isArray(res)\n      ? [res] // single vnode\n      : normalizeChildren(res);\n    return res && (\n      res.length === 0 ||\n      (res.length === 1 && res[0].isComment) // #9658\n    ) ? undefined\n      : res\n  };\n  // this is a slot using the new v-slot syntax without scope. although it is\n  // compiled as a scoped slot, render fn users would expect it to be present\n  // on this.$slots because the usage is semantically a normal slot.\n  if (fn.proxy) {\n    Object.defineProperty(normalSlots, key, {\n      get: normalized,\n      enumerable: true,\n      configurable: true\n    });\n  }\n  return normalized\n}\n\nfunction proxyNormalSlot(slots, key) {\n  return function () { return slots[key]; }\n}\n\n/*  */\n\n/**\n * Runtime helper for rendering v-for lists.\n */\nfunction renderList (\n  val,\n  render\n) {\n  var ret, i, l, keys, key;\n  if (Array.isArray(val) || typeof val === 'string') {\n    ret = new Array(val.length);\n    for (i = 0, l = val.length; i < l; i++) {\n      ret[i] = render(val[i], i);\n    }\n  } else if (typeof val === 'number') {\n    ret = new Array(val);\n    for (i = 0; i < val; i++) {\n      ret[i] = render(i + 1, i);\n    }\n  } else if (isObject(val)) {\n    if (hasSymbol && val[Symbol.iterator]) {\n      ret = [];\n      var iterator = val[Symbol.iterator]();\n      var result = iterator.next();\n      while (!result.done) {\n        ret.push(render(result.value, ret.length));\n        result = iterator.next();\n      }\n    } else {\n      keys = Object.keys(val);\n      ret = new Array(keys.length);\n      for (i = 0, l = keys.length; i < l; i++) {\n        key = keys[i];\n        ret[i] = render(val[key], key, i);\n      }\n    }\n  }\n  if (!isDef(ret)) {\n    ret = [];\n  }\n  (ret)._isVList = true;\n  return ret\n}\n\n/*  */\n\n/**\n * Runtime helper for rendering <slot>\n */\nfunction renderSlot (\n  name,\n  fallback,\n  props,\n  bindObject\n) {\n  var scopedSlotFn = this.$scopedSlots[name];\n  var nodes;\n  if (scopedSlotFn) { // scoped slot\n    props = props || {};\n    if (bindObject) {\n      if (process.env.NODE_ENV !== 'production' && !isObject(bindObject)) {\n        warn(\n          'slot v-bind without argument expects an Object',\n          this\n        );\n      }\n      props = extend(extend({}, bindObject), props);\n    }\n    nodes = scopedSlotFn(props) || fallback;\n  } else {\n    nodes = this.$slots[name] || fallback;\n  }\n\n  var target = props && props.slot;\n  if (target) {\n    return this.$createElement('template', { slot: target }, nodes)\n  } else {\n    return nodes\n  }\n}\n\n/*  */\n\n/**\n * Runtime helper for resolving filters\n */\nfunction resolveFilter (id) {\n  return resolveAsset(this.$options, 'filters', id, true) || identity\n}\n\n/*  */\n\nfunction isKeyNotMatch (expect, actual) {\n  if (Array.isArray(expect)) {\n    return expect.indexOf(actual) === -1\n  } else {\n    return expect !== actual\n  }\n}\n\n/**\n * Runtime helper for checking keyCodes from config.\n * exposed as Vue.prototype._k\n * passing in eventKeyName as last argument separately for backwards compat\n */\nfunction checkKeyCodes (\n  eventKeyCode,\n  key,\n  builtInKeyCode,\n  eventKeyName,\n  builtInKeyName\n) {\n  var mappedKeyCode = config.keyCodes[key] || builtInKeyCode;\n  if (builtInKeyName && eventKeyName && !config.keyCodes[key]) {\n    return isKeyNotMatch(builtInKeyName, eventKeyName)\n  } else if (mappedKeyCode) {\n    return isKeyNotMatch(mappedKeyCode, eventKeyCode)\n  } else if (eventKeyName) {\n    return hyphenate(eventKeyName) !== key\n  }\n}\n\n/*  */\n\n/**\n * Runtime helper for merging v-bind=\"object\" into a VNode's data.\n */\nfunction bindObjectProps (\n  data,\n  tag,\n  value,\n  asProp,\n  isSync\n) {\n  if (value) {\n    if (!isObject(value)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        'v-bind without argument expects an Object or Array value',\n        this\n      );\n    } else {\n      if (Array.isArray(value)) {\n        value = toObject(value);\n      }\n      var hash;\n      var loop = function ( key ) {\n        if (\n          key === 'class' ||\n          key === 'style' ||\n          isReservedAttribute(key)\n        ) {\n          hash = data;\n        } else {\n          var type = data.attrs && data.attrs.type;\n          hash = asProp || config.mustUseProp(tag, type, key)\n            ? data.domProps || (data.domProps = {})\n            : data.attrs || (data.attrs = {});\n        }\n        var camelizedKey = camelize(key);\n        var hyphenatedKey = hyphenate(key);\n        if (!(camelizedKey in hash) && !(hyphenatedKey in hash)) {\n          hash[key] = value[key];\n\n          if (isSync) {\n            var on = data.on || (data.on = {});\n            on[(\"update:\" + key)] = function ($event) {\n              value[key] = $event;\n            };\n          }\n        }\n      };\n\n      for (var key in value) loop( key );\n    }\n  }\n  return data\n}\n\n/*  */\n\n/**\n * Runtime helper for rendering static trees.\n */\nfunction renderStatic (\n  index,\n  isInFor\n) {\n  var cached = this._staticTrees || (this._staticTrees = []);\n  var tree = cached[index];\n  // if has already-rendered static tree and not inside v-for,\n  // we can reuse the same tree.\n  if (tree && !isInFor) {\n    return tree\n  }\n  // otherwise, render a fresh tree.\n  tree = cached[index] = this.$options.staticRenderFns[index].call(\n    this._renderProxy,\n    null,\n    this // for render fns generated for functional component templates\n  );\n  markStatic(tree, (\"__static__\" + index), false);\n  return tree\n}\n\n/**\n * Runtime helper for v-once.\n * Effectively it means marking the node as static with a unique key.\n */\nfunction markOnce (\n  tree,\n  index,\n  key\n) {\n  markStatic(tree, (\"__once__\" + index + (key ? (\"_\" + key) : \"\")), true);\n  return tree\n}\n\nfunction markStatic (\n  tree,\n  key,\n  isOnce\n) {\n  if (Array.isArray(tree)) {\n    for (var i = 0; i < tree.length; i++) {\n      if (tree[i] && typeof tree[i] !== 'string') {\n        markStaticNode(tree[i], (key + \"_\" + i), isOnce);\n      }\n    }\n  } else {\n    markStaticNode(tree, key, isOnce);\n  }\n}\n\nfunction markStaticNode (node, key, isOnce) {\n  node.isStatic = true;\n  node.key = key;\n  node.isOnce = isOnce;\n}\n\n/*  */\n\nfunction bindObjectListeners (data, value) {\n  if (value) {\n    if (!isPlainObject(value)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        'v-on without argument expects an Object value',\n        this\n      );\n    } else {\n      var on = data.on = data.on ? extend({}, data.on) : {};\n      for (var key in value) {\n        var existing = on[key];\n        var ours = value[key];\n        on[key] = existing ? [].concat(existing, ours) : ours;\n      }\n    }\n  }\n  return data\n}\n\n/*  */\n\nfunction resolveScopedSlots (\n  fns, // see flow/vnode\n  res,\n  // the following are added in 2.6\n  hasDynamicKeys,\n  contentHashKey\n) {\n  res = res || { $stable: !hasDynamicKeys };\n  for (var i = 0; i < fns.length; i++) {\n    var slot = fns[i];\n    if (Array.isArray(slot)) {\n      resolveScopedSlots(slot, res, hasDynamicKeys);\n    } else if (slot) {\n      // marker for reverse proxying v-slot without scope on this.$slots\n      if (slot.proxy) {\n        slot.fn.proxy = true;\n      }\n      res[slot.key] = slot.fn;\n    }\n  }\n  if (contentHashKey) {\n    (res).$key = contentHashKey;\n  }\n  return res\n}\n\n/*  */\n\nfunction bindDynamicKeys (baseObj, values) {\n  for (var i = 0; i < values.length; i += 2) {\n    var key = values[i];\n    if (typeof key === 'string' && key) {\n      baseObj[values[i]] = values[i + 1];\n    } else if (process.env.NODE_ENV !== 'production' && key !== '' && key !== null) {\n      // null is a special value for explicitly removing a binding\n      warn(\n        (\"Invalid value for dynamic directive argument (expected string or null): \" + key),\n        this\n      );\n    }\n  }\n  return baseObj\n}\n\n// helper to dynamically append modifier runtime markers to event names.\n// ensure only append when value is already string, otherwise it will be cast\n// to string and cause the type check to miss.\nfunction prependModifier (value, symbol) {\n  return typeof value === 'string' ? symbol + value : value\n}\n\n/*  */\n\nfunction installRenderHelpers (target) {\n  target._o = markOnce;\n  target._n = toNumber;\n  target._s = toString;\n  target._l = renderList;\n  target._t = renderSlot;\n  target._q = looseEqual;\n  target._i = looseIndexOf;\n  target._m = renderStatic;\n  target._f = resolveFilter;\n  target._k = checkKeyCodes;\n  target._b = bindObjectProps;\n  target._v = createTextVNode;\n  target._e = createEmptyVNode;\n  target._u = resolveScopedSlots;\n  target._g = bindObjectListeners;\n  target._d = bindDynamicKeys;\n  target._p = prependModifier;\n}\n\n/*  */\n\nfunction FunctionalRenderContext (\n  data,\n  props,\n  children,\n  parent,\n  Ctor\n) {\n  var this$1 = this;\n\n  var options = Ctor.options;\n  // ensure the createElement function in functional components\n  // gets a unique context - this is necessary for correct named slot check\n  var contextVm;\n  if (hasOwn(parent, '_uid')) {\n    contextVm = Object.create(parent);\n    // $flow-disable-line\n    contextVm._original = parent;\n  } else {\n    // the context vm passed in is a functional context as well.\n    // in this case we want to make sure we are able to get a hold to the\n    // real context instance.\n    contextVm = parent;\n    // $flow-disable-line\n    parent = parent._original;\n  }\n  var isCompiled = isTrue(options._compiled);\n  var needNormalization = !isCompiled;\n\n  this.data = data;\n  this.props = props;\n  this.children = children;\n  this.parent = parent;\n  this.listeners = data.on || emptyObject;\n  this.injections = resolveInject(options.inject, parent);\n  this.slots = function () {\n    if (!this$1.$slots) {\n      normalizeScopedSlots(\n        data.scopedSlots,\n        this$1.$slots = resolveSlots(children, parent)\n      );\n    }\n    return this$1.$slots\n  };\n\n  Object.defineProperty(this, 'scopedSlots', ({\n    enumerable: true,\n    get: function get () {\n      return normalizeScopedSlots(data.scopedSlots, this.slots())\n    }\n  }));\n\n  // support for compiled functional template\n  if (isCompiled) {\n    // exposing $options for renderStatic()\n    this.$options = options;\n    // pre-resolve slots for renderSlot()\n    this.$slots = this.slots();\n    this.$scopedSlots = normalizeScopedSlots(data.scopedSlots, this.$slots);\n  }\n\n  if (options._scopeId) {\n    this._c = function (a, b, c, d) {\n      var vnode = createElement(contextVm, a, b, c, d, needNormalization);\n      if (vnode && !Array.isArray(vnode)) {\n        vnode.fnScopeId = options._scopeId;\n        vnode.fnContext = parent;\n      }\n      return vnode\n    };\n  } else {\n    this._c = function (a, b, c, d) { return createElement(contextVm, a, b, c, d, needNormalization); };\n  }\n}\n\ninstallRenderHelpers(FunctionalRenderContext.prototype);\n\nfunction createFunctionalComponent (\n  Ctor,\n  propsData,\n  data,\n  contextVm,\n  children\n) {\n  var options = Ctor.options;\n  var props = {};\n  var propOptions = options.props;\n  if (isDef(propOptions)) {\n    for (var key in propOptions) {\n      props[key] = validateProp(key, propOptions, propsData || emptyObject);\n    }\n  } else {\n    if (isDef(data.attrs)) { mergeProps(props, data.attrs); }\n    if (isDef(data.props)) { mergeProps(props, data.props); }\n  }\n\n  var renderContext = new FunctionalRenderContext(\n    data,\n    props,\n    children,\n    contextVm,\n    Ctor\n  );\n\n  var vnode = options.render.call(null, renderContext._c, renderContext);\n\n  if (vnode instanceof VNode) {\n    return cloneAndMarkFunctionalResult(vnode, data, renderContext.parent, options, renderContext)\n  } else if (Array.isArray(vnode)) {\n    var vnodes = normalizeChildren(vnode) || [];\n    var res = new Array(vnodes.length);\n    for (var i = 0; i < vnodes.length; i++) {\n      res[i] = cloneAndMarkFunctionalResult(vnodes[i], data, renderContext.parent, options, renderContext);\n    }\n    return res\n  }\n}\n\nfunction cloneAndMarkFunctionalResult (vnode, data, contextVm, options, renderContext) {\n  // #7817 clone node before setting fnContext, otherwise if the node is reused\n  // (e.g. it was from a cached normal slot) the fnContext causes named slots\n  // that should not be matched to match.\n  var clone = cloneVNode(vnode);\n  clone.fnContext = contextVm;\n  clone.fnOptions = options;\n  if (process.env.NODE_ENV !== 'production') {\n    (clone.devtoolsMeta = clone.devtoolsMeta || {}).renderContext = renderContext;\n  }\n  if (data.slot) {\n    (clone.data || (clone.data = {})).slot = data.slot;\n  }\n  return clone\n}\n\nfunction mergeProps (to, from) {\n  for (var key in from) {\n    to[camelize(key)] = from[key];\n  }\n}\n\n/*  */\n\nvar RECYCLE_LIST_MARKER = '@inRecycleList';\n\n// Register the component hook to weex native render engine.\n// The hook will be triggered by native, not javascript.\nfunction registerComponentHook (\n  componentId,\n  type, // hook type, could be \"lifecycle\" or \"instance\"\n  hook, // hook name\n  fn\n) {\n  if (!document || !document.taskCenter) {\n    warn(\"Can't find available \\\"document\\\" or \\\"taskCenter\\\".\");\n    return\n  }\n  if (typeof document.taskCenter.registerHook === 'function') {\n    return document.taskCenter.registerHook(componentId, type, hook, fn)\n  }\n  warn((\"Failed to register component hook \\\"\" + type + \"@\" + hook + \"#\" + componentId + \"\\\".\"));\n}\n\n// Updates the state of the component to weex native render engine.\nfunction updateComponentData (\n  componentId,\n  newData,\n  callback\n) {\n  if (!document || !document.taskCenter) {\n    warn(\"Can't find available \\\"document\\\" or \\\"taskCenter\\\".\");\n    return\n  }\n  if (typeof document.taskCenter.updateData === 'function') {\n    return document.taskCenter.updateData(componentId, newData, callback)\n  }\n  warn((\"Failed to update component data (\" + componentId + \").\"));\n}\n\n/*  */\n\nvar uid$1 = 0;\n\n// override Vue.prototype._init\nfunction initVirtualComponent (options) {\n  if ( options === void 0 ) options = {};\n\n  var vm = this;\n  var componentId = options.componentId;\n\n  // virtual component uid\n  vm._uid = \"virtual-component-\" + (uid$1++);\n\n  // a flag to avoid this being observed\n  vm._isVue = true;\n  // merge options\n  if (options && options._isComponent) {\n    // optimize internal component instantiation\n    // since dynamic options merging is pretty slow, and none of the\n    // internal component options needs special treatment.\n    initInternalComponent(vm, options);\n  } else {\n    vm.$options = mergeOptions(\n      resolveConstructorOptions(vm.constructor),\n      options || {},\n      vm\n    );\n  }\n\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== 'production') {\n    initProxy(vm);\n  } else {\n    vm._renderProxy = vm;\n  }\n\n  vm._self = vm;\n  initLifecycle(vm);\n  initEvents(vm);\n  initRender(vm);\n  callHook(vm, 'beforeCreate');\n  initInjections(vm); // resolve injections before data/props\n  initState(vm);\n  initProvide(vm); // resolve provide after data/props\n  callHook(vm, 'created');\n\n  // send initial data to native\n  var data = vm.$options.data;\n  var params = typeof data === 'function'\n    ? getData(data, vm)\n    : data || {};\n  if (isPlainObject(params)) {\n    updateComponentData(componentId, params);\n  }\n\n  registerComponentHook(componentId, 'lifecycle', 'attach', function () {\n    callHook(vm, 'beforeMount');\n\n    var updateComponent = function () {\n      vm._update(vm._vnode, false);\n    };\n    new Watcher(vm, updateComponent, noop, null, true);\n\n    vm._isMounted = true;\n    callHook(vm, 'mounted');\n  });\n\n  registerComponentHook(componentId, 'lifecycle', 'detach', function () {\n    vm.$destroy();\n  });\n}\n\n// override Vue.prototype._update\nfunction updateVirtualComponent (vnode) {\n  var vm = this;\n  var componentId = vm.$options.componentId;\n  if (vm._isMounted) {\n    callHook(vm, 'beforeUpdate');\n  }\n  vm._vnode = vnode;\n  if (vm._isMounted && componentId) {\n    // TODO: data should be filtered and without bindings\n    var data = Object.assign({}, vm._data);\n    updateComponentData(componentId, data, function () {\n      callHook(vm, 'updated');\n    });\n  }\n}\n\n// listening on native callback\nfunction resolveVirtualComponent (vnode) {\n  var BaseCtor = vnode.componentOptions.Ctor;\n  var VirtualComponent = BaseCtor.extend({});\n  var cid = VirtualComponent.cid;\n  VirtualComponent.prototype._init = initVirtualComponent;\n  VirtualComponent.prototype._update = updateVirtualComponent;\n\n  vnode.componentOptions.Ctor = BaseCtor.extend({\n    beforeCreate: function beforeCreate () {\n      // const vm: Component = this\n\n      // TODO: listen on all events and dispatch them to the\n      // corresponding virtual components according to the componentId.\n      // vm._virtualComponents = {}\n      var createVirtualComponent = function (componentId, propsData) {\n        // create virtual component\n        // const subVm =\n        new VirtualComponent({\n          componentId: componentId,\n          propsData: propsData\n        });\n        // if (vm._virtualComponents) {\n        //   vm._virtualComponents[componentId] = subVm\n        // }\n      };\n\n      registerComponentHook(cid, 'lifecycle', 'create', createVirtualComponent);\n    },\n    beforeDestroy: function beforeDestroy () {\n      delete this._virtualComponents;\n    }\n  });\n}\n\n/*  */\n\nfunction isRecyclableComponent (vnode) {\n  return vnode.data.attrs\n    ? (RECYCLE_LIST_MARKER in vnode.data.attrs)\n    : false\n}\n\nfunction renderRecyclableComponentTemplate (vnode) {\n  // $flow-disable-line\n  delete vnode.data.attrs[RECYCLE_LIST_MARKER];\n  resolveVirtualComponent(vnode);\n  var vm = createComponentInstanceForVnode(vnode);\n  var render = (vm.$options)['@render'];\n  if (render) {\n    try {\n      return render.call(vm)\n    } catch (err) {\n      handleError(err, vm, \"@render\");\n    }\n  } else {\n    warn(\n      \"@render function not defined on component used in <recycle-list>. \" +\n      \"Make sure to declare `recyclable=\\\"true\\\"` on the component's template.\",\n      vm\n    );\n  }\n}\n\n/*  */\n\n// inline hooks to be invoked on component VNodes during patch\nvar componentVNodeHooks = {\n  init: function init (vnode, hydrating) {\n    if (\n      vnode.componentInstance &&\n      !vnode.componentInstance._isDestroyed &&\n      vnode.data.keepAlive\n    ) {\n      // kept-alive components, treat as a patch\n      var mountedNode = vnode; // work around flow\n      componentVNodeHooks.prepatch(mountedNode, mountedNode);\n    } else {\n      var child = vnode.componentInstance = createComponentInstanceForVnode(\n        vnode,\n        activeInstance\n      );\n      child.$mount(hydrating ? vnode.elm : undefined, hydrating);\n    }\n  },\n\n  prepatch: function prepatch (oldVnode, vnode) {\n    var options = vnode.componentOptions;\n    var child = vnode.componentInstance = oldVnode.componentInstance;\n    updateChildComponent(\n      child,\n      options.propsData, // updated props\n      options.listeners, // updated listeners\n      vnode, // new parent vnode\n      options.children // new children\n    );\n  },\n\n  insert: function insert (vnode) {\n    var context = vnode.context;\n    var componentInstance = vnode.componentInstance;\n    if (!componentInstance._isMounted) {\n      componentInstance._isMounted = true;\n      callHook(componentInstance, 'mounted');\n    }\n    if (vnode.data.keepAlive) {\n      if (context._isMounted) {\n        // vue-router#1212\n        // During updates, a kept-alive component's child components may\n        // change, so directly walking the tree here may call activated hooks\n        // on incorrect children. Instead we push them into a queue which will\n        // be processed after the whole patch process ended.\n        queueActivatedComponent(componentInstance);\n      } else {\n        activateChildComponent(componentInstance, true /* direct */);\n      }\n    }\n  },\n\n  destroy: function destroy (vnode) {\n    var componentInstance = vnode.componentInstance;\n    if (!componentInstance._isDestroyed) {\n      if (!vnode.data.keepAlive) {\n        componentInstance.$destroy();\n      } else {\n        deactivateChildComponent(componentInstance, true /* direct */);\n      }\n    }\n  }\n};\n\nvar hooksToMerge = Object.keys(componentVNodeHooks);\n\nfunction createComponent (\n  Ctor,\n  data,\n  context,\n  children,\n  tag\n) {\n  if (isUndef(Ctor)) {\n    return\n  }\n\n  var baseCtor = context.$options._base;\n\n  // plain options object: turn it into a constructor\n  if (isObject(Ctor)) {\n    Ctor = baseCtor.extend(Ctor);\n  }\n\n  // if at this stage it's not a constructor or an async component factory,\n  // reject.\n  if (typeof Ctor !== 'function') {\n    if (process.env.NODE_ENV !== 'production') {\n      warn((\"Invalid Component definition: \" + (String(Ctor))), context);\n    }\n    return\n  }\n\n  // async component\n  var asyncFactory;\n  if (isUndef(Ctor.cid)) {\n    asyncFactory = Ctor;\n    Ctor = resolveAsyncComponent(asyncFactory, baseCtor);\n    if (Ctor === undefined) {\n      // return a placeholder node for async component, which is rendered\n      // as a comment node but preserves all the raw information for the node.\n      // the information will be used for async server-rendering and hydration.\n      return createAsyncPlaceholder(\n        asyncFactory,\n        data,\n        context,\n        children,\n        tag\n      )\n    }\n  }\n\n  data = data || {};\n\n  // resolve constructor options in case global mixins are applied after\n  // component constructor creation\n  resolveConstructorOptions(Ctor);\n\n  // transform component v-model data into props & events\n  if (isDef(data.model)) {\n    transformModel(Ctor.options, data);\n  }\n\n  // extract props\n  var propsData = extractPropsFromVNodeData(data, Ctor, tag);\n\n  // functional component\n  if (isTrue(Ctor.options.functional)) {\n    return createFunctionalComponent(Ctor, propsData, data, context, children)\n  }\n\n  // extract listeners, since these needs to be treated as\n  // child component listeners instead of DOM listeners\n  var listeners = data.on;\n  // replace with listeners with .native modifier\n  // so it gets processed during parent component patch.\n  data.on = data.nativeOn;\n\n  if (isTrue(Ctor.options.abstract)) {\n    // abstract components do not keep anything\n    // other than props & listeners & slot\n\n    // work around flow\n    var slot = data.slot;\n    data = {};\n    if (slot) {\n      data.slot = slot;\n    }\n  }\n\n  // install component management hooks onto the placeholder node\n  installComponentHooks(data);\n\n  // return a placeholder vnode\n  var name = Ctor.options.name || tag;\n  var vnode = new VNode(\n    (\"vue-component-\" + (Ctor.cid) + (name ? (\"-\" + name) : '')),\n    data, undefined, undefined, undefined, context,\n    { Ctor: Ctor, propsData: propsData, listeners: listeners, tag: tag, children: children },\n    asyncFactory\n  );\n\n  // Weex specific: invoke recycle-list optimized @render function for\n  // extracting cell-slot template.\n  // https://github.com/Hanks10100/weex-native-directive/tree/master/component\n  /* istanbul ignore if */\n  if ( isRecyclableComponent(vnode)) {\n    return renderRecyclableComponentTemplate(vnode)\n  }\n\n  return vnode\n}\n\nfunction createComponentInstanceForVnode (\n  // we know it's MountedComponentVNode but flow doesn't\n  vnode,\n  // activeInstance in lifecycle state\n  parent\n) {\n  var options = {\n    _isComponent: true,\n    _parentVnode: vnode,\n    parent: parent\n  };\n  // check inline-template render functions\n  var inlineTemplate = vnode.data.inlineTemplate;\n  if (isDef(inlineTemplate)) {\n    options.render = inlineTemplate.render;\n    options.staticRenderFns = inlineTemplate.staticRenderFns;\n  }\n  return new vnode.componentOptions.Ctor(options)\n}\n\nfunction installComponentHooks (data) {\n  var hooks = data.hook || (data.hook = {});\n  for (var i = 0; i < hooksToMerge.length; i++) {\n    var key = hooksToMerge[i];\n    var existing = hooks[key];\n    var toMerge = componentVNodeHooks[key];\n    if (existing !== toMerge && !(existing && existing._merged)) {\n      hooks[key] = existing ? mergeHook$1(toMerge, existing) : toMerge;\n    }\n  }\n}\n\nfunction mergeHook$1 (f1, f2) {\n  var merged = function (a, b) {\n    // flow complains about extra args which is why we use any\n    f1(a, b);\n    f2(a, b);\n  };\n  merged._merged = true;\n  return merged\n}\n\n// transform component v-model info (value and callback) into\n// prop and event handler respectively.\nfunction transformModel (options, data) {\n  var prop = (options.model && options.model.prop) || 'value';\n  var event = (options.model && options.model.event) || 'input'\n  ;(data.attrs || (data.attrs = {}))[prop] = data.model.value;\n  var on = data.on || (data.on = {});\n  var existing = on[event];\n  var callback = data.model.callback;\n  if (isDef(existing)) {\n    if (\n      Array.isArray(existing)\n        ? existing.indexOf(callback) === -1\n        : existing !== callback\n    ) {\n      on[event] = [callback].concat(existing);\n    }\n  } else {\n    on[event] = callback;\n  }\n}\n\n/*  */\n\nvar SIMPLE_NORMALIZE = 1;\nvar ALWAYS_NORMALIZE = 2;\n\n// wrapper function for providing a more flexible interface\n// without getting yelled at by flow\nfunction createElement (\n  context,\n  tag,\n  data,\n  children,\n  normalizationType,\n  alwaysNormalize\n) {\n  if (Array.isArray(data) || isPrimitive(data)) {\n    normalizationType = children;\n    children = data;\n    data = undefined;\n  }\n  if (isTrue(alwaysNormalize)) {\n    normalizationType = ALWAYS_NORMALIZE;\n  }\n  return _createElement(context, tag, data, children, normalizationType)\n}\n\nfunction _createElement (\n  context,\n  tag,\n  data,\n  children,\n  normalizationType\n) {\n  if (isDef(data) && isDef((data).__ob__)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      \"Avoid using observed data object as vnode data: \" + (JSON.stringify(data)) + \"\\n\" +\n      'Always create fresh vnode data objects in each render!',\n      context\n    );\n    return createEmptyVNode()\n  }\n  // object syntax in v-bind\n  if (isDef(data) && isDef(data.is)) {\n    tag = data.is;\n  }\n  if (!tag) {\n    // in case of component :is set to falsy value\n    return createEmptyVNode()\n  }\n  // warn against non-primitive key\n  if (process.env.NODE_ENV !== 'production' &&\n    isDef(data) && isDef(data.key) && !isPrimitive(data.key)\n  ) {\n    if ( !('@binding' in data.key)) {\n      warn(\n        'Avoid using non-primitive value as key, ' +\n        'use string/number value instead.',\n        context\n      );\n    }\n  }\n  // support single function children as default scoped slot\n  if (Array.isArray(children) &&\n    typeof children[0] === 'function'\n  ) {\n    data = data || {};\n    data.scopedSlots = { default: children[0] };\n    children.length = 0;\n  }\n  if (normalizationType === ALWAYS_NORMALIZE) {\n    children = normalizeChildren(children);\n  } else if (normalizationType === SIMPLE_NORMALIZE) {\n    children = simpleNormalizeChildren(children);\n  }\n  var vnode, ns;\n  if (typeof tag === 'string') {\n    var Ctor;\n    ns = (context.$vnode && context.$vnode.ns) || config.getTagNamespace(tag);\n    if (config.isReservedTag(tag)) {\n      // platform built-in elements\n      if (process.env.NODE_ENV !== 'production' && isDef(data) && isDef(data.nativeOn)) {\n        warn(\n          (\"The .native modifier for v-on is only valid on components but it was used on <\" + tag + \">.\"),\n          context\n        );\n      }\n      vnode = new VNode(\n        config.parsePlatformTagName(tag), data, children,\n        undefined, undefined, context\n      );\n    } else if ((!data || !data.pre) && isDef(Ctor = resolveAsset(context.$options, 'components', tag))) {\n      // component\n      vnode = createComponent(Ctor, data, context, children, tag);\n    } else {\n      // unknown or unlisted namespaced elements\n      // check at runtime because it may get assigned a namespace when its\n      // parent normalizes children\n      vnode = new VNode(\n        tag, data, children,\n        undefined, undefined, context\n      );\n    }\n  } else {\n    // direct component options / constructor\n    vnode = createComponent(tag, data, context, children);\n  }\n  if (Array.isArray(vnode)) {\n    return vnode\n  } else if (isDef(vnode)) {\n    if (isDef(ns)) { applyNS(vnode, ns); }\n    if (isDef(data)) { registerDeepBindings(data); }\n    return vnode\n  } else {\n    return createEmptyVNode()\n  }\n}\n\nfunction applyNS (vnode, ns, force) {\n  vnode.ns = ns;\n  if (vnode.tag === 'foreignObject') {\n    // use default namespace inside foreignObject\n    ns = undefined;\n    force = true;\n  }\n  if (isDef(vnode.children)) {\n    for (var i = 0, l = vnode.children.length; i < l; i++) {\n      var child = vnode.children[i];\n      if (isDef(child.tag) && (\n        isUndef(child.ns) || (isTrue(force) && child.tag !== 'svg'))) {\n        applyNS(child, ns, force);\n      }\n    }\n  }\n}\n\n// ref #5318\n// necessary to ensure parent re-render when deep bindings like :style and\n// :class are used on slot nodes\nfunction registerDeepBindings (data) {\n  if (isObject(data.style)) {\n    traverse(data.style);\n  }\n  if (isObject(data.class)) {\n    traverse(data.class);\n  }\n}\n\n/*  */\n\nfunction initRender (vm) {\n  vm._vnode = null; // the root of the child tree\n  vm._staticTrees = null; // v-once cached trees\n  var options = vm.$options;\n  var parentVnode = vm.$vnode = options._parentVnode; // the placeholder node in parent tree\n  var renderContext = parentVnode && parentVnode.context;\n  vm.$slots = resolveSlots(options._renderChildren, renderContext);\n  vm.$scopedSlots = emptyObject;\n  // bind the createElement fn to this instance\n  // so that we get proper render context inside it.\n  // args order: tag, data, children, normalizationType, alwaysNormalize\n  // internal version is used by render functions compiled from templates\n  vm._c = function (a, b, c, d) { return createElement(vm, a, b, c, d, false); };\n  // normalization is always applied for the public version, used in\n  // user-written render functions.\n  vm.$createElement = function (a, b, c, d) { return createElement(vm, a, b, c, d, true); };\n\n  // $attrs & $listeners are exposed for easier HOC creation.\n  // they need to be reactive so that HOCs using them are always updated\n  var parentData = parentVnode && parentVnode.data;\n\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== 'production') {\n    defineReactive(vm, '$attrs', parentData && parentData.attrs || emptyObject, function () {\n      !isUpdatingChildComponent && warn(\"$attrs is readonly.\", vm);\n    }, true);\n    defineReactive(vm, '$listeners', options._parentListeners || emptyObject, function () {\n      !isUpdatingChildComponent && warn(\"$listeners is readonly.\", vm);\n    }, true);\n  } else {\n    defineReactive(vm, '$attrs', parentData && parentData.attrs || emptyObject, null, true);\n    defineReactive(vm, '$listeners', options._parentListeners || emptyObject, null, true);\n  }\n}\n\nvar currentRenderingInstance = null;\n\nfunction renderMixin (Vue) {\n  // install runtime convenience helpers\n  installRenderHelpers(Vue.prototype);\n\n  Vue.prototype.$nextTick = function (fn) {\n    return nextTick(fn, this)\n  };\n\n  Vue.prototype._render = function () {\n    var vm = this;\n    var ref = vm.$options;\n    var render = ref.render;\n    var _parentVnode = ref._parentVnode;\n\n    if (_parentVnode) {\n      vm.$scopedSlots = normalizeScopedSlots(\n        _parentVnode.data.scopedSlots,\n        vm.$slots,\n        vm.$scopedSlots\n      );\n    }\n\n    // set parent vnode. this allows render functions to have access\n    // to the data on the placeholder node.\n    vm.$vnode = _parentVnode;\n    // render self\n    var vnode;\n    try {\n      // There's no need to maintain a stack because all render fns are called\n      // separately from one another. Nested component's render fns are called\n      // when parent component is patched.\n      currentRenderingInstance = vm;\n      vnode = render.call(vm._renderProxy, vm.$createElement);\n    } catch (e) {\n      handleError(e, vm, \"render\");\n      // return error render result,\n      // or previous vnode to prevent render error causing blank component\n      /* istanbul ignore else */\n      if (process.env.NODE_ENV !== 'production' && vm.$options.renderError) {\n        try {\n          vnode = vm.$options.renderError.call(vm._renderProxy, vm.$createElement, e);\n        } catch (e) {\n          handleError(e, vm, \"renderError\");\n          vnode = vm._vnode;\n        }\n      } else {\n        vnode = vm._vnode;\n      }\n    } finally {\n      currentRenderingInstance = null;\n    }\n    // if the returned array contains only a single node, allow it\n    if (Array.isArray(vnode) && vnode.length === 1) {\n      vnode = vnode[0];\n    }\n    // return empty vnode in case the render function errored out\n    if (!(vnode instanceof VNode)) {\n      if (process.env.NODE_ENV !== 'production' && Array.isArray(vnode)) {\n        warn(\n          'Multiple root nodes returned from render function. Render function ' +\n          'should return a single root node.',\n          vm\n        );\n      }\n      vnode = createEmptyVNode();\n    }\n    // set parent\n    vnode.parent = _parentVnode;\n    return vnode\n  };\n}\n\n/*  */\n\nfunction ensureCtor (comp, base) {\n  if (\n    comp.__esModule ||\n    (hasSymbol && comp[Symbol.toStringTag] === 'Module')\n  ) {\n    comp = comp.default;\n  }\n  return isObject(comp)\n    ? base.extend(comp)\n    : comp\n}\n\nfunction createAsyncPlaceholder (\n  factory,\n  data,\n  context,\n  children,\n  tag\n) {\n  var node = createEmptyVNode();\n  node.asyncFactory = factory;\n  node.asyncMeta = { data: data, context: context, children: children, tag: tag };\n  return node\n}\n\nfunction resolveAsyncComponent (\n  factory,\n  baseCtor\n) {\n  if (isTrue(factory.error) && isDef(factory.errorComp)) {\n    return factory.errorComp\n  }\n\n  if (isDef(factory.resolved)) {\n    return factory.resolved\n  }\n\n  var owner = currentRenderingInstance;\n  if (owner && isDef(factory.owners) && factory.owners.indexOf(owner) === -1) {\n    // already pending\n    factory.owners.push(owner);\n  }\n\n  if (isTrue(factory.loading) && isDef(factory.loadingComp)) {\n    return factory.loadingComp\n  }\n\n  if (owner && !isDef(factory.owners)) {\n    var owners = factory.owners = [owner];\n    var sync = true;\n    var timerLoading = null;\n    var timerTimeout = null\n\n    ;(owner).$on('hook:destroyed', function () { return remove(owners, owner); });\n\n    var forceRender = function (renderCompleted) {\n      for (var i = 0, l = owners.length; i < l; i++) {\n        (owners[i]).$forceUpdate();\n      }\n\n      if (renderCompleted) {\n        owners.length = 0;\n        if (timerLoading !== null) {\n          clearTimeout(timerLoading);\n          timerLoading = null;\n        }\n        if (timerTimeout !== null) {\n          clearTimeout(timerTimeout);\n          timerTimeout = null;\n        }\n      }\n    };\n\n    var resolve = once(function (res) {\n      // cache resolved\n      factory.resolved = ensureCtor(res, baseCtor);\n      // invoke callbacks only if this is not a synchronous resolve\n      // (async resolves are shimmed as synchronous during SSR)\n      if (!sync) {\n        forceRender(true);\n      } else {\n        owners.length = 0;\n      }\n    });\n\n    var reject = once(function (reason) {\n      process.env.NODE_ENV !== 'production' && warn(\n        \"Failed to resolve async component: \" + (String(factory)) +\n        (reason ? (\"\\nReason: \" + reason) : '')\n      );\n      if (isDef(factory.errorComp)) {\n        factory.error = true;\n        forceRender(true);\n      }\n    });\n\n    var res = factory(resolve, reject);\n\n    if (isObject(res)) {\n      if (isPromise(res)) {\n        // () => Promise\n        if (isUndef(factory.resolved)) {\n          res.then(resolve, reject);\n        }\n      } else if (isPromise(res.component)) {\n        res.component.then(resolve, reject);\n\n        if (isDef(res.error)) {\n          factory.errorComp = ensureCtor(res.error, baseCtor);\n        }\n\n        if (isDef(res.loading)) {\n          factory.loadingComp = ensureCtor(res.loading, baseCtor);\n          if (res.delay === 0) {\n            factory.loading = true;\n          } else {\n            timerLoading = setTimeout(function () {\n              timerLoading = null;\n              if (isUndef(factory.resolved) && isUndef(factory.error)) {\n                factory.loading = true;\n                forceRender(false);\n              }\n            }, res.delay || 200);\n          }\n        }\n\n        if (isDef(res.timeout)) {\n          timerTimeout = setTimeout(function () {\n            timerTimeout = null;\n            if (isUndef(factory.resolved)) {\n              reject(\n                process.env.NODE_ENV !== 'production'\n                  ? (\"timeout (\" + (res.timeout) + \"ms)\")\n                  : null\n              );\n            }\n          }, res.timeout);\n        }\n      }\n    }\n\n    sync = false;\n    // return in case resolved synchronously\n    return factory.loading\n      ? factory.loadingComp\n      : factory.resolved\n  }\n}\n\n/*  */\n\nfunction isAsyncPlaceholder (node) {\n  return node.isComment && node.asyncFactory\n}\n\n/*  */\n\nfunction getFirstComponentChild (children) {\n  if (Array.isArray(children)) {\n    for (var i = 0; i < children.length; i++) {\n      var c = children[i];\n      if (isDef(c) && (isDef(c.componentOptions) || isAsyncPlaceholder(c))) {\n        return c\n      }\n    }\n  }\n}\n\n/*  */\n\nfunction initEvents (vm) {\n  vm._events = Object.create(null);\n  vm._hasHookEvent = false;\n  // init parent attached events\n  var listeners = vm.$options._parentListeners;\n  if (listeners) {\n    updateComponentListeners(vm, listeners);\n  }\n}\n\nvar target;\n\nfunction add (event, fn) {\n  target.$on(event, fn);\n}\n\nfunction remove$1 (event, fn) {\n  target.$off(event, fn);\n}\n\nfunction createOnceHandler (event, fn) {\n  var _target = target;\n  return function onceHandler () {\n    var res = fn.apply(null, arguments);\n    if (res !== null) {\n      _target.$off(event, onceHandler);\n    }\n  }\n}\n\nfunction updateComponentListeners (\n  vm,\n  listeners,\n  oldListeners\n) {\n  target = vm;\n  updateListeners(listeners, oldListeners || {}, add, remove$1, createOnceHandler, vm);\n  target = undefined;\n}\n\nfunction eventsMixin (Vue) {\n  var hookRE = /^hook:/;\n  Vue.prototype.$on = function (event, fn) {\n    var vm = this;\n    if (Array.isArray(event)) {\n      for (var i = 0, l = event.length; i < l; i++) {\n        vm.$on(event[i], fn);\n      }\n    } else {\n      (vm._events[event] || (vm._events[event] = [])).push(fn);\n      // optimize hook:event cost by using a boolean flag marked at registration\n      // instead of a hash lookup\n      if (hookRE.test(event)) {\n        vm._hasHookEvent = true;\n      }\n    }\n    return vm\n  };\n\n  Vue.prototype.$once = function (event, fn) {\n    var vm = this;\n    function on () {\n      vm.$off(event, on);\n      fn.apply(vm, arguments);\n    }\n    on.fn = fn;\n    vm.$on(event, on);\n    return vm\n  };\n\n  Vue.prototype.$off = function (event, fn) {\n    var vm = this;\n    // all\n    if (!arguments.length) {\n      vm._events = Object.create(null);\n      return vm\n    }\n    // array of events\n    if (Array.isArray(event)) {\n      for (var i$1 = 0, l = event.length; i$1 < l; i$1++) {\n        vm.$off(event[i$1], fn);\n      }\n      return vm\n    }\n    // specific event\n    var cbs = vm._events[event];\n    if (!cbs) {\n      return vm\n    }\n    if (!fn) {\n      vm._events[event] = null;\n      return vm\n    }\n    // specific handler\n    var cb;\n    var i = cbs.length;\n    while (i--) {\n      cb = cbs[i];\n      if (cb === fn || cb.fn === fn) {\n        cbs.splice(i, 1);\n        break\n      }\n    }\n    return vm\n  };\n\n  Vue.prototype.$emit = function (event) {\n    var vm = this;\n    if (process.env.NODE_ENV !== 'production') {\n      var lowerCaseEvent = event.toLowerCase();\n      if (lowerCaseEvent !== event && vm._events[lowerCaseEvent]) {\n        tip(\n          \"Event \\\"\" + lowerCaseEvent + \"\\\" is emitted in component \" +\n          (formatComponentName(vm)) + \" but the handler is registered for \\\"\" + event + \"\\\". \" +\n          \"Note that HTML attributes are case-insensitive and you cannot use \" +\n          \"v-on to listen to camelCase events when using in-DOM templates. \" +\n          \"You should probably use \\\"\" + (hyphenate(event)) + \"\\\" instead of \\\"\" + event + \"\\\".\"\n        );\n      }\n    }\n    var cbs = vm._events[event];\n    if (cbs) {\n      cbs = cbs.length > 1 ? toArray(cbs) : cbs;\n      var args = toArray(arguments, 1);\n      var info = \"event handler for \\\"\" + event + \"\\\"\";\n      for (var i = 0, l = cbs.length; i < l; i++) {\n        invokeWithErrorHandling(cbs[i], vm, args, vm, info);\n      }\n    }\n    return vm\n  };\n}\n\n/*  */\n\nvar activeInstance = null;\nvar isUpdatingChildComponent = false;\n\nfunction setActiveInstance(vm) {\n  var prevActiveInstance = activeInstance;\n  activeInstance = vm;\n  return function () {\n    activeInstance = prevActiveInstance;\n  }\n}\n\nfunction initLifecycle (vm) {\n  var options = vm.$options;\n\n  // locate first non-abstract parent\n  var parent = options.parent;\n  if (parent && !options.abstract) {\n    while (parent.$options.abstract && parent.$parent) {\n      parent = parent.$parent;\n    }\n    parent.$children.push(vm);\n  }\n\n  vm.$parent = parent;\n  vm.$root = parent ? parent.$root : vm;\n\n  vm.$children = [];\n  vm.$refs = {};\n\n  vm._watcher = null;\n  vm._inactive = null;\n  vm._directInactive = false;\n  vm._isMounted = false;\n  vm._isDestroyed = false;\n  vm._isBeingDestroyed = false;\n}\n\nfunction lifecycleMixin (Vue) {\n  Vue.prototype._update = function (vnode, hydrating) {\n    var vm = this;\n    var prevEl = vm.$el;\n    var prevVnode = vm._vnode;\n    var restoreActiveInstance = setActiveInstance(vm);\n    vm._vnode = vnode;\n    // Vue.prototype.__patch__ is injected in entry points\n    // based on the rendering backend used.\n    if (!prevVnode) {\n      // initial render\n      vm.$el = vm.__patch__(vm.$el, vnode, hydrating, false /* removeOnly */);\n    } else {\n      // updates\n      vm.$el = vm.__patch__(prevVnode, vnode);\n    }\n    restoreActiveInstance();\n    // update __vue__ reference\n    if (prevEl) {\n      prevEl.__vue__ = null;\n    }\n    if (vm.$el) {\n      vm.$el.__vue__ = vm;\n    }\n    // if parent is an HOC, update its $el as well\n    if (vm.$vnode && vm.$parent && vm.$vnode === vm.$parent._vnode) {\n      vm.$parent.$el = vm.$el;\n    }\n    // updated hook is called by the scheduler to ensure that children are\n    // updated in a parent's updated hook.\n  };\n\n  Vue.prototype.$forceUpdate = function () {\n    var vm = this;\n    if (vm._watcher) {\n      vm._watcher.update();\n    }\n  };\n\n  Vue.prototype.$destroy = function () {\n    var vm = this;\n    if (vm._isBeingDestroyed) {\n      return\n    }\n    callHook(vm, 'beforeDestroy');\n    vm._isBeingDestroyed = true;\n    // remove self from parent\n    var parent = vm.$parent;\n    if (parent && !parent._isBeingDestroyed && !vm.$options.abstract) {\n      remove(parent.$children, vm);\n    }\n    // teardown watchers\n    if (vm._watcher) {\n      vm._watcher.teardown();\n    }\n    var i = vm._watchers.length;\n    while (i--) {\n      vm._watchers[i].teardown();\n    }\n    // remove reference from data ob\n    // frozen object may not have observer.\n    if (vm._data.__ob__) {\n      vm._data.__ob__.vmCount--;\n    }\n    // call the last hook...\n    vm._isDestroyed = true;\n    // invoke destroy hooks on current rendered tree\n    vm.__patch__(vm._vnode, null);\n    // fire destroyed hook\n    callHook(vm, 'destroyed');\n    // turn off all instance listeners.\n    vm.$off();\n    // remove __vue__ reference\n    if (vm.$el) {\n      vm.$el.__vue__ = null;\n    }\n    // release circular reference (#6759)\n    if (vm.$vnode) {\n      vm.$vnode.parent = null;\n    }\n  };\n}\n\nfunction mountComponent (\n  vm,\n  el,\n  hydrating\n) {\n  vm.$el = el;\n  if (!vm.$options.render) {\n    vm.$options.render = createEmptyVNode;\n    if (process.env.NODE_ENV !== 'production') {\n      /* istanbul ignore if */\n      if ((vm.$options.template && vm.$options.template.charAt(0) !== '#') ||\n        vm.$options.el || el) {\n        warn(\n          'You are using the runtime-only build of Vue where the template ' +\n          'compiler is not available. Either pre-compile the templates into ' +\n          'render functions, or use the compiler-included build.',\n          vm\n        );\n      } else {\n        warn(\n          'Failed to mount component: template or render function not defined.',\n          vm\n        );\n      }\n    }\n  }\n  callHook(vm, 'beforeMount');\n\n  var updateComponent;\n  /* istanbul ignore if */\n  if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n    updateComponent = function () {\n      var name = vm._name;\n      var id = vm._uid;\n      var startTag = \"vue-perf-start:\" + id;\n      var endTag = \"vue-perf-end:\" + id;\n\n      mark(startTag);\n      var vnode = vm._render();\n      mark(endTag);\n      measure((\"vue \" + name + \" render\"), startTag, endTag);\n\n      mark(startTag);\n      vm._update(vnode, hydrating);\n      mark(endTag);\n      measure((\"vue \" + name + \" patch\"), startTag, endTag);\n    };\n  } else {\n    updateComponent = function () {\n      vm._update(vm._render(), hydrating);\n    };\n  }\n\n  // we set this to vm._watcher inside the watcher's constructor\n  // since the watcher's initial patch may call $forceUpdate (e.g. inside child\n  // component's mounted hook), which relies on vm._watcher being already defined\n  new Watcher(vm, updateComponent, noop, {\n    before: function before () {\n      if (vm._isMounted && !vm._isDestroyed) {\n        callHook(vm, 'beforeUpdate');\n      }\n    }\n  }, true /* isRenderWatcher */);\n  hydrating = false;\n\n  // manually mounted instance, call mounted on self\n  // mounted is called for render-created child components in its inserted hook\n  if (vm.$vnode == null) {\n    vm._isMounted = true;\n    callHook(vm, 'mounted');\n  }\n  return vm\n}\n\nfunction updateChildComponent (\n  vm,\n  propsData,\n  listeners,\n  parentVnode,\n  renderChildren\n) {\n  if (process.env.NODE_ENV !== 'production') {\n    isUpdatingChildComponent = true;\n  }\n\n  // determine whether component has slot children\n  // we need to do this before overwriting $options._renderChildren.\n\n  // check if there are dynamic scopedSlots (hand-written or compiled but with\n  // dynamic slot names). Static scoped slots compiled from template has the\n  // \"$stable\" marker.\n  var newScopedSlots = parentVnode.data.scopedSlots;\n  var oldScopedSlots = vm.$scopedSlots;\n  var hasDynamicScopedSlot = !!(\n    (newScopedSlots && !newScopedSlots.$stable) ||\n    (oldScopedSlots !== emptyObject && !oldScopedSlots.$stable) ||\n    (newScopedSlots && vm.$scopedSlots.$key !== newScopedSlots.$key)\n  );\n\n  // Any static slot children from the parent may have changed during parent's\n  // update. Dynamic scoped slots may also have changed. In such cases, a forced\n  // update is necessary to ensure correctness.\n  var needsForceUpdate = !!(\n    renderChildren ||               // has new static slots\n    vm.$options._renderChildren ||  // has old static slots\n    hasDynamicScopedSlot\n  );\n\n  vm.$options._parentVnode = parentVnode;\n  vm.$vnode = parentVnode; // update vm's placeholder node without re-render\n\n  if (vm._vnode) { // update child tree's parent\n    vm._vnode.parent = parentVnode;\n  }\n  vm.$options._renderChildren = renderChildren;\n\n  // update $attrs and $listeners hash\n  // these are also reactive so they may trigger child update if the child\n  // used them during render\n  vm.$attrs = parentVnode.data.attrs || emptyObject;\n  vm.$listeners = listeners || emptyObject;\n\n  // update props\n  if (propsData && vm.$options.props) {\n    toggleObserving(false);\n    var props = vm._props;\n    var propKeys = vm.$options._propKeys || [];\n    for (var i = 0; i < propKeys.length; i++) {\n      var key = propKeys[i];\n      var propOptions = vm.$options.props; // wtf flow?\n      props[key] = validateProp(key, propOptions, propsData, vm);\n    }\n    toggleObserving(true);\n    // keep a copy of raw propsData\n    vm.$options.propsData = propsData;\n  }\n\n  // update listeners\n  listeners = listeners || emptyObject;\n  var oldListeners = vm.$options._parentListeners;\n  vm.$options._parentListeners = listeners;\n  updateComponentListeners(vm, listeners, oldListeners);\n\n  // resolve slots + force update if has children\n  if (needsForceUpdate) {\n    vm.$slots = resolveSlots(renderChildren, parentVnode.context);\n    vm.$forceUpdate();\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    isUpdatingChildComponent = false;\n  }\n}\n\nfunction isInInactiveTree (vm) {\n  while (vm && (vm = vm.$parent)) {\n    if (vm._inactive) { return true }\n  }\n  return false\n}\n\nfunction activateChildComponent (vm, direct) {\n  if (direct) {\n    vm._directInactive = false;\n    if (isInInactiveTree(vm)) {\n      return\n    }\n  } else if (vm._directInactive) {\n    return\n  }\n  if (vm._inactive || vm._inactive === null) {\n    vm._inactive = false;\n    for (var i = 0; i < vm.$children.length; i++) {\n      activateChildComponent(vm.$children[i]);\n    }\n    callHook(vm, 'activated');\n  }\n}\n\nfunction deactivateChildComponent (vm, direct) {\n  if (direct) {\n    vm._directInactive = true;\n    if (isInInactiveTree(vm)) {\n      return\n    }\n  }\n  if (!vm._inactive) {\n    vm._inactive = true;\n    for (var i = 0; i < vm.$children.length; i++) {\n      deactivateChildComponent(vm.$children[i]);\n    }\n    callHook(vm, 'deactivated');\n  }\n}\n\nfunction callHook (vm, hook) {\n  // #7573 disable dep collection when invoking lifecycle hooks\n  pushTarget();\n  var handlers = vm.$options[hook];\n  var info = hook + \" hook\";\n  if (handlers) {\n    for (var i = 0, j = handlers.length; i < j; i++) {\n      invokeWithErrorHandling(handlers[i], vm, null, vm, info);\n    }\n  }\n  if (vm._hasHookEvent) {\n    vm.$emit('hook:' + hook);\n  }\n  popTarget();\n}\n\n/*  */\n\nvar MAX_UPDATE_COUNT = 100;\n\nvar queue = [];\nvar activatedChildren = [];\nvar has = {};\nvar circular = {};\nvar waiting = false;\nvar flushing = false;\nvar index = 0;\n\n/**\n * Reset the scheduler's state.\n */\nfunction resetSchedulerState () {\n  index = queue.length = activatedChildren.length = 0;\n  has = {};\n  if (process.env.NODE_ENV !== 'production') {\n    circular = {};\n  }\n  waiting = flushing = false;\n}\n\n// Async edge case #6566 requires saving the timestamp when event listeners are\n// attached. However, calling performance.now() has a perf overhead especially\n// if the page has thousands of event listeners. Instead, we take a timestamp\n// every time the scheduler flushes and use that for all event listeners\n// attached during that flush.\nvar currentFlushTimestamp = 0;\n\n// Async edge case fix requires storing an event listener's attach timestamp.\nvar getNow = Date.now;\n\n// Determine what event timestamp the browser is using. Annoyingly, the\n// timestamp can either be hi-res (relative to page load) or low-res\n// (relative to UNIX epoch), so in order to compare time we have to use the\n// same timestamp type when saving the flush timestamp.\n// All IE versions use low-res event timestamps, and have problematic clock\n// implementations (#9632)\nif (inBrowser && !isIE) {\n  var performance = window.performance;\n  if (\n    performance &&\n    typeof performance.now === 'function' &&\n    getNow() > document.createEvent('Event').timeStamp\n  ) {\n    // if the event timestamp, although evaluated AFTER the Date.now(), is\n    // smaller than it, it means the event is using a hi-res timestamp,\n    // and we need to use the hi-res version for event listener timestamps as\n    // well.\n    getNow = function () { return performance.now(); };\n  }\n}\n\n/**\n * Flush both queues and run the watchers.\n */\nfunction flushSchedulerQueue () {\n  currentFlushTimestamp = getNow();\n  flushing = true;\n  var watcher, id;\n\n  // Sort queue before flush.\n  // This ensures that:\n  // 1. Components are updated from parent to child. (because parent is always\n  //    created before the child)\n  // 2. A component's user watchers are run before its render watcher (because\n  //    user watchers are created before the render watcher)\n  // 3. If a component is destroyed during a parent component's watcher run,\n  //    its watchers can be skipped.\n  queue.sort(function (a, b) { return a.id - b.id; });\n\n  // do not cache length because more watchers might be pushed\n  // as we run existing watchers\n  for (index = 0; index < queue.length; index++) {\n    watcher = queue[index];\n    if (watcher.before) {\n      watcher.before();\n    }\n    id = watcher.id;\n    has[id] = null;\n    watcher.run();\n    // in dev build, check and stop circular updates.\n    if (process.env.NODE_ENV !== 'production' && has[id] != null) {\n      circular[id] = (circular[id] || 0) + 1;\n      if (circular[id] > MAX_UPDATE_COUNT) {\n        warn(\n          'You may have an infinite update loop ' + (\n            watcher.user\n              ? (\"in watcher with expression \\\"\" + (watcher.expression) + \"\\\"\")\n              : \"in a component render function.\"\n          ),\n          watcher.vm\n        );\n        break\n      }\n    }\n  }\n\n  // keep copies of post queues before resetting state\n  var activatedQueue = activatedChildren.slice();\n  var updatedQueue = queue.slice();\n\n  resetSchedulerState();\n\n  // call component updated and activated hooks\n  callActivatedHooks(activatedQueue);\n  callUpdatedHooks(updatedQueue);\n\n  // devtool hook\n  /* istanbul ignore if */\n  if (devtools && config.devtools) {\n    devtools.emit('flush');\n  }\n}\n\nfunction callUpdatedHooks (queue) {\n  var i = queue.length;\n  while (i--) {\n    var watcher = queue[i];\n    var vm = watcher.vm;\n    if (vm._watcher === watcher && vm._isMounted && !vm._isDestroyed) {\n      callHook(vm, 'updated');\n    }\n  }\n}\n\n/**\n * Queue a kept-alive component that was activated during patch.\n * The queue will be processed after the entire tree has been patched.\n */\nfunction queueActivatedComponent (vm) {\n  // setting _inactive to false here so that a render function can\n  // rely on checking whether it's in an inactive tree (e.g. router-view)\n  vm._inactive = false;\n  activatedChildren.push(vm);\n}\n\nfunction callActivatedHooks (queue) {\n  for (var i = 0; i < queue.length; i++) {\n    queue[i]._inactive = true;\n    activateChildComponent(queue[i], true /* true */);\n  }\n}\n\n/**\n * Push a watcher into the watcher queue.\n * Jobs with duplicate IDs will be skipped unless it's\n * pushed when the queue is being flushed.\n */\nfunction queueWatcher (watcher) {\n  var id = watcher.id;\n  if (has[id] == null) {\n    has[id] = true;\n    if (!flushing) {\n      queue.push(watcher);\n    } else {\n      // if already flushing, splice the watcher based on its id\n      // if already past its id, it will be run next immediately.\n      var i = queue.length - 1;\n      while (i > index && queue[i].id > watcher.id) {\n        i--;\n      }\n      queue.splice(i + 1, 0, watcher);\n    }\n    // queue the flush\n    if (!waiting) {\n      waiting = true;\n\n      if (process.env.NODE_ENV !== 'production' && !config.async) {\n        flushSchedulerQueue();\n        return\n      }\n      nextTick(flushSchedulerQueue);\n    }\n  }\n}\n\n/*  */\n\n\n\nvar uid$2 = 0;\n\n/**\n * A watcher parses an expression, collects dependencies,\n * and fires callback when the expression value changes.\n * This is used for both the $watch() api and directives.\n */\nvar Watcher = function Watcher (\n  vm,\n  expOrFn,\n  cb,\n  options,\n  isRenderWatcher\n) {\n  this.vm = vm;\n  if (isRenderWatcher) {\n    vm._watcher = this;\n  }\n  vm._watchers.push(this);\n  // options\n  if (options) {\n    this.deep = !!options.deep;\n    this.user = !!options.user;\n    this.lazy = !!options.lazy;\n    this.sync = !!options.sync;\n    this.before = options.before;\n  } else {\n    this.deep = this.user = this.lazy = this.sync = false;\n  }\n  this.cb = cb;\n  this.id = ++uid$2; // uid for batching\n  this.active = true;\n  this.dirty = this.lazy; // for lazy watchers\n  this.deps = [];\n  this.newDeps = [];\n  this.depIds = new _Set();\n  this.newDepIds = new _Set();\n  this.expression = process.env.NODE_ENV !== 'production'\n    ? expOrFn.toString()\n    : '';\n  // parse expression for getter\n  if (typeof expOrFn === 'function') {\n    this.getter = expOrFn;\n  } else {\n    this.getter = parsePath(expOrFn);\n    if (!this.getter) {\n      this.getter = noop;\n      process.env.NODE_ENV !== 'production' && warn(\n        \"Failed watching path: \\\"\" + expOrFn + \"\\\" \" +\n        'Watcher only accepts simple dot-delimited paths. ' +\n        'For full control, use a function instead.',\n        vm\n      );\n    }\n  }\n  this.value = this.lazy\n    ? undefined\n    : this.get();\n};\n\n/**\n * Evaluate the getter, and re-collect dependencies.\n */\nWatcher.prototype.get = function get () {\n  pushTarget(this);\n  var value;\n  var vm = this.vm;\n  try {\n    value = this.getter.call(vm, vm);\n  } catch (e) {\n    if (this.user) {\n      handleError(e, vm, (\"getter for watcher \\\"\" + (this.expression) + \"\\\"\"));\n    } else {\n      throw e\n    }\n  } finally {\n    // \"touch\" every property so they are all tracked as\n    // dependencies for deep watching\n    if (this.deep) {\n      traverse(value);\n    }\n    popTarget();\n    this.cleanupDeps();\n  }\n  return value\n};\n\n/**\n * Add a dependency to this directive.\n */\nWatcher.prototype.addDep = function addDep (dep) {\n  var id = dep.id;\n  if (!this.newDepIds.has(id)) {\n    this.newDepIds.add(id);\n    this.newDeps.push(dep);\n    if (!this.depIds.has(id)) {\n      dep.addSub(this);\n    }\n  }\n};\n\n/**\n * Clean up for dependency collection.\n */\nWatcher.prototype.cleanupDeps = function cleanupDeps () {\n  var i = this.deps.length;\n  while (i--) {\n    var dep = this.deps[i];\n    if (!this.newDepIds.has(dep.id)) {\n      dep.removeSub(this);\n    }\n  }\n  var tmp = this.depIds;\n  this.depIds = this.newDepIds;\n  this.newDepIds = tmp;\n  this.newDepIds.clear();\n  tmp = this.deps;\n  this.deps = this.newDeps;\n  this.newDeps = tmp;\n  this.newDeps.length = 0;\n};\n\n/**\n * Subscriber interface.\n * Will be called when a dependency changes.\n */\nWatcher.prototype.update = function update () {\n  /* istanbul ignore else */\n  if (this.lazy) {\n    this.dirty = true;\n  } else if (this.sync) {\n    this.run();\n  } else {\n    queueWatcher(this);\n  }\n};\n\n/**\n * Scheduler job interface.\n * Will be called by the scheduler.\n */\nWatcher.prototype.run = function run () {\n  if (this.active) {\n    var value = this.get();\n    if (\n      value !== this.value ||\n      // Deep watchers and watchers on Object/Arrays should fire even\n      // when the value is the same, because the value may\n      // have mutated.\n      isObject(value) ||\n      this.deep\n    ) {\n      // set new value\n      var oldValue = this.value;\n      this.value = value;\n      if (this.user) {\n        try {\n          this.cb.call(this.vm, value, oldValue);\n        } catch (e) {\n          handleError(e, this.vm, (\"callback for watcher \\\"\" + (this.expression) + \"\\\"\"));\n        }\n      } else {\n        this.cb.call(this.vm, value, oldValue);\n      }\n    }\n  }\n};\n\n/**\n * Evaluate the value of the watcher.\n * This only gets called for lazy watchers.\n */\nWatcher.prototype.evaluate = function evaluate () {\n  this.value = this.get();\n  this.dirty = false;\n};\n\n/**\n * Depend on all deps collected by this watcher.\n */\nWatcher.prototype.depend = function depend () {\n  var i = this.deps.length;\n  while (i--) {\n    this.deps[i].depend();\n  }\n};\n\n/**\n * Remove self from all dependencies' subscriber list.\n */\nWatcher.prototype.teardown = function teardown () {\n  if (this.active) {\n    // remove self from vm's watcher list\n    // this is a somewhat expensive operation so we skip it\n    // if the vm is being destroyed.\n    if (!this.vm._isBeingDestroyed) {\n      remove(this.vm._watchers, this);\n    }\n    var i = this.deps.length;\n    while (i--) {\n      this.deps[i].removeSub(this);\n    }\n    this.active = false;\n  }\n};\n\n/*  */\n\nvar sharedPropertyDefinition = {\n  enumerable: true,\n  configurable: true,\n  get: noop,\n  set: noop\n};\n\nfunction proxy (target, sourceKey, key) {\n  sharedPropertyDefinition.get = function proxyGetter () {\n    return this[sourceKey][key]\n  };\n  sharedPropertyDefinition.set = function proxySetter (val) {\n    this[sourceKey][key] = val;\n  };\n  Object.defineProperty(target, key, sharedPropertyDefinition);\n}\n\nfunction initState (vm) {\n  vm._watchers = [];\n  var opts = vm.$options;\n  if (opts.props) { initProps(vm, opts.props); }\n  if (opts.methods) { initMethods(vm, opts.methods); }\n  if (opts.data) {\n    initData(vm);\n  } else {\n    observe(vm._data = {}, true /* asRootData */);\n  }\n  if (opts.computed) { initComputed(vm, opts.computed); }\n  if (opts.watch && opts.watch !== nativeWatch) {\n    initWatch(vm, opts.watch);\n  }\n}\n\nfunction initProps (vm, propsOptions) {\n  var propsData = vm.$options.propsData || {};\n  var props = vm._props = {};\n  // cache prop keys so that future props updates can iterate using Array\n  // instead of dynamic object key enumeration.\n  var keys = vm.$options._propKeys = [];\n  var isRoot = !vm.$parent;\n  // root instance props should be converted\n  if (!isRoot) {\n    toggleObserving(false);\n  }\n  var loop = function ( key ) {\n    keys.push(key);\n    var value = validateProp(key, propsOptions, propsData, vm);\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== 'production') {\n      var hyphenatedKey = hyphenate(key);\n      if (isReservedAttribute(hyphenatedKey) ||\n          config.isReservedAttr(hyphenatedKey)) {\n        warn(\n          (\"\\\"\" + hyphenatedKey + \"\\\" is a reserved attribute and cannot be used as component prop.\"),\n          vm\n        );\n      }\n      defineReactive(props, key, value, function () {\n        if (!isRoot && !isUpdatingChildComponent) {\n          warn(\n            \"Avoid mutating a prop directly since the value will be \" +\n            \"overwritten whenever the parent component re-renders. \" +\n            \"Instead, use a data or computed property based on the prop's \" +\n            \"value. Prop being mutated: \\\"\" + key + \"\\\"\",\n            vm\n          );\n        }\n      });\n    } else {\n      defineReactive(props, key, value);\n    }\n    // static props are already proxied on the component's prototype\n    // during Vue.extend(). We only need to proxy props defined at\n    // instantiation here.\n    if (!(key in vm)) {\n      proxy(vm, \"_props\", key);\n    }\n  };\n\n  for (var key in propsOptions) loop( key );\n  toggleObserving(true);\n}\n\nfunction initData (vm) {\n  var data = vm.$options.data;\n  data = vm._data = typeof data === 'function'\n    ? getData(data, vm)\n    : data || {};\n  if (!isPlainObject(data)) {\n    data = {};\n    process.env.NODE_ENV !== 'production' && warn(\n      'data functions should return an object:\\n' +\n      'https://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function',\n      vm\n    );\n  }\n  // proxy data on instance\n  var keys = Object.keys(data);\n  var props = vm.$options.props;\n  var methods = vm.$options.methods;\n  var i = keys.length;\n  while (i--) {\n    var key = keys[i];\n    if (process.env.NODE_ENV !== 'production') {\n      if (methods && hasOwn(methods, key)) {\n        warn(\n          (\"Method \\\"\" + key + \"\\\" has already been defined as a data property.\"),\n          vm\n        );\n      }\n    }\n    if (props && hasOwn(props, key)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        \"The data property \\\"\" + key + \"\\\" is already declared as a prop. \" +\n        \"Use prop default value instead.\",\n        vm\n      );\n    } else if (!isReserved(key)) {\n      proxy(vm, \"_data\", key);\n    }\n  }\n  // observe data\n  observe(data, true /* asRootData */);\n}\n\nfunction getData (data, vm) {\n  // #7573 disable dep collection when invoking data getters\n  pushTarget();\n  try {\n    return data.call(vm, vm)\n  } catch (e) {\n    handleError(e, vm, \"data()\");\n    return {}\n  } finally {\n    popTarget();\n  }\n}\n\nvar computedWatcherOptions = { lazy: true };\n\nfunction initComputed (vm, computed) {\n  // $flow-disable-line\n  var watchers = vm._computedWatchers = Object.create(null);\n  // computed properties are just getters during SSR\n  var isSSR = isServerRendering();\n\n  for (var key in computed) {\n    var userDef = computed[key];\n    var getter = typeof userDef === 'function' ? userDef : userDef.get;\n    if (process.env.NODE_ENV !== 'production' && getter == null) {\n      warn(\n        (\"Getter is missing for computed property \\\"\" + key + \"\\\".\"),\n        vm\n      );\n    }\n\n    if (!isSSR) {\n      // create internal watcher for the computed property.\n      watchers[key] = new Watcher(\n        vm,\n        getter || noop,\n        noop,\n        computedWatcherOptions\n      );\n    }\n\n    // component-defined computed properties are already defined on the\n    // component prototype. We only need to define computed properties defined\n    // at instantiation here.\n    if (!(key in vm)) {\n      defineComputed(vm, key, userDef);\n    } else if (process.env.NODE_ENV !== 'production') {\n      if (key in vm.$data) {\n        warn((\"The computed property \\\"\" + key + \"\\\" is already defined in data.\"), vm);\n      } else if (vm.$options.props && key in vm.$options.props) {\n        warn((\"The computed property \\\"\" + key + \"\\\" is already defined as a prop.\"), vm);\n      }\n    }\n  }\n}\n\nfunction defineComputed (\n  target,\n  key,\n  userDef\n) {\n  var shouldCache = !isServerRendering();\n  if (typeof userDef === 'function') {\n    sharedPropertyDefinition.get = shouldCache\n      ? createComputedGetter(key)\n      : createGetterInvoker(userDef);\n    sharedPropertyDefinition.set = noop;\n  } else {\n    sharedPropertyDefinition.get = userDef.get\n      ? shouldCache && userDef.cache !== false\n        ? createComputedGetter(key)\n        : createGetterInvoker(userDef.get)\n      : noop;\n    sharedPropertyDefinition.set = userDef.set || noop;\n  }\n  if (process.env.NODE_ENV !== 'production' &&\n      sharedPropertyDefinition.set === noop) {\n    sharedPropertyDefinition.set = function () {\n      warn(\n        (\"Computed property \\\"\" + key + \"\\\" was assigned to but it has no setter.\"),\n        this\n      );\n    };\n  }\n  Object.defineProperty(target, key, sharedPropertyDefinition);\n}\n\nfunction createComputedGetter (key) {\n  return function computedGetter () {\n    var watcher = this._computedWatchers && this._computedWatchers[key];\n    if (watcher) {\n      if (watcher.dirty) {\n        watcher.evaluate();\n      }\n      if (Dep.target) {\n        watcher.depend();\n      }\n      return watcher.value\n    }\n  }\n}\n\nfunction createGetterInvoker(fn) {\n  return function computedGetter () {\n    return fn.call(this, this)\n  }\n}\n\nfunction initMethods (vm, methods) {\n  var props = vm.$options.props;\n  for (var key in methods) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof methods[key] !== 'function') {\n        warn(\n          \"Method \\\"\" + key + \"\\\" has type \\\"\" + (typeof methods[key]) + \"\\\" in the component definition. \" +\n          \"Did you reference the function correctly?\",\n          vm\n        );\n      }\n      if (props && hasOwn(props, key)) {\n        warn(\n          (\"Method \\\"\" + key + \"\\\" has already been defined as a prop.\"),\n          vm\n        );\n      }\n      if ((key in vm) && isReserved(key)) {\n        warn(\n          \"Method \\\"\" + key + \"\\\" conflicts with an existing Vue instance method. \" +\n          \"Avoid defining component methods that start with _ or $.\"\n        );\n      }\n    }\n    vm[key] = typeof methods[key] !== 'function' ? noop : bind(methods[key], vm);\n  }\n}\n\nfunction initWatch (vm, watch) {\n  for (var key in watch) {\n    var handler = watch[key];\n    if (Array.isArray(handler)) {\n      for (var i = 0; i < handler.length; i++) {\n        createWatcher(vm, key, handler[i]);\n      }\n    } else {\n      createWatcher(vm, key, handler);\n    }\n  }\n}\n\nfunction createWatcher (\n  vm,\n  expOrFn,\n  handler,\n  options\n) {\n  if (isPlainObject(handler)) {\n    options = handler;\n    handler = handler.handler;\n  }\n  if (typeof handler === 'string') {\n    handler = vm[handler];\n  }\n  return vm.$watch(expOrFn, handler, options)\n}\n\nfunction stateMixin (Vue) {\n  // flow somehow has problems with directly declared definition object\n  // when using Object.defineProperty, so we have to procedurally build up\n  // the object here.\n  var dataDef = {};\n  dataDef.get = function () { return this._data };\n  var propsDef = {};\n  propsDef.get = function () { return this._props };\n  if (process.env.NODE_ENV !== 'production') {\n    dataDef.set = function () {\n      warn(\n        'Avoid replacing instance root $data. ' +\n        'Use nested data properties instead.',\n        this\n      );\n    };\n    propsDef.set = function () {\n      warn(\"$props is readonly.\", this);\n    };\n  }\n  Object.defineProperty(Vue.prototype, '$data', dataDef);\n  Object.defineProperty(Vue.prototype, '$props', propsDef);\n\n  Vue.prototype.$set = set;\n  Vue.prototype.$delete = del;\n\n  Vue.prototype.$watch = function (\n    expOrFn,\n    cb,\n    options\n  ) {\n    var vm = this;\n    if (isPlainObject(cb)) {\n      return createWatcher(vm, expOrFn, cb, options)\n    }\n    options = options || {};\n    options.user = true;\n    var watcher = new Watcher(vm, expOrFn, cb, options);\n    if (options.immediate) {\n      try {\n        cb.call(vm, watcher.value);\n      } catch (error) {\n        handleError(error, vm, (\"callback for immediate watcher \\\"\" + (watcher.expression) + \"\\\"\"));\n      }\n    }\n    return function unwatchFn () {\n      watcher.teardown();\n    }\n  };\n}\n\n/*  */\n\nvar uid$3 = 0;\n\nfunction initMixin (Vue) {\n  Vue.prototype._init = function (options) {\n    var vm = this;\n    // a uid\n    vm._uid = uid$3++;\n\n    var startTag, endTag;\n    /* istanbul ignore if */\n    if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n      startTag = \"vue-perf-start:\" + (vm._uid);\n      endTag = \"vue-perf-end:\" + (vm._uid);\n      mark(startTag);\n    }\n\n    // a flag to avoid this being observed\n    vm._isVue = true;\n    // merge options\n    if (options && options._isComponent) {\n      // optimize internal component instantiation\n      // since dynamic options merging is pretty slow, and none of the\n      // internal component options needs special treatment.\n      initInternalComponent(vm, options);\n    } else {\n      vm.$options = mergeOptions(\n        resolveConstructorOptions(vm.constructor),\n        options || {},\n        vm\n      );\n    }\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== 'production') {\n      initProxy(vm);\n    } else {\n      vm._renderProxy = vm;\n    }\n    // expose real self\n    vm._self = vm;\n    initLifecycle(vm);\n    initEvents(vm);\n    initRender(vm);\n    callHook(vm, 'beforeCreate');\n    initInjections(vm); // resolve injections before data/props\n    initState(vm);\n    initProvide(vm); // resolve provide after data/props\n    callHook(vm, 'created');\n\n    /* istanbul ignore if */\n    if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n      vm._name = formatComponentName(vm, false);\n      mark(endTag);\n      measure((\"vue \" + (vm._name) + \" init\"), startTag, endTag);\n    }\n\n    if (vm.$options.el) {\n      vm.$mount(vm.$options.el);\n    }\n  };\n}\n\nfunction initInternalComponent (vm, options) {\n  var opts = vm.$options = Object.create(vm.constructor.options);\n  // doing this because it's faster than dynamic enumeration.\n  var parentVnode = options._parentVnode;\n  opts.parent = options.parent;\n  opts._parentVnode = parentVnode;\n\n  var vnodeComponentOptions = parentVnode.componentOptions;\n  opts.propsData = vnodeComponentOptions.propsData;\n  opts._parentListeners = vnodeComponentOptions.listeners;\n  opts._renderChildren = vnodeComponentOptions.children;\n  opts._componentTag = vnodeComponentOptions.tag;\n\n  if (options.render) {\n    opts.render = options.render;\n    opts.staticRenderFns = options.staticRenderFns;\n  }\n}\n\nfunction resolveConstructorOptions (Ctor) {\n  var options = Ctor.options;\n  if (Ctor.super) {\n    var superOptions = resolveConstructorOptions(Ctor.super);\n    var cachedSuperOptions = Ctor.superOptions;\n    if (superOptions !== cachedSuperOptions) {\n      // super option changed,\n      // need to resolve new options.\n      Ctor.superOptions = superOptions;\n      // check if there are any late-modified/attached options (#4976)\n      var modifiedOptions = resolveModifiedOptions(Ctor);\n      // update base extend options\n      if (modifiedOptions) {\n        extend(Ctor.extendOptions, modifiedOptions);\n      }\n      options = Ctor.options = mergeOptions(superOptions, Ctor.extendOptions);\n      if (options.name) {\n        options.components[options.name] = Ctor;\n      }\n    }\n  }\n  return options\n}\n\nfunction resolveModifiedOptions (Ctor) {\n  var modified;\n  var latest = Ctor.options;\n  var sealed = Ctor.sealedOptions;\n  for (var key in latest) {\n    if (latest[key] !== sealed[key]) {\n      if (!modified) { modified = {}; }\n      modified[key] = latest[key];\n    }\n  }\n  return modified\n}\n\nfunction Vue (options) {\n  if (process.env.NODE_ENV !== 'production' &&\n    !(this instanceof Vue)\n  ) {\n    warn('Vue is a constructor and should be called with the `new` keyword');\n  }\n  this._init(options);\n}\n\ninitMixin(Vue);\nstateMixin(Vue);\neventsMixin(Vue);\nlifecycleMixin(Vue);\nrenderMixin(Vue);\n\n/*  */\n\nfunction initUse (Vue) {\n  Vue.use = function (plugin) {\n    var installedPlugins = (this._installedPlugins || (this._installedPlugins = []));\n    if (installedPlugins.indexOf(plugin) > -1) {\n      return this\n    }\n\n    // additional parameters\n    var args = toArray(arguments, 1);\n    args.unshift(this);\n    if (typeof plugin.install === 'function') {\n      plugin.install.apply(plugin, args);\n    } else if (typeof plugin === 'function') {\n      plugin.apply(null, args);\n    }\n    installedPlugins.push(plugin);\n    return this\n  };\n}\n\n/*  */\n\nfunction initMixin$1 (Vue) {\n  Vue.mixin = function (mixin) {\n    this.options = mergeOptions(this.options, mixin);\n    return this\n  };\n}\n\n/*  */\n\nfunction initExtend (Vue) {\n  /**\n   * Each instance constructor, including Vue, has a unique\n   * cid. This enables us to create wrapped \"child\n   * constructors\" for prototypal inheritance and cache them.\n   */\n  Vue.cid = 0;\n  var cid = 1;\n\n  /**\n   * Class inheritance\n   */\n  Vue.extend = function (extendOptions) {\n    extendOptions = extendOptions || {};\n    var Super = this;\n    var SuperId = Super.cid;\n    var cachedCtors = extendOptions._Ctor || (extendOptions._Ctor = {});\n    if (cachedCtors[SuperId]) {\n      return cachedCtors[SuperId]\n    }\n\n    var name = extendOptions.name || Super.options.name;\n    if (process.env.NODE_ENV !== 'production' && name) {\n      validateComponentName(name);\n    }\n\n    var Sub = function VueComponent (options) {\n      this._init(options);\n    };\n    Sub.prototype = Object.create(Super.prototype);\n    Sub.prototype.constructor = Sub;\n    Sub.cid = cid++;\n    Sub.options = mergeOptions(\n      Super.options,\n      extendOptions\n    );\n    Sub['super'] = Super;\n\n    // For props and computed properties, we define the proxy getters on\n    // the Vue instances at extension time, on the extended prototype. This\n    // avoids Object.defineProperty calls for each instance created.\n    if (Sub.options.props) {\n      initProps$1(Sub);\n    }\n    if (Sub.options.computed) {\n      initComputed$1(Sub);\n    }\n\n    // allow further extension/mixin/plugin usage\n    Sub.extend = Super.extend;\n    Sub.mixin = Super.mixin;\n    Sub.use = Super.use;\n\n    // create asset registers, so extended classes\n    // can have their private assets too.\n    ASSET_TYPES.forEach(function (type) {\n      Sub[type] = Super[type];\n    });\n    // enable recursive self-lookup\n    if (name) {\n      Sub.options.components[name] = Sub;\n    }\n\n    // keep a reference to the super options at extension time.\n    // later at instantiation we can check if Super's options have\n    // been updated.\n    Sub.superOptions = Super.options;\n    Sub.extendOptions = extendOptions;\n    Sub.sealedOptions = extend({}, Sub.options);\n\n    // cache constructor\n    cachedCtors[SuperId] = Sub;\n    return Sub\n  };\n}\n\nfunction initProps$1 (Comp) {\n  var props = Comp.options.props;\n  for (var key in props) {\n    proxy(Comp.prototype, \"_props\", key);\n  }\n}\n\nfunction initComputed$1 (Comp) {\n  var computed = Comp.options.computed;\n  for (var key in computed) {\n    defineComputed(Comp.prototype, key, computed[key]);\n  }\n}\n\n/*  */\n\nfunction initAssetRegisters (Vue) {\n  /**\n   * Create asset registration methods.\n   */\n  ASSET_TYPES.forEach(function (type) {\n    Vue[type] = function (\n      id,\n      definition\n    ) {\n      if (!definition) {\n        return this.options[type + 's'][id]\n      } else {\n        /* istanbul ignore if */\n        if (process.env.NODE_ENV !== 'production' && type === 'component') {\n          validateComponentName(id);\n        }\n        if (type === 'component' && isPlainObject(definition)) {\n          definition.name = definition.name || id;\n          definition = this.options._base.extend(definition);\n        }\n        if (type === 'directive' && typeof definition === 'function') {\n          definition = { bind: definition, update: definition };\n        }\n        this.options[type + 's'][id] = definition;\n        return definition\n      }\n    };\n  });\n}\n\n/*  */\n\n\n\nfunction getComponentName (opts) {\n  return opts && (opts.Ctor.options.name || opts.tag)\n}\n\nfunction matches (pattern, name) {\n  if (Array.isArray(pattern)) {\n    return pattern.indexOf(name) > -1\n  } else if (typeof pattern === 'string') {\n    return pattern.split(',').indexOf(name) > -1\n  } else if (isRegExp(pattern)) {\n    return pattern.test(name)\n  }\n  /* istanbul ignore next */\n  return false\n}\n\nfunction pruneCache (keepAliveInstance, filter) {\n  var cache = keepAliveInstance.cache;\n  var keys = keepAliveInstance.keys;\n  var _vnode = keepAliveInstance._vnode;\n  for (var key in cache) {\n    var cachedNode = cache[key];\n    if (cachedNode) {\n      var name = getComponentName(cachedNode.componentOptions);\n      if (name && !filter(name)) {\n        pruneCacheEntry(cache, key, keys, _vnode);\n      }\n    }\n  }\n}\n\nfunction pruneCacheEntry (\n  cache,\n  key,\n  keys,\n  current\n) {\n  var cached = cache[key];\n  if (cached && (!current || cached.tag !== current.tag)) {\n    cached.componentInstance.$destroy();\n  }\n  cache[key] = null;\n  remove(keys, key);\n}\n\nvar patternTypes = [String, RegExp, Array];\n\nvar KeepAlive = {\n  name: 'keep-alive',\n  abstract: true,\n\n  props: {\n    include: patternTypes,\n    exclude: patternTypes,\n    max: [String, Number]\n  },\n\n  created: function created () {\n    this.cache = Object.create(null);\n    this.keys = [];\n  },\n\n  destroyed: function destroyed () {\n    for (var key in this.cache) {\n      pruneCacheEntry(this.cache, key, this.keys);\n    }\n  },\n\n  mounted: function mounted () {\n    var this$1 = this;\n\n    this.$watch('include', function (val) {\n      pruneCache(this$1, function (name) { return matches(val, name); });\n    });\n    this.$watch('exclude', function (val) {\n      pruneCache(this$1, function (name) { return !matches(val, name); });\n    });\n  },\n\n  render: function render () {\n    var slot = this.$slots.default;\n    var vnode = getFirstComponentChild(slot);\n    var componentOptions = vnode && vnode.componentOptions;\n    if (componentOptions) {\n      // check pattern\n      var name = getComponentName(componentOptions);\n      var ref = this;\n      var include = ref.include;\n      var exclude = ref.exclude;\n      if (\n        // not included\n        (include && (!name || !matches(include, name))) ||\n        // excluded\n        (exclude && name && matches(exclude, name))\n      ) {\n        return vnode\n      }\n\n      var ref$1 = this;\n      var cache = ref$1.cache;\n      var keys = ref$1.keys;\n      var key = vnode.key == null\n        // same constructor may get registered as different local components\n        // so cid alone is not enough (#3269)\n        ? componentOptions.Ctor.cid + (componentOptions.tag ? (\"::\" + (componentOptions.tag)) : '')\n        : vnode.key;\n      if (cache[key]) {\n        vnode.componentInstance = cache[key].componentInstance;\n        // make current key freshest\n        remove(keys, key);\n        keys.push(key);\n      } else {\n        cache[key] = vnode;\n        keys.push(key);\n        // prune oldest entry\n        if (this.max && keys.length > parseInt(this.max)) {\n          pruneCacheEntry(cache, keys[0], keys, this._vnode);\n        }\n      }\n\n      vnode.data.keepAlive = true;\n    }\n    return vnode || (slot && slot[0])\n  }\n};\n\nvar builtInComponents = {\n  KeepAlive: KeepAlive\n};\n\n/*  */\n\nfunction initGlobalAPI (Vue) {\n  // config\n  var configDef = {};\n  configDef.get = function () { return config; };\n  if (process.env.NODE_ENV !== 'production') {\n    configDef.set = function () {\n      warn(\n        'Do not replace the Vue.config object, set individual fields instead.'\n      );\n    };\n  }\n  Object.defineProperty(Vue, 'config', configDef);\n\n  // exposed util methods.\n  // NOTE: these are not considered part of the public API - avoid relying on\n  // them unless you are aware of the risk.\n  Vue.util = {\n    warn: warn,\n    extend: extend,\n    mergeOptions: mergeOptions,\n    defineReactive: defineReactive\n  };\n\n  Vue.set = set;\n  Vue.delete = del;\n  Vue.nextTick = nextTick;\n\n  // 2.6 explicit observable API\n  Vue.observable = function (obj) {\n    observe(obj);\n    return obj\n  };\n\n  Vue.options = Object.create(null);\n  ASSET_TYPES.forEach(function (type) {\n    Vue.options[type + 's'] = Object.create(null);\n  });\n\n  // this is used to identify the \"base\" constructor to extend all plain-object\n  // components with in Weex's multi-instance scenarios.\n  Vue.options._base = Vue;\n\n  extend(Vue.options.components, builtInComponents);\n\n  initUse(Vue);\n  initMixin$1(Vue);\n  initExtend(Vue);\n  initAssetRegisters(Vue);\n}\n\ninitGlobalAPI(Vue);\n\nObject.defineProperty(Vue.prototype, '$isServer', {\n  get: isServerRendering\n});\n\nObject.defineProperty(Vue.prototype, '$ssrContext', {\n  get: function get () {\n    /* istanbul ignore next */\n    return this.$vnode && this.$vnode.ssrContext\n  }\n});\n\n// expose FunctionalRenderContext for ssr runtime helper installation\nObject.defineProperty(Vue, 'FunctionalRenderContext', {\n  value: FunctionalRenderContext\n});\n\nVue.version = '2.6.12';\n\nvar latestNodeId = 1;\n\nfunction TextNode (text) {\n  this.instanceId = '';\n  this.nodeId = latestNodeId++;\n  this.parentNode = null;\n  this.nodeType = 3;\n  this.text = text;\n}\n\n/*  */\n\nvar namespaceMap = {};\n\nfunction createElement$1 (tagName) {\n  return document.createElement(tagName)\n}\n\nfunction createElementNS (namespace, tagName) {\n  return document.createElement(namespace + ':' + tagName)\n}\n\nfunction createTextNode (text) {\n  return new TextNode(text)\n}\n\nfunction createComment (text) {\n  return document.createComment(text)\n}\n\nfunction insertBefore (\n  node,\n  target,\n  before\n) {\n  if (target.nodeType === 3) {\n    if (node.type === 'text') {\n      node.setAttr('value', target.text);\n      target.parentNode = node;\n    } else {\n      var text = createElement$1('text');\n      text.setAttr('value', target.text);\n      node.insertBefore(text, before);\n    }\n    return\n  }\n  node.insertBefore(target, before);\n}\n\nfunction removeChild (node, child) {\n  if (child.nodeType === 3) {\n    node.setAttr('value', '');\n    return\n  }\n  node.removeChild(child);\n}\n\nfunction appendChild (node, child) {\n  if (child.nodeType === 3) {\n    if (node.type === 'text') {\n      node.setAttr('value', child.text);\n      child.parentNode = node;\n    } else {\n      var text = createElement$1('text');\n      text.setAttr('value', child.text);\n      node.appendChild(text);\n    }\n    return\n  }\n\n  node.appendChild(child);\n}\n\nfunction parentNode (node) {\n  return node.parentNode\n}\n\nfunction nextSibling (node) {\n  return node.nextSibling\n}\n\nfunction tagName (node) {\n  return node.type\n}\n\nfunction setTextContent (node, text) {\n  if (node.parentNode) {\n    node.parentNode.setAttr('value', text);\n  }\n}\n\nfunction setAttribute (node, key, val) {\n  node.setAttr(key, val);\n}\n\nfunction setStyleScope (node, scopeId) {\n  node.setAttr('@styleScope', scopeId);\n}\n\nvar nodeOps = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  namespaceMap: namespaceMap,\n  createElement: createElement$1,\n  createElementNS: createElementNS,\n  createTextNode: createTextNode,\n  createComment: createComment,\n  insertBefore: insertBefore,\n  removeChild: removeChild,\n  appendChild: appendChild,\n  parentNode: parentNode,\n  nextSibling: nextSibling,\n  tagName: tagName,\n  setTextContent: setTextContent,\n  setAttribute: setAttribute,\n  setStyleScope: setStyleScope\n});\n\n/*  */\n\nvar ref = {\n  create: function create (_, vnode) {\n    registerRef(vnode);\n  },\n  update: function update (oldVnode, vnode) {\n    if (oldVnode.data.ref !== vnode.data.ref) {\n      registerRef(oldVnode, true);\n      registerRef(vnode);\n    }\n  },\n  destroy: function destroy (vnode) {\n    registerRef(vnode, true);\n  }\n};\n\nfunction registerRef (vnode, isRemoval) {\n  var key = vnode.data.ref;\n  if (!isDef(key)) { return }\n\n  var vm = vnode.context;\n  var ref = vnode.componentInstance || vnode.elm;\n  var refs = vm.$refs;\n  if (isRemoval) {\n    if (Array.isArray(refs[key])) {\n      remove(refs[key], ref);\n    } else if (refs[key] === ref) {\n      refs[key] = undefined;\n    }\n  } else {\n    if (vnode.data.refInFor) {\n      if (!Array.isArray(refs[key])) {\n        refs[key] = [ref];\n      } else if (refs[key].indexOf(ref) < 0) {\n        // $flow-disable-line\n        refs[key].push(ref);\n      }\n    } else {\n      refs[key] = ref;\n    }\n  }\n}\n\n/*  */\n\nvar isHTMLTag = makeMap(\n  'html,body,base,head,link,meta,style,title,' +\n  'address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,' +\n  'div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,' +\n  'a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,' +\n  's,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,' +\n  'embed,object,param,source,canvas,script,noscript,del,ins,' +\n  'caption,col,colgroup,table,thead,tbody,td,th,tr,' +\n  'button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,' +\n  'output,progress,select,textarea,' +\n  'details,dialog,menu,menuitem,summary,' +\n  'content,element,shadow,template,blockquote,iframe,tfoot'\n);\n\n// this map is intentionally selective, only covering SVG elements that may\n// contain child elements.\nvar isSVG = makeMap(\n  'svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,' +\n  'foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,' +\n  'polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view',\n  true\n);\n\nvar isTextInputType = makeMap('text,number,password,search,email,tel,url');\n\n/**\n * Virtual DOM patching algorithm based on Snabbdom by\n * Simon Friis Vindum (@paldepind)\n * Licensed under the MIT License\n * https://github.com/paldepind/snabbdom/blob/master/LICENSE\n *\n * modified by Evan You (@yyx990803)\n *\n * Not type-checking this because this file is perf-critical and the cost\n * of making flow understand it is not worth it.\n */\n\nvar emptyNode = new VNode('', {}, []);\n\nvar hooks = ['create', 'activate', 'update', 'remove', 'destroy'];\n\nfunction sameVnode (a, b) {\n  return (\n    a.key === b.key && (\n      (\n        a.tag === b.tag &&\n        a.isComment === b.isComment &&\n        isDef(a.data) === isDef(b.data) &&\n        sameInputType(a, b)\n      ) || (\n        isTrue(a.isAsyncPlaceholder) &&\n        a.asyncFactory === b.asyncFactory &&\n        isUndef(b.asyncFactory.error)\n      )\n    )\n  )\n}\n\nfunction sameInputType (a, b) {\n  if (a.tag !== 'input') { return true }\n  var i;\n  var typeA = isDef(i = a.data) && isDef(i = i.attrs) && i.type;\n  var typeB = isDef(i = b.data) && isDef(i = i.attrs) && i.type;\n  return typeA === typeB || isTextInputType(typeA) && isTextInputType(typeB)\n}\n\nfunction createKeyToOldIdx (children, beginIdx, endIdx) {\n  var i, key;\n  var map = {};\n  for (i = beginIdx; i <= endIdx; ++i) {\n    key = children[i].key;\n    if (isDef(key)) { map[key] = i; }\n  }\n  return map\n}\n\nfunction createPatchFunction (backend) {\n  var i, j;\n  var cbs = {};\n\n  var modules = backend.modules;\n  var nodeOps = backend.nodeOps;\n\n  for (i = 0; i < hooks.length; ++i) {\n    cbs[hooks[i]] = [];\n    for (j = 0; j < modules.length; ++j) {\n      if (isDef(modules[j][hooks[i]])) {\n        cbs[hooks[i]].push(modules[j][hooks[i]]);\n      }\n    }\n  }\n\n  function emptyNodeAt (elm) {\n    return new VNode(nodeOps.tagName(elm).toLowerCase(), {}, [], undefined, elm)\n  }\n\n  function createRmCb (childElm, listeners) {\n    function remove () {\n      if (--remove.listeners === 0) {\n        removeNode(childElm);\n      }\n    }\n    remove.listeners = listeners;\n    return remove\n  }\n\n  function removeNode (el) {\n    var parent = nodeOps.parentNode(el);\n    // element may have already been removed due to v-html / v-text\n    if (isDef(parent)) {\n      nodeOps.removeChild(parent, el);\n    }\n  }\n\n  function isUnknownElement (vnode, inVPre) {\n    return (\n      !inVPre &&\n      !vnode.ns &&\n      !(\n        config.ignoredElements.length &&\n        config.ignoredElements.some(function (ignore) {\n          return isRegExp(ignore)\n            ? ignore.test(vnode.tag)\n            : ignore === vnode.tag\n        })\n      ) &&\n      config.isUnknownElement(vnode.tag)\n    )\n  }\n\n  var creatingElmInVPre = 0;\n\n  function createElm (\n    vnode,\n    insertedVnodeQueue,\n    parentElm,\n    refElm,\n    nested,\n    ownerArray,\n    index\n  ) {\n    if (isDef(vnode.elm) && isDef(ownerArray)) {\n      // This vnode was used in a previous render!\n      // now it's used as a new node, overwriting its elm would cause\n      // potential patch errors down the road when it's used as an insertion\n      // reference node. Instead, we clone the node on-demand before creating\n      // associated DOM element for it.\n      vnode = ownerArray[index] = cloneVNode(vnode);\n    }\n\n    vnode.isRootInsert = !nested; // for transition enter check\n    if (createComponent(vnode, insertedVnodeQueue, parentElm, refElm)) {\n      return\n    }\n\n    var data = vnode.data;\n    var children = vnode.children;\n    var tag = vnode.tag;\n    if (isDef(tag)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (data && data.pre) {\n          creatingElmInVPre++;\n        }\n        if (isUnknownElement(vnode, creatingElmInVPre)) {\n          warn(\n            'Unknown custom element: <' + tag + '> - did you ' +\n            'register the component correctly? For recursive components, ' +\n            'make sure to provide the \"name\" option.',\n            vnode.context\n          );\n        }\n      }\n\n      vnode.elm = vnode.ns\n        ? nodeOps.createElementNS(vnode.ns, tag)\n        : nodeOps.createElement(tag, vnode);\n      setScope(vnode);\n\n      /* istanbul ignore if */\n      {\n        // in Weex, the default insertion order is parent-first.\n        // List items can be optimized to use children-first insertion\n        // with append=\"tree\".\n        var appendAsTree = isDef(data) && isTrue(data.appendAsTree);\n        if (!appendAsTree) {\n          if (isDef(data)) {\n            invokeCreateHooks(vnode, insertedVnodeQueue);\n          }\n          insert(parentElm, vnode.elm, refElm);\n        }\n        createChildren(vnode, children, insertedVnodeQueue);\n        if (appendAsTree) {\n          if (isDef(data)) {\n            invokeCreateHooks(vnode, insertedVnodeQueue);\n          }\n          insert(parentElm, vnode.elm, refElm);\n        }\n      }\n\n      if (process.env.NODE_ENV !== 'production' && data && data.pre) {\n        creatingElmInVPre--;\n      }\n    } else if (isTrue(vnode.isComment)) {\n      vnode.elm = nodeOps.createComment(vnode.text);\n      insert(parentElm, vnode.elm, refElm);\n    } else {\n      vnode.elm = nodeOps.createTextNode(vnode.text);\n      insert(parentElm, vnode.elm, refElm);\n    }\n  }\n\n  function createComponent (vnode, insertedVnodeQueue, parentElm, refElm) {\n    var i = vnode.data;\n    if (isDef(i)) {\n      var isReactivated = isDef(vnode.componentInstance) && i.keepAlive;\n      if (isDef(i = i.hook) && isDef(i = i.init)) {\n        i(vnode, false /* hydrating */);\n      }\n      // after calling the init hook, if the vnode is a child component\n      // it should've created a child instance and mounted it. the child\n      // component also has set the placeholder vnode's elm.\n      // in that case we can just return the element and be done.\n      if (isDef(vnode.componentInstance)) {\n        initComponent(vnode, insertedVnodeQueue);\n        insert(parentElm, vnode.elm, refElm);\n        if (isTrue(isReactivated)) {\n          reactivateComponent(vnode, insertedVnodeQueue, parentElm, refElm);\n        }\n        return true\n      }\n    }\n  }\n\n  function initComponent (vnode, insertedVnodeQueue) {\n    if (isDef(vnode.data.pendingInsert)) {\n      insertedVnodeQueue.push.apply(insertedVnodeQueue, vnode.data.pendingInsert);\n      vnode.data.pendingInsert = null;\n    }\n    vnode.elm = vnode.componentInstance.$el;\n    if (isPatchable(vnode)) {\n      invokeCreateHooks(vnode, insertedVnodeQueue);\n      setScope(vnode);\n    } else {\n      // empty component root.\n      // skip all element-related modules except for ref (#3455)\n      registerRef(vnode);\n      // make sure to invoke the insert hook\n      insertedVnodeQueue.push(vnode);\n    }\n  }\n\n  function reactivateComponent (vnode, insertedVnodeQueue, parentElm, refElm) {\n    var i;\n    // hack for #4339: a reactivated component with inner transition\n    // does not trigger because the inner node's created hooks are not called\n    // again. It's not ideal to involve module-specific logic in here but\n    // there doesn't seem to be a better way to do it.\n    var innerNode = vnode;\n    while (innerNode.componentInstance) {\n      innerNode = innerNode.componentInstance._vnode;\n      if (isDef(i = innerNode.data) && isDef(i = i.transition)) {\n        for (i = 0; i < cbs.activate.length; ++i) {\n          cbs.activate[i](emptyNode, innerNode);\n        }\n        insertedVnodeQueue.push(innerNode);\n        break\n      }\n    }\n    // unlike a newly created component,\n    // a reactivated keep-alive component doesn't insert itself\n    insert(parentElm, vnode.elm, refElm);\n  }\n\n  function insert (parent, elm, ref) {\n    if (isDef(parent)) {\n      if (isDef(ref)) {\n        if (nodeOps.parentNode(ref) === parent) {\n          nodeOps.insertBefore(parent, elm, ref);\n        }\n      } else {\n        nodeOps.appendChild(parent, elm);\n      }\n    }\n  }\n\n  function createChildren (vnode, children, insertedVnodeQueue) {\n    if (Array.isArray(children)) {\n      if (process.env.NODE_ENV !== 'production') {\n        checkDuplicateKeys(children);\n      }\n      for (var i = 0; i < children.length; ++i) {\n        createElm(children[i], insertedVnodeQueue, vnode.elm, null, true, children, i);\n      }\n    } else if (isPrimitive(vnode.text)) {\n      nodeOps.appendChild(vnode.elm, nodeOps.createTextNode(String(vnode.text)));\n    }\n  }\n\n  function isPatchable (vnode) {\n    while (vnode.componentInstance) {\n      vnode = vnode.componentInstance._vnode;\n    }\n    return isDef(vnode.tag)\n  }\n\n  function invokeCreateHooks (vnode, insertedVnodeQueue) {\n    for (var i$1 = 0; i$1 < cbs.create.length; ++i$1) {\n      cbs.create[i$1](emptyNode, vnode);\n    }\n    i = vnode.data.hook; // Reuse variable\n    if (isDef(i)) {\n      if (isDef(i.create)) { i.create(emptyNode, vnode); }\n      if (isDef(i.insert)) { insertedVnodeQueue.push(vnode); }\n    }\n  }\n\n  // set scope id attribute for scoped CSS.\n  // this is implemented as a special case to avoid the overhead\n  // of going through the normal attribute patching process.\n  function setScope (vnode) {\n    var i;\n    if (isDef(i = vnode.fnScopeId)) {\n      nodeOps.setStyleScope(vnode.elm, i);\n    } else {\n      var ancestor = vnode;\n      while (ancestor) {\n        if (isDef(i = ancestor.context) && isDef(i = i.$options._scopeId)) {\n          nodeOps.setStyleScope(vnode.elm, i);\n        }\n        ancestor = ancestor.parent;\n      }\n    }\n    // for slot content they should also get the scopeId from the host instance.\n    if (isDef(i = activeInstance) &&\n      i !== vnode.context &&\n      i !== vnode.fnContext &&\n      isDef(i = i.$options._scopeId)\n    ) {\n      nodeOps.setStyleScope(vnode.elm, i);\n    }\n  }\n\n  function addVnodes (parentElm, refElm, vnodes, startIdx, endIdx, insertedVnodeQueue) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      createElm(vnodes[startIdx], insertedVnodeQueue, parentElm, refElm, false, vnodes, startIdx);\n    }\n  }\n\n  function invokeDestroyHook (vnode) {\n    var i, j;\n    var data = vnode.data;\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.destroy)) { i(vnode); }\n      for (i = 0; i < cbs.destroy.length; ++i) { cbs.destroy[i](vnode); }\n    }\n    if (isDef(i = vnode.children)) {\n      for (j = 0; j < vnode.children.length; ++j) {\n        invokeDestroyHook(vnode.children[j]);\n      }\n    }\n  }\n\n  function removeVnodes (vnodes, startIdx, endIdx) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      var ch = vnodes[startIdx];\n      if (isDef(ch)) {\n        if (isDef(ch.tag)) {\n          removeAndInvokeRemoveHook(ch);\n          invokeDestroyHook(ch);\n        } else { // Text node\n          removeNode(ch.elm);\n        }\n      }\n    }\n  }\n\n  function removeAndInvokeRemoveHook (vnode, rm) {\n    if (isDef(rm) || isDef(vnode.data)) {\n      var i;\n      var listeners = cbs.remove.length + 1;\n      if (isDef(rm)) {\n        // we have a recursively passed down rm callback\n        // increase the listeners count\n        rm.listeners += listeners;\n      } else {\n        // directly removing\n        rm = createRmCb(vnode.elm, listeners);\n      }\n      // recursively invoke hooks on child component root node\n      if (isDef(i = vnode.componentInstance) && isDef(i = i._vnode) && isDef(i.data)) {\n        removeAndInvokeRemoveHook(i, rm);\n      }\n      for (i = 0; i < cbs.remove.length; ++i) {\n        cbs.remove[i](vnode, rm);\n      }\n      if (isDef(i = vnode.data.hook) && isDef(i = i.remove)) {\n        i(vnode, rm);\n      } else {\n        rm();\n      }\n    } else {\n      removeNode(vnode.elm);\n    }\n  }\n\n  function updateChildren (parentElm, oldCh, newCh, insertedVnodeQueue, removeOnly) {\n    var oldStartIdx = 0;\n    var newStartIdx = 0;\n    var oldEndIdx = oldCh.length - 1;\n    var oldStartVnode = oldCh[0];\n    var oldEndVnode = oldCh[oldEndIdx];\n    var newEndIdx = newCh.length - 1;\n    var newStartVnode = newCh[0];\n    var newEndVnode = newCh[newEndIdx];\n    var oldKeyToIdx, idxInOld, vnodeToMove, refElm;\n\n    // removeOnly is a special flag used only by <transition-group>\n    // to ensure removed elements stay in correct relative positions\n    // during leaving transitions\n    var canMove = !removeOnly;\n\n    if (process.env.NODE_ENV !== 'production') {\n      checkDuplicateKeys(newCh);\n    }\n\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n      if (isUndef(oldStartVnode)) {\n        oldStartVnode = oldCh[++oldStartIdx]; // Vnode has been moved left\n      } else if (isUndef(oldEndVnode)) {\n        oldEndVnode = oldCh[--oldEndIdx];\n      } else if (sameVnode(oldStartVnode, newStartVnode)) {\n        patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);\n        oldStartVnode = oldCh[++oldStartIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else if (sameVnode(oldEndVnode, newEndVnode)) {\n        patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldStartVnode, newEndVnode)) { // Vnode moved right\n        patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx);\n        canMove && nodeOps.insertBefore(parentElm, oldStartVnode.elm, nodeOps.nextSibling(oldEndVnode.elm));\n        oldStartVnode = oldCh[++oldStartIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldEndVnode, newStartVnode)) { // Vnode moved left\n        patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);\n        canMove && nodeOps.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else {\n        if (isUndef(oldKeyToIdx)) { oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx); }\n        idxInOld = isDef(newStartVnode.key)\n          ? oldKeyToIdx[newStartVnode.key]\n          : findIdxInOld(newStartVnode, oldCh, oldStartIdx, oldEndIdx);\n        if (isUndef(idxInOld)) { // New element\n          createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx);\n        } else {\n          vnodeToMove = oldCh[idxInOld];\n          if (sameVnode(vnodeToMove, newStartVnode)) {\n            patchVnode(vnodeToMove, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);\n            oldCh[idxInOld] = undefined;\n            canMove && nodeOps.insertBefore(parentElm, vnodeToMove.elm, oldStartVnode.elm);\n          } else {\n            // same key but different element. treat as new element\n            createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx);\n          }\n        }\n        newStartVnode = newCh[++newStartIdx];\n      }\n    }\n    if (oldStartIdx > oldEndIdx) {\n      refElm = isUndef(newCh[newEndIdx + 1]) ? null : newCh[newEndIdx + 1].elm;\n      addVnodes(parentElm, refElm, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);\n    } else if (newStartIdx > newEndIdx) {\n      removeVnodes(oldCh, oldStartIdx, oldEndIdx);\n    }\n  }\n\n  function checkDuplicateKeys (children) {\n    var seenKeys = {};\n    for (var i = 0; i < children.length; i++) {\n      var vnode = children[i];\n      var key = vnode.key;\n      if (isDef(key)) {\n        if (seenKeys[key]) {\n          warn(\n            (\"Duplicate keys detected: '\" + key + \"'. This may cause an update error.\"),\n            vnode.context\n          );\n        } else {\n          seenKeys[key] = true;\n        }\n      }\n    }\n  }\n\n  function findIdxInOld (node, oldCh, start, end) {\n    for (var i = start; i < end; i++) {\n      var c = oldCh[i];\n      if (isDef(c) && sameVnode(node, c)) { return i }\n    }\n  }\n\n  function patchVnode (\n    oldVnode,\n    vnode,\n    insertedVnodeQueue,\n    ownerArray,\n    index,\n    removeOnly\n  ) {\n    if (oldVnode === vnode) {\n      return\n    }\n\n    if (isDef(vnode.elm) && isDef(ownerArray)) {\n      // clone reused vnode\n      vnode = ownerArray[index] = cloneVNode(vnode);\n    }\n\n    var elm = vnode.elm = oldVnode.elm;\n\n    if (isTrue(oldVnode.isAsyncPlaceholder)) {\n      if (isDef(vnode.asyncFactory.resolved)) {\n        hydrate(oldVnode.elm, vnode, insertedVnodeQueue);\n      } else {\n        vnode.isAsyncPlaceholder = true;\n      }\n      return\n    }\n\n    // reuse element for static trees.\n    // note we only do this if the vnode is cloned -\n    // if the new node is not cloned it means the render functions have been\n    // reset by the hot-reload-api and we need to do a proper re-render.\n    if (isTrue(vnode.isStatic) &&\n      isTrue(oldVnode.isStatic) &&\n      vnode.key === oldVnode.key &&\n      (isTrue(vnode.isCloned) || isTrue(vnode.isOnce))\n    ) {\n      vnode.componentInstance = oldVnode.componentInstance;\n      return\n    }\n\n    var i;\n    var data = vnode.data;\n    if (isDef(data) && isDef(i = data.hook) && isDef(i = i.prepatch)) {\n      i(oldVnode, vnode);\n    }\n\n    var oldCh = oldVnode.children;\n    var ch = vnode.children;\n    if (isDef(data) && isPatchable(vnode)) {\n      for (i = 0; i < cbs.update.length; ++i) { cbs.update[i](oldVnode, vnode); }\n      if (isDef(i = data.hook) && isDef(i = i.update)) { i(oldVnode, vnode); }\n    }\n    if (isUndef(vnode.text)) {\n      if (isDef(oldCh) && isDef(ch)) {\n        if (oldCh !== ch) { updateChildren(elm, oldCh, ch, insertedVnodeQueue, removeOnly); }\n      } else if (isDef(ch)) {\n        if (process.env.NODE_ENV !== 'production') {\n          checkDuplicateKeys(ch);\n        }\n        if (isDef(oldVnode.text)) { nodeOps.setTextContent(elm, ''); }\n        addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);\n      } else if (isDef(oldCh)) {\n        removeVnodes(oldCh, 0, oldCh.length - 1);\n      } else if (isDef(oldVnode.text)) {\n        nodeOps.setTextContent(elm, '');\n      }\n    } else if (oldVnode.text !== vnode.text) {\n      nodeOps.setTextContent(elm, vnode.text);\n    }\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.postpatch)) { i(oldVnode, vnode); }\n    }\n  }\n\n  function invokeInsertHook (vnode, queue, initial) {\n    // delay insert hooks for component root nodes, invoke them after the\n    // element is really inserted\n    if (isTrue(initial) && isDef(vnode.parent)) {\n      vnode.parent.data.pendingInsert = queue;\n    } else {\n      for (var i = 0; i < queue.length; ++i) {\n        queue[i].data.hook.insert(queue[i]);\n      }\n    }\n  }\n\n  var hydrationBailed = false;\n  // list of modules that can skip create hook during hydration because they\n  // are already rendered on the client or has no need for initialization\n  // Note: style is excluded because it relies on initial clone for future\n  // deep updates (#7063).\n  var isRenderedModule = makeMap('attrs,class,staticClass,staticStyle,key');\n\n  // Note: this is a browser-only function so we can assume elms are DOM nodes.\n  function hydrate (elm, vnode, insertedVnodeQueue, inVPre) {\n    var i;\n    var tag = vnode.tag;\n    var data = vnode.data;\n    var children = vnode.children;\n    inVPre = inVPre || (data && data.pre);\n    vnode.elm = elm;\n\n    if (isTrue(vnode.isComment) && isDef(vnode.asyncFactory)) {\n      vnode.isAsyncPlaceholder = true;\n      return true\n    }\n    // assert node match\n    if (process.env.NODE_ENV !== 'production') {\n      if (!assertNodeMatch(elm, vnode, inVPre)) {\n        return false\n      }\n    }\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.init)) { i(vnode, true /* hydrating */); }\n      if (isDef(i = vnode.componentInstance)) {\n        // child component. it should have hydrated its own tree.\n        initComponent(vnode, insertedVnodeQueue);\n        return true\n      }\n    }\n    if (isDef(tag)) {\n      if (isDef(children)) {\n        // empty element, allow client to pick up and populate children\n        if (!elm.hasChildNodes()) {\n          createChildren(vnode, children, insertedVnodeQueue);\n        } else {\n          // v-html and domProps: innerHTML\n          if (isDef(i = data) && isDef(i = i.domProps) && isDef(i = i.innerHTML)) {\n            if (i !== elm.innerHTML) {\n              /* istanbul ignore if */\n              if (process.env.NODE_ENV !== 'production' &&\n                typeof console !== 'undefined' &&\n                !hydrationBailed\n              ) {\n                hydrationBailed = true;\n                console.warn('Parent: ', elm);\n                console.warn('server innerHTML: ', i);\n                console.warn('client innerHTML: ', elm.innerHTML);\n              }\n              return false\n            }\n          } else {\n            // iterate and compare children lists\n            var childrenMatch = true;\n            var childNode = elm.firstChild;\n            for (var i$1 = 0; i$1 < children.length; i$1++) {\n              if (!childNode || !hydrate(childNode, children[i$1], insertedVnodeQueue, inVPre)) {\n                childrenMatch = false;\n                break\n              }\n              childNode = childNode.nextSibling;\n            }\n            // if childNode is not null, it means the actual childNodes list is\n            // longer than the virtual children list.\n            if (!childrenMatch || childNode) {\n              /* istanbul ignore if */\n              if (process.env.NODE_ENV !== 'production' &&\n                typeof console !== 'undefined' &&\n                !hydrationBailed\n              ) {\n                hydrationBailed = true;\n                console.warn('Parent: ', elm);\n                console.warn('Mismatching childNodes vs. VNodes: ', elm.childNodes, children);\n              }\n              return false\n            }\n          }\n        }\n      }\n      if (isDef(data)) {\n        var fullInvoke = false;\n        for (var key in data) {\n          if (!isRenderedModule(key)) {\n            fullInvoke = true;\n            invokeCreateHooks(vnode, insertedVnodeQueue);\n            break\n          }\n        }\n        if (!fullInvoke && data['class']) {\n          // ensure collecting deps for deep class bindings for future updates\n          traverse(data['class']);\n        }\n      }\n    } else if (elm.data !== vnode.text) {\n      elm.data = vnode.text;\n    }\n    return true\n  }\n\n  function assertNodeMatch (node, vnode, inVPre) {\n    if (isDef(vnode.tag)) {\n      return vnode.tag.indexOf('vue-component') === 0 || (\n        !isUnknownElement(vnode, inVPre) &&\n        vnode.tag.toLowerCase() === (node.tagName && node.tagName.toLowerCase())\n      )\n    } else {\n      return node.nodeType === (vnode.isComment ? 8 : 3)\n    }\n  }\n\n  return function patch (oldVnode, vnode, hydrating, removeOnly) {\n    if (isUndef(vnode)) {\n      if (isDef(oldVnode)) { invokeDestroyHook(oldVnode); }\n      return\n    }\n\n    var isInitialPatch = false;\n    var insertedVnodeQueue = [];\n\n    if (isUndef(oldVnode)) {\n      // empty mount (likely as component), create new root element\n      isInitialPatch = true;\n      createElm(vnode, insertedVnodeQueue);\n    } else {\n      var isRealElement = isDef(oldVnode.nodeType);\n      if (!isRealElement && sameVnode(oldVnode, vnode)) {\n        // patch existing root node\n        patchVnode(oldVnode, vnode, insertedVnodeQueue, null, null, removeOnly);\n      } else {\n        if (isRealElement) {\n          // mounting to a real element\n          // check if this is server-rendered content and if we can perform\n          // a successful hydration.\n          if (oldVnode.nodeType === 1 && oldVnode.hasAttribute(SSR_ATTR)) {\n            oldVnode.removeAttribute(SSR_ATTR);\n            hydrating = true;\n          }\n          if (isTrue(hydrating)) {\n            if (hydrate(oldVnode, vnode, insertedVnodeQueue)) {\n              invokeInsertHook(vnode, insertedVnodeQueue, true);\n              return oldVnode\n            } else if (process.env.NODE_ENV !== 'production') {\n              warn(\n                'The client-side rendered virtual DOM tree is not matching ' +\n                'server-rendered content. This is likely caused by incorrect ' +\n                'HTML markup, for example nesting block-level elements inside ' +\n                '<p>, or missing <tbody>. Bailing hydration and performing ' +\n                'full client-side render.'\n              );\n            }\n          }\n          // either not server-rendered, or hydration failed.\n          // create an empty node and replace it\n          oldVnode = emptyNodeAt(oldVnode);\n        }\n\n        // replacing existing element\n        var oldElm = oldVnode.elm;\n        var parentElm = nodeOps.parentNode(oldElm);\n\n        // create new node\n        createElm(\n          vnode,\n          insertedVnodeQueue,\n          // extremely rare edge case: do not insert if old element is in a\n          // leaving transition. Only happens when combining transition +\n          // keep-alive + HOCs. (#4590)\n          oldElm._leaveCb ? null : parentElm,\n          nodeOps.nextSibling(oldElm)\n        );\n\n        // update parent placeholder node element, recursively\n        if (isDef(vnode.parent)) {\n          var ancestor = vnode.parent;\n          var patchable = isPatchable(vnode);\n          while (ancestor) {\n            for (var i = 0; i < cbs.destroy.length; ++i) {\n              cbs.destroy[i](ancestor);\n            }\n            ancestor.elm = vnode.elm;\n            if (patchable) {\n              for (var i$1 = 0; i$1 < cbs.create.length; ++i$1) {\n                cbs.create[i$1](emptyNode, ancestor);\n              }\n              // #6513\n              // invoke insert hooks that may have been merged by create hooks.\n              // e.g. for directives that uses the \"inserted\" hook.\n              var insert = ancestor.data.hook.insert;\n              if (insert.merged) {\n                // start at index 1 to avoid re-invoking component mounted hook\n                for (var i$2 = 1; i$2 < insert.fns.length; i$2++) {\n                  insert.fns[i$2]();\n                }\n              }\n            } else {\n              registerRef(ancestor);\n            }\n            ancestor = ancestor.parent;\n          }\n        }\n\n        // destroy old node\n        if (isDef(parentElm)) {\n          removeVnodes([oldVnode], 0, 0);\n        } else if (isDef(oldVnode.tag)) {\n          invokeDestroyHook(oldVnode);\n        }\n      }\n    }\n\n    invokeInsertHook(vnode, insertedVnodeQueue, isInitialPatch);\n    return vnode.elm\n  }\n}\n\n/*  */\n\nvar directives = {\n  create: updateDirectives,\n  update: updateDirectives,\n  destroy: function unbindDirectives (vnode) {\n    updateDirectives(vnode, emptyNode);\n  }\n};\n\nfunction updateDirectives (oldVnode, vnode) {\n  if (oldVnode.data.directives || vnode.data.directives) {\n    _update(oldVnode, vnode);\n  }\n}\n\nfunction _update (oldVnode, vnode) {\n  var isCreate = oldVnode === emptyNode;\n  var isDestroy = vnode === emptyNode;\n  var oldDirs = normalizeDirectives$1(oldVnode.data.directives, oldVnode.context);\n  var newDirs = normalizeDirectives$1(vnode.data.directives, vnode.context);\n\n  var dirsWithInsert = [];\n  var dirsWithPostpatch = [];\n\n  var key, oldDir, dir;\n  for (key in newDirs) {\n    oldDir = oldDirs[key];\n    dir = newDirs[key];\n    if (!oldDir) {\n      // new directive, bind\n      callHook$1(dir, 'bind', vnode, oldVnode);\n      if (dir.def && dir.def.inserted) {\n        dirsWithInsert.push(dir);\n      }\n    } else {\n      // existing directive, update\n      dir.oldValue = oldDir.value;\n      dir.oldArg = oldDir.arg;\n      callHook$1(dir, 'update', vnode, oldVnode);\n      if (dir.def && dir.def.componentUpdated) {\n        dirsWithPostpatch.push(dir);\n      }\n    }\n  }\n\n  if (dirsWithInsert.length) {\n    var callInsert = function () {\n      for (var i = 0; i < dirsWithInsert.length; i++) {\n        callHook$1(dirsWithInsert[i], 'inserted', vnode, oldVnode);\n      }\n    };\n    if (isCreate) {\n      mergeVNodeHook(vnode, 'insert', callInsert);\n    } else {\n      callInsert();\n    }\n  }\n\n  if (dirsWithPostpatch.length) {\n    mergeVNodeHook(vnode, 'postpatch', function () {\n      for (var i = 0; i < dirsWithPostpatch.length; i++) {\n        callHook$1(dirsWithPostpatch[i], 'componentUpdated', vnode, oldVnode);\n      }\n    });\n  }\n\n  if (!isCreate) {\n    for (key in oldDirs) {\n      if (!newDirs[key]) {\n        // no longer present, unbind\n        callHook$1(oldDirs[key], 'unbind', oldVnode, oldVnode, isDestroy);\n      }\n    }\n  }\n}\n\nvar emptyModifiers = Object.create(null);\n\nfunction normalizeDirectives$1 (\n  dirs,\n  vm\n) {\n  var res = Object.create(null);\n  if (!dirs) {\n    // $flow-disable-line\n    return res\n  }\n  var i, dir;\n  for (i = 0; i < dirs.length; i++) {\n    dir = dirs[i];\n    if (!dir.modifiers) {\n      // $flow-disable-line\n      dir.modifiers = emptyModifiers;\n    }\n    res[getRawDirName(dir)] = dir;\n    dir.def = resolveAsset(vm.$options, 'directives', dir.name, true);\n  }\n  // $flow-disable-line\n  return res\n}\n\nfunction getRawDirName (dir) {\n  return dir.rawName || ((dir.name) + \".\" + (Object.keys(dir.modifiers || {}).join('.')))\n}\n\nfunction callHook$1 (dir, hook, vnode, oldVnode, isDestroy) {\n  var fn = dir.def && dir.def[hook];\n  if (fn) {\n    try {\n      fn(vnode.elm, dir, vnode, oldVnode, isDestroy);\n    } catch (e) {\n      handleError(e, vnode.context, (\"directive \" + (dir.name) + \" \" + hook + \" hook\"));\n    }\n  }\n}\n\nvar baseModules = [\n  ref,\n  directives\n];\n\n/*  */\n\nfunction updateAttrs (oldVnode, vnode) {\n  if (!oldVnode.data.attrs && !vnode.data.attrs) {\n    return\n  }\n  var key, cur, old;\n  var elm = vnode.elm;\n  var oldAttrs = oldVnode.data.attrs || {};\n  var attrs = vnode.data.attrs || {};\n  // clone observed objects, as the user probably wants to mutate it\n  if (attrs.__ob__) {\n    attrs = vnode.data.attrs = extend({}, attrs);\n  }\n\n  var supportBatchUpdate = typeof elm.setAttrs === 'function';\n  var batchedAttrs = {};\n  for (key in attrs) {\n    cur = attrs[key];\n    old = oldAttrs[key];\n    if (old !== cur) {\n      supportBatchUpdate\n        ? (batchedAttrs[key] = cur)\n        : elm.setAttr(key, cur);\n    }\n  }\n  for (key in oldAttrs) {\n    if (attrs[key] == null) {\n      supportBatchUpdate\n        ? (batchedAttrs[key] = undefined)\n        : elm.setAttr(key);\n    }\n  }\n  if (supportBatchUpdate) {\n    elm.setAttrs(batchedAttrs);\n  }\n}\n\nvar attrs = {\n  create: updateAttrs,\n  update: updateAttrs\n};\n\n/*  */\n\nfunction updateClass (oldVnode, vnode) {\n  var el = vnode.elm;\n  var ctx = vnode.context;\n\n  var data = vnode.data;\n  var oldData = oldVnode.data;\n  if (!data.staticClass &&\n    !data.class &&\n    (!oldData || (!oldData.staticClass && !oldData.class))\n  ) {\n    return\n  }\n\n  var oldClassList = makeClassList(oldData);\n  var classList = makeClassList(data);\n\n  if (typeof el.setClassList === 'function') {\n    el.setClassList(classList);\n  } else {\n    var style = getStyle(oldClassList, classList, ctx);\n    if (typeof el.setStyles === 'function') {\n      el.setStyles(style);\n    } else {\n      for (var key in style) {\n        el.setStyle(key, style[key]);\n      }\n    }\n  }\n}\n\nfunction makeClassList (data) {\n  var classList = [];\n  // unlike web, weex vnode staticClass is an Array\n  var staticClass = data.staticClass;\n  var dataClass = data.class;\n  if (staticClass) {\n    classList.push.apply(classList, staticClass);\n  }\n  if (Array.isArray(dataClass)) {\n    classList.push.apply(classList, dataClass);\n  } else if (isObject(dataClass)) {\n    classList.push.apply(classList, Object.keys(dataClass).filter(function (className) { return dataClass[className]; }));\n  } else if (typeof dataClass === 'string') {\n    classList.push.apply(classList, dataClass.trim().split(/\\s+/));\n  }\n  return classList\n}\n\nfunction getStyle (oldClassList, classList, ctx) {\n  // style is a weex-only injected object\n  // compiled from <style> tags in weex files\n  var stylesheet = ctx.$options.style || {};\n  var result = {};\n  classList.forEach(function (name) {\n    var style = stylesheet[name];\n    extend(result, style);\n  });\n  oldClassList.forEach(function (name) {\n    var style = stylesheet[name];\n    for (var key in style) {\n      if (!result.hasOwnProperty(key)) {\n        result[key] = '';\n      }\n    }\n  });\n  return result\n}\n\nvar klass = {\n  create: updateClass,\n  update: updateClass\n};\n\n/*  */\n\nvar target$1;\n\nfunction createOnceHandler$1 (event, handler, capture) {\n  var _target = target$1; // save current target element in closure\n  return function onceHandler () {\n    var res = handler.apply(null, arguments);\n    if (res !== null) {\n      remove$2(event, onceHandler, capture, _target);\n    }\n  }\n}\n\nfunction add$1 (\n  event,\n  handler,\n  capture,\n  passive,\n  params\n) {\n  if (capture) {\n    console.log('Weex do not support event in bubble phase.');\n    return\n  }\n  target$1.addEvent(event, handler, params);\n}\n\nfunction remove$2 (\n  event,\n  handler,\n  capture,\n  _target\n) {\n  (_target || target$1).removeEvent(event);\n}\n\nfunction updateDOMListeners (oldVnode, vnode) {\n  if (!oldVnode.data.on && !vnode.data.on) {\n    return\n  }\n  var on = vnode.data.on || {};\n  var oldOn = oldVnode.data.on || {};\n  target$1 = vnode.elm;\n  updateListeners(on, oldOn, add$1, remove$2, createOnceHandler$1, vnode.context);\n  target$1 = undefined;\n}\n\nvar events = {\n  create: updateDOMListeners,\n  update: updateDOMListeners\n};\n\n/*  */\n\nvar normalize = cached(camelize);\n\nfunction createStyle (oldVnode, vnode) {\n  if (!vnode.data.staticStyle) {\n    updateStyle(oldVnode, vnode);\n    return\n  }\n  var elm = vnode.elm;\n  var staticStyle = vnode.data.staticStyle;\n  var supportBatchUpdate = typeof elm.setStyles === 'function';\n  var batchedStyles = {};\n  for (var name in staticStyle) {\n    if (staticStyle[name]) {\n      supportBatchUpdate\n        ? (batchedStyles[normalize(name)] = staticStyle[name])\n        : elm.setStyle(normalize(name), staticStyle[name]);\n    }\n  }\n  if (supportBatchUpdate) {\n    elm.setStyles(batchedStyles);\n  }\n  updateStyle(oldVnode, vnode);\n}\n\nfunction updateStyle (oldVnode, vnode) {\n  if (!oldVnode.data.style && !vnode.data.style) {\n    return\n  }\n  var cur, name;\n  var elm = vnode.elm;\n  var oldStyle = oldVnode.data.style || {};\n  var style = vnode.data.style || {};\n\n  var needClone = style.__ob__;\n\n  // handle array syntax\n  if (Array.isArray(style)) {\n    style = vnode.data.style = toObject$1(style);\n  }\n\n  // clone the style for future updates,\n  // in case the user mutates the style object in-place.\n  if (needClone) {\n    style = vnode.data.style = extend({}, style);\n  }\n\n  var supportBatchUpdate = typeof elm.setStyles === 'function';\n  var batchedStyles = {};\n  for (name in oldStyle) {\n    if (!style[name]) {\n      supportBatchUpdate\n        ? (batchedStyles[normalize(name)] = '')\n        : elm.setStyle(normalize(name), '');\n    }\n  }\n  for (name in style) {\n    cur = style[name];\n    supportBatchUpdate\n      ? (batchedStyles[normalize(name)] = cur)\n      : elm.setStyle(normalize(name), cur);\n  }\n  if (supportBatchUpdate) {\n    elm.setStyles(batchedStyles);\n  }\n}\n\nfunction toObject$1 (arr) {\n  var res = {};\n  for (var i = 0; i < arr.length; i++) {\n    if (arr[i]) {\n      extend(res, arr[i]);\n    }\n  }\n  return res\n}\n\nvar style = {\n  create: createStyle,\n  update: updateStyle\n};\n\n/*  */\n\nfunction resolveTransition (def) {\n  if (!def) {\n    return\n  }\n  /* istanbul ignore else */\n  if (typeof def === 'object') {\n    var res = {};\n    if (def.css !== false) {\n      extend(res, autoCssTransition(def.name || 'v'));\n    }\n    extend(res, def);\n    return res\n  } else if (typeof def === 'string') {\n    return autoCssTransition(def)\n  }\n}\n\nvar autoCssTransition = cached(function (name) {\n  return {\n    enterClass: (name + \"-enter\"),\n    enterToClass: (name + \"-enter-to\"),\n    enterActiveClass: (name + \"-enter-active\"),\n    leaveClass: (name + \"-leave\"),\n    leaveToClass: (name + \"-leave-to\"),\n    leaveActiveClass: (name + \"-leave-active\")\n  }\n});\n\n// binding to window is necessary to make hot reload work in IE in strict mode\nvar raf = inBrowser\n  ? window.requestAnimationFrame\n    ? window.requestAnimationFrame.bind(window)\n    : setTimeout\n  : /* istanbul ignore next */ function (fn) { return fn(); };\n\nvar transition = {\n  create: enter,\n  activate: enter,\n  remove: leave\n};\n\nfunction enter (_, vnode) {\n  var el = vnode.elm;\n\n  // call leave callback now\n  if (el._leaveCb) {\n    el._leaveCb.cancelled = true;\n    el._leaveCb();\n  }\n\n  var data = resolveTransition(vnode.data.transition);\n  if (!data) {\n    return\n  }\n\n  /* istanbul ignore if */\n  if (el._enterCb) {\n    return\n  }\n\n  var enterClass = data.enterClass;\n  var enterToClass = data.enterToClass;\n  var enterActiveClass = data.enterActiveClass;\n  var appearClass = data.appearClass;\n  var appearToClass = data.appearToClass;\n  var appearActiveClass = data.appearActiveClass;\n  var beforeEnter = data.beforeEnter;\n  var enter = data.enter;\n  var afterEnter = data.afterEnter;\n  var enterCancelled = data.enterCancelled;\n  var beforeAppear = data.beforeAppear;\n  var appear = data.appear;\n  var afterAppear = data.afterAppear;\n  var appearCancelled = data.appearCancelled;\n\n  var context = activeInstance;\n  var transitionNode = activeInstance.$vnode;\n  while (transitionNode && transitionNode.parent) {\n    transitionNode = transitionNode.parent;\n    context = transitionNode.context;\n  }\n\n  var isAppear = !context._isMounted || !vnode.isRootInsert;\n\n  if (isAppear && !appear && appear !== '') {\n    return\n  }\n\n  var startClass = isAppear ? appearClass : enterClass;\n  var toClass = isAppear ? appearToClass : enterToClass;\n  var activeClass = isAppear ? appearActiveClass : enterActiveClass;\n  var beforeEnterHook = isAppear ? (beforeAppear || beforeEnter) : beforeEnter;\n  var enterHook = isAppear ? (typeof appear === 'function' ? appear : enter) : enter;\n  var afterEnterHook = isAppear ? (afterAppear || afterEnter) : afterEnter;\n  var enterCancelledHook = isAppear ? (appearCancelled || enterCancelled) : enterCancelled;\n\n  var userWantsControl =\n    enterHook &&\n    // enterHook may be a bound method which exposes\n    // the length of original fn as _length\n    (enterHook._length || enterHook.length) > 1;\n\n  var stylesheet = vnode.context.$options.style || {};\n  var startState = stylesheet[startClass];\n  var transitionProperties = (stylesheet['@TRANSITION'] && stylesheet['@TRANSITION'][activeClass]) || {};\n  var endState = getEnterTargetState(el, stylesheet, startClass, toClass, activeClass);\n  var needAnimation = Object.keys(endState).length > 0;\n\n  var cb = el._enterCb = once(function () {\n    if (cb.cancelled) {\n      enterCancelledHook && enterCancelledHook(el);\n    } else {\n      afterEnterHook && afterEnterHook(el);\n    }\n    el._enterCb = null;\n  });\n\n  // We need to wait until the native element has been inserted, but currently\n  // there's no API to do that. So we have to wait \"one frame\" - not entirely\n  // sure if this is guaranteed to be enough (e.g. on slow devices?)\n  setTimeout(function () {\n    var parent = el.parentNode;\n    var pendingNode = parent && parent._pending && parent._pending[vnode.key];\n    if (pendingNode &&\n      pendingNode.context === vnode.context &&\n      pendingNode.tag === vnode.tag &&\n      pendingNode.elm._leaveCb\n    ) {\n      pendingNode.elm._leaveCb();\n    }\n    enterHook && enterHook(el, cb);\n\n    if (needAnimation) {\n      var animation = vnode.context.$requireWeexModule('animation');\n      animation.transition(el.ref, {\n        styles: endState,\n        duration: transitionProperties.duration || 0,\n        delay: transitionProperties.delay || 0,\n        timingFunction: transitionProperties.timingFunction || 'linear'\n      }, userWantsControl ? noop : cb);\n    } else if (!userWantsControl) {\n      cb();\n    }\n  }, 16);\n\n  // start enter transition\n  beforeEnterHook && beforeEnterHook(el);\n\n  if (startState) {\n    if (typeof el.setStyles === 'function') {\n      el.setStyles(startState);\n    } else {\n      for (var key in startState) {\n        el.setStyle(key, startState[key]);\n      }\n    }\n  }\n\n  if (!needAnimation && !userWantsControl) {\n    cb();\n  }\n}\n\nfunction leave (vnode, rm) {\n  var el = vnode.elm;\n\n  // call enter callback now\n  if (el._enterCb) {\n    el._enterCb.cancelled = true;\n    el._enterCb();\n  }\n\n  var data = resolveTransition(vnode.data.transition);\n  if (!data) {\n    return rm()\n  }\n\n  if (el._leaveCb) {\n    return\n  }\n\n  var leaveClass = data.leaveClass;\n  var leaveToClass = data.leaveToClass;\n  var leaveActiveClass = data.leaveActiveClass;\n  var beforeLeave = data.beforeLeave;\n  var leave = data.leave;\n  var afterLeave = data.afterLeave;\n  var leaveCancelled = data.leaveCancelled;\n  var delayLeave = data.delayLeave;\n\n  var userWantsControl =\n    leave &&\n    // leave hook may be a bound method which exposes\n    // the length of original fn as _length\n    (leave._length || leave.length) > 1;\n\n  var stylesheet = vnode.context.$options.style || {};\n  var startState = stylesheet[leaveClass];\n  var endState = stylesheet[leaveToClass] || stylesheet[leaveActiveClass];\n  var transitionProperties = (stylesheet['@TRANSITION'] && stylesheet['@TRANSITION'][leaveActiveClass]) || {};\n\n  var cb = el._leaveCb = once(function () {\n    if (el.parentNode && el.parentNode._pending) {\n      el.parentNode._pending[vnode.key] = null;\n    }\n    if (cb.cancelled) {\n      leaveCancelled && leaveCancelled(el);\n    } else {\n      rm();\n      afterLeave && afterLeave(el);\n    }\n    el._leaveCb = null;\n  });\n\n  if (delayLeave) {\n    delayLeave(performLeave);\n  } else {\n    performLeave();\n  }\n\n  function performLeave () {\n    var animation = vnode.context.$requireWeexModule('animation');\n    // the delayed leave may have already been cancelled\n    if (cb.cancelled) {\n      return\n    }\n    // record leaving element\n    if (!vnode.data.show) {\n      (el.parentNode._pending || (el.parentNode._pending = {}))[vnode.key] = vnode;\n    }\n    beforeLeave && beforeLeave(el);\n\n    if (startState) {\n      animation.transition(el.ref, {\n        styles: startState\n      }, next);\n    } else {\n      next();\n    }\n\n    function next () {\n      animation.transition(el.ref, {\n        styles: endState,\n        duration: transitionProperties.duration || 0,\n        delay: transitionProperties.delay || 0,\n        timingFunction: transitionProperties.timingFunction || 'linear'\n      }, userWantsControl ? noop : cb);\n    }\n\n    leave && leave(el, cb);\n    if (!endState && !userWantsControl) {\n      cb();\n    }\n  }\n}\n\n// determine the target animation style for an entering transition.\nfunction getEnterTargetState (el, stylesheet, startClass, endClass, activeClass) {\n  var targetState = {};\n  var startState = stylesheet[startClass];\n  var endState = stylesheet[endClass];\n  var activeState = stylesheet[activeClass];\n  // 1. fallback to element's default styling\n  if (startState) {\n    for (var key in startState) {\n      targetState[key] = el.style[key];\n      if (\n        process.env.NODE_ENV !== 'production' &&\n        targetState[key] == null &&\n        (!activeState || activeState[key] == null) &&\n        (!endState || endState[key] == null)\n      ) {\n        warn(\n          \"transition property \\\"\" + key + \"\\\" is declared in enter starting class (.\" + startClass + \"), \" +\n          \"but not declared anywhere in enter ending class (.\" + endClass + \"), \" +\n          \"enter active cass (.\" + activeClass + \") or the element's default styling. \" +\n          \"Note in Weex, CSS properties need explicit values to be transitionable.\"\n        );\n      }\n    }\n  }\n  // 2. if state is mixed in active state, extract them while excluding\n  //    transition properties\n  if (activeState) {\n    for (var key$1 in activeState) {\n      if (key$1.indexOf('transition') !== 0) {\n        targetState[key$1] = activeState[key$1];\n      }\n    }\n  }\n  // 3. explicit endState has highest priority\n  if (endState) {\n    extend(targetState, endState);\n  }\n  return targetState\n}\n\nvar platformModules = [\n  attrs,\n  klass,\n  events,\n  style,\n  transition\n];\n\n/*  */\n\n// the directive module should be applied last, after all\n// built-in modules have been applied.\nvar modules = platformModules.concat(baseModules);\n\nvar patch = createPatchFunction({\n  nodeOps: nodeOps,\n  modules: modules,\n  LONG_LIST_THRESHOLD: 10\n});\n\nvar platformDirectives = {\n};\n\n/*  */\n\nfunction getVNodeType (vnode) {\n  if (!vnode.tag) {\n    return ''\n  }\n  return vnode.tag.replace(/vue\\-component\\-(\\d+\\-)?/, '')\n}\n\nfunction isSimpleSpan (vnode) {\n  return vnode.children &&\n    vnode.children.length === 1 &&\n    !vnode.children[0].tag\n}\n\nfunction parseStyle (vnode) {\n  if (!vnode || !vnode.data) {\n    return\n  }\n  var ref = vnode.data;\n  var staticStyle = ref.staticStyle;\n  var staticClass = ref.staticClass;\n  if (vnode.data.style || vnode.data.class || staticStyle || staticClass) {\n    var styles = Object.assign({}, staticStyle, vnode.data.style);\n    var cssMap = vnode.context.$options.style || {};\n    var classList = [].concat(staticClass, vnode.data.class);\n    classList.forEach(function (name) {\n      if (name && cssMap[name]) {\n        Object.assign(styles, cssMap[name]);\n      }\n    });\n    return styles\n  }\n}\n\nfunction convertVNodeChildren (children) {\n  if (!children.length) {\n    return\n  }\n\n  return children.map(function (vnode) {\n    var type = getVNodeType(vnode);\n    var props = { type: type };\n\n    // convert raw text node\n    if (!type) {\n      props.type = 'span';\n      props.attr = {\n        value: (vnode.text || '').trim()\n      };\n    } else {\n      props.style = parseStyle(vnode);\n      if (vnode.data) {\n        props.attr = vnode.data.attrs;\n        if (vnode.data.on) {\n          props.events = vnode.data.on;\n        }\n      }\n      if (type === 'span' && isSimpleSpan(vnode)) {\n        props.attr = props.attr || {};\n        props.attr.value = vnode.children[0].text.trim();\n        return props\n      }\n    }\n\n    if (vnode.children && vnode.children.length) {\n      props.children = convertVNodeChildren(vnode.children);\n    }\n\n    return props\n  })\n}\n\nvar Richtext = {\n  name: 'richtext',\n  render: function render (h) {\n    return h('weex:richtext', {\n      on: this._events,\n      attrs: {\n        value: convertVNodeChildren(this.$options._renderChildren || [])\n      }\n    })\n  }\n};\n\n/*  */\n\nvar transitionProps = {\n  name: String,\n  appear: Boolean,\n  css: Boolean,\n  mode: String,\n  type: String,\n  enterClass: String,\n  leaveClass: String,\n  enterToClass: String,\n  leaveToClass: String,\n  enterActiveClass: String,\n  leaveActiveClass: String,\n  appearClass: String,\n  appearActiveClass: String,\n  appearToClass: String,\n  duration: [Number, String, Object]\n};\n\n// in case the child is also an abstract component, e.g. <keep-alive>\n// we want to recursively retrieve the real component to be rendered\nfunction getRealChild (vnode) {\n  var compOptions = vnode && vnode.componentOptions;\n  if (compOptions && compOptions.Ctor.options.abstract) {\n    return getRealChild(getFirstComponentChild(compOptions.children))\n  } else {\n    return vnode\n  }\n}\n\nfunction extractTransitionData (comp) {\n  var data = {};\n  var options = comp.$options;\n  // props\n  for (var key in options.propsData) {\n    data[key] = comp[key];\n  }\n  // events.\n  // extract listeners and pass them directly to the transition methods\n  var listeners = options._parentListeners;\n  for (var key$1 in listeners) {\n    data[camelize(key$1)] = listeners[key$1];\n  }\n  return data\n}\n\nfunction placeholder (h, rawChild) {\n  if (/\\d-keep-alive$/.test(rawChild.tag)) {\n    return h('keep-alive', {\n      props: rawChild.componentOptions.propsData\n    })\n  }\n}\n\nfunction hasParentTransition (vnode) {\n  while ((vnode = vnode.parent)) {\n    if (vnode.data.transition) {\n      return true\n    }\n  }\n}\n\nfunction isSameChild (child, oldChild) {\n  return oldChild.key === child.key && oldChild.tag === child.tag\n}\n\nvar isNotTextNode = function (c) { return c.tag || isAsyncPlaceholder(c); };\n\nvar isVShowDirective = function (d) { return d.name === 'show'; };\n\nvar Transition = {\n  name: 'transition',\n  props: transitionProps,\n  abstract: true,\n\n  render: function render (h) {\n    var this$1 = this;\n\n    var children = this.$slots.default;\n    if (!children) {\n      return\n    }\n\n    // filter out text nodes (possible whitespaces)\n    children = children.filter(isNotTextNode);\n    /* istanbul ignore if */\n    if (!children.length) {\n      return\n    }\n\n    // warn multiple elements\n    if (process.env.NODE_ENV !== 'production' && children.length > 1) {\n      warn(\n        '<transition> can only be used on a single element. Use ' +\n        '<transition-group> for lists.',\n        this.$parent\n      );\n    }\n\n    var mode = this.mode;\n\n    // warn invalid mode\n    if (process.env.NODE_ENV !== 'production' &&\n      mode && mode !== 'in-out' && mode !== 'out-in'\n    ) {\n      warn(\n        'invalid <transition> mode: ' + mode,\n        this.$parent\n      );\n    }\n\n    var rawChild = children[0];\n\n    // if this is a component root node and the component's\n    // parent container node also has transition, skip.\n    if (hasParentTransition(this.$vnode)) {\n      return rawChild\n    }\n\n    // apply transition data to child\n    // use getRealChild() to ignore abstract components e.g. keep-alive\n    var child = getRealChild(rawChild);\n    /* istanbul ignore if */\n    if (!child) {\n      return rawChild\n    }\n\n    if (this._leaving) {\n      return placeholder(h, rawChild)\n    }\n\n    // ensure a key that is unique to the vnode type and to this transition\n    // component instance. This key will be used to remove pending leaving nodes\n    // during entering.\n    var id = \"__transition-\" + (this._uid) + \"-\";\n    child.key = child.key == null\n      ? child.isComment\n        ? id + 'comment'\n        : id + child.tag\n      : isPrimitive(child.key)\n        ? (String(child.key).indexOf(id) === 0 ? child.key : id + child.key)\n        : child.key;\n\n    var data = (child.data || (child.data = {})).transition = extractTransitionData(this);\n    var oldRawChild = this._vnode;\n    var oldChild = getRealChild(oldRawChild);\n\n    // mark v-show\n    // so that the transition module can hand over the control to the directive\n    if (child.data.directives && child.data.directives.some(isVShowDirective)) {\n      child.data.show = true;\n    }\n\n    if (\n      oldChild &&\n      oldChild.data &&\n      !isSameChild(child, oldChild) &&\n      !isAsyncPlaceholder(oldChild) &&\n      // #6687 component root is a comment node\n      !(oldChild.componentInstance && oldChild.componentInstance._vnode.isComment)\n    ) {\n      // replace old child transition data with fresh one\n      // important for dynamic transitions!\n      var oldData = oldChild.data.transition = extend({}, data);\n      // handle transition mode\n      if (mode === 'out-in') {\n        // return placeholder node and queue update when leave finishes\n        this._leaving = true;\n        mergeVNodeHook(oldData, 'afterLeave', function () {\n          this$1._leaving = false;\n          this$1.$forceUpdate();\n        });\n        return placeholder(h, rawChild)\n      } else if (mode === 'in-out') {\n        if (isAsyncPlaceholder(child)) {\n          return oldRawChild\n        }\n        var delayedLeave;\n        var performLeave = function () { delayedLeave(); };\n        mergeVNodeHook(data, 'afterEnter', performLeave);\n        mergeVNodeHook(data, 'enterCancelled', performLeave);\n        mergeVNodeHook(oldData, 'delayLeave', function (leave) { delayedLeave = leave; });\n      }\n    }\n\n    return rawChild\n  }\n};\n\n// reuse same transition component logic from web\n\nvar props = extend({\n  tag: String,\n  moveClass: String\n}, transitionProps);\n\ndelete props.mode;\n\nvar TransitionGroup = {\n  props: props,\n\n  created: function created () {\n    var dom = this.$requireWeexModule('dom');\n    this.getPosition = function (el) { return new Promise(function (resolve, reject) {\n      dom.getComponentRect(el.ref, function (res) {\n        if (!res.result) {\n          reject(new Error((\"failed to get rect for element: \" + (el.tag))));\n        } else {\n          resolve(res.size);\n        }\n      });\n    }); };\n\n    var animation = this.$requireWeexModule('animation');\n    this.animate = function (el, options) { return new Promise(function (resolve) {\n      animation.transition(el.ref, options, resolve);\n    }); };\n  },\n\n  render: function render (h) {\n    var tag = this.tag || this.$vnode.data.tag || 'span';\n    var map = Object.create(null);\n    var prevChildren = this.prevChildren = this.children;\n    var rawChildren = this.$slots.default || [];\n    var children = this.children = [];\n    var transitionData = extractTransitionData(this);\n\n    for (var i = 0; i < rawChildren.length; i++) {\n      var c = rawChildren[i];\n      if (c.tag) {\n        if (c.key != null && String(c.key).indexOf('__vlist') !== 0) {\n          children.push(c);\n          map[c.key] = c\n          ;(c.data || (c.data = {})).transition = transitionData;\n        } else if (process.env.NODE_ENV !== 'production') {\n          var opts = c.componentOptions;\n          var name = opts\n            ? (opts.Ctor.options.name || opts.tag)\n            : c.tag;\n          warn((\"<transition-group> children must be keyed: <\" + name + \">\"));\n        }\n      }\n    }\n\n    if (prevChildren) {\n      var kept = [];\n      var removed = [];\n      prevChildren.forEach(function (c) {\n        c.data.transition = transitionData;\n\n        // TODO: record before patch positions\n\n        if (map[c.key]) {\n          kept.push(c);\n        } else {\n          removed.push(c);\n        }\n      });\n      this.kept = h(tag, null, kept);\n      this.removed = removed;\n    }\n\n    return h(tag, null, children)\n  },\n\n  beforeUpdate: function beforeUpdate () {\n    // force removing pass\n    this.__patch__(\n      this._vnode,\n      this.kept,\n      false, // hydrating\n      true // removeOnly (!important, avoids unnecessary moves)\n    );\n    this._vnode = this.kept;\n  },\n\n  updated: function updated () {\n    var children = this.prevChildren;\n    var moveClass = this.moveClass || ((this.name || 'v') + '-move');\n    var moveData = children.length && this.getMoveData(children[0].context, moveClass);\n    if (!moveData) {\n      return\n    }\n\n    // TODO: finish implementing move animations once\n    // we have access to sync getComponentRect()\n\n    // children.forEach(callPendingCbs)\n\n    // Promise.all(children.map(c => {\n    //   const oldPos = c.data.pos\n    //   const newPos = c.data.newPos\n    //   const dx = oldPos.left - newPos.left\n    //   const dy = oldPos.top - newPos.top\n    //   if (dx || dy) {\n    //     c.data.moved = true\n    //     return this.animate(c.elm, {\n    //       styles: {\n    //         transform: `translate(${dx}px,${dy}px)`\n    //       }\n    //     })\n    //   }\n    // })).then(() => {\n    //   children.forEach(c => {\n    //     if (c.data.moved) {\n    //       this.animate(c.elm, {\n    //         styles: {\n    //           transform: ''\n    //         },\n    //         duration: moveData.duration || 0,\n    //         delay: moveData.delay || 0,\n    //         timingFunction: moveData.timingFunction || 'linear'\n    //       })\n    //     }\n    //   })\n    // })\n  },\n\n  methods: {\n    getMoveData: function getMoveData (context, moveClass) {\n      var stylesheet = context.$options.style || {};\n      return stylesheet['@TRANSITION'] && stylesheet['@TRANSITION'][moveClass]\n    }\n  }\n};\n\n// function callPendingCbs (c) {\n//   /* istanbul ignore if */\n//   if (c.elm._moveCb) {\n//     c.elm._moveCb()\n//   }\n//   /* istanbul ignore if */\n//   if (c.elm._enterCb) {\n//     c.elm._enterCb()\n//   }\n// }\n\nvar platformComponents = {\n  Richtext: Richtext,\n  Transition: Transition,\n  TransitionGroup: TransitionGroup\n};\n\n/*  */\n\nvar isReservedTag = makeMap(\n  'template,script,style,element,content,slot,link,meta,svg,view,' +\n  'a,div,img,image,text,span,input,switch,textarea,spinner,select,' +\n  'slider,slider-neighbor,indicator,canvas,' +\n  'list,cell,header,loading,loading-indicator,refresh,scrollable,scroller,' +\n  'video,web,embed,tabbar,tabheader,datepicker,timepicker,marquee,countdown,' +\n  'body,center,column,row,stack,positioned,singlechildscrollview,listview,container,expanded,fractionallysizedbox,aspectratio,raisedbutton,visibility,circularprogressindicator' +\n  true\n);\n\n// Elements that you can, intentionally, leave open (and which close themselves)\n// more flexible than web\nvar canBeLeftOpenTag = makeMap(\n  'web,spinner,switch,video,textarea,canvas,' +\n  'indicator,marquee,countdown',\n  true\n);\n\nvar isRuntimeComponent = makeMap(\n  'richtext,transition,transition-group',\n  true\n);\n\nvar isUnaryTag = makeMap(\n  'embed,img,image,input,link,meta',\n  true\n);\n\nfunction mustUseProp() {\n  return false\n}\n\nfunction isUnknownElement() {\n  return false\n}\n\nfunction query(el, document) {\n  // document is injected by weex factory wrapper\n  var placeholder = document.createComment('root');\n  placeholder.hasAttribute = placeholder.removeAttribute = noop; // hack for patch\n  document.documentElement.appendChild(placeholder);\n  return placeholder\n}\n\n/*  */\n\n// install platform specific utils\nVue.config.mustUseProp = mustUseProp;\nVue.config.isReservedTag = isReservedTag;\nVue.config.isRuntimeComponent = isRuntimeComponent;\nVue.config.isUnknownElement = isUnknownElement;\n\n// install platform runtime directives and components\nVue.options.directives = platformDirectives;\nVue.options.components = platformComponents;\n\n// install platform patch function\nVue.prototype.__patch__ = patch;\n\n// wrap mount\nVue.prototype.$mount = function (\n  el,\n  hydrating\n) {\n  return mountComponent(\n    this,\n    el && query(el, this.$document),\n    hydrating\n  )\n};\n\n// this entry is built and wrapped with a factory function\n\nexports.Vue = Vue;\n\n\n\n}\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n/*  */\n\n// this will be preserved during build\n// $flow-disable-line\nvar VueFactory = require('./factory');\n\nvar instanceOptions = {};\n\n/**\n * Create instance context.\n */\nfunction createInstanceContext (\n  instanceId,\n  runtimeContext,\n  data\n) {\n  if ( data === void 0 ) data = {};\n\n  var weex = runtimeContext.weex;\n  var instance = instanceOptions[instanceId] = {\n    instanceId: instanceId,\n    config: weex.config,\n    document: weex.document,\n    data: data\n  };\n\n  // Each instance has a independent `Vue` module instance\n  var Vue = instance.Vue = createVueModuleInstance(instanceId, weex);\n\n  // DEPRECATED\n  var timerAPIs = getInstanceTimer(instanceId, weex.requireModule);\n\n  var instanceContext = Object.assign({ Vue: Vue }, timerAPIs);\n  Object.freeze(instanceContext);\n  return instanceContext\n}\n\n/**\n * Destroy an instance with id. It will make sure all memory of\n * this instance released and no more leaks.\n */\nfunction destroyInstance (instanceId) {\n  var instance = instanceOptions[instanceId];\n  if (instance && instance.app instanceof instance.Vue) {\n    try {\n      instance.app.$destroy();\n      instance.document.destroy();\n    } catch (e) {}\n    delete instance.document;\n    delete instance.app;\n  }\n  delete instanceOptions[instanceId];\n}\n\n/**\n * Refresh an instance with id and new top-level component data.\n * It will use `Vue.set` on all keys of the new data. So it's better\n * define all possible meaningful keys when instance created.\n */\nfunction refreshInstance (\n  instanceId,\n  data\n) {\n  var instance = instanceOptions[instanceId];\n  if (!instance || !(instance.app instanceof instance.Vue)) {\n    return new Error((\"refreshInstance: instance \" + instanceId + \" not found!\"))\n  }\n  if (instance.Vue && instance.Vue.set) {\n    for (var key in data) {\n      instance.Vue.set(instance.app, key, data[key]);\n    }\n  }\n  // Finally `refreshFinish` signal needed.\n  instance.document.taskCenter.send('dom', { action: 'refreshFinish' }, []);\n}\n\n/**\n * Create a fresh instance of Vue for each Weex instance.\n */\nfunction createVueModuleInstance (\n  instanceId,\n  weex\n) {\n  var exports = {};\n  VueFactory(exports, weex.document);\n  var Vue = exports.Vue;\n\n  var instance = instanceOptions[instanceId];\n\n  // patch reserved tag detection to account for dynamically registered\n  // components\n  var weexRegex = /^weex:/i;\n  var isReservedTag = Vue.config.isReservedTag || (function () { return false; });\n  var isRuntimeComponent = Vue.config.isRuntimeComponent || (function () { return false; });\n  Vue.config.isReservedTag = function (name) {\n    return (!isRuntimeComponent(name) && weex.supports((\"@component/\" + name))) ||\n      isReservedTag(name) ||\n      weexRegex.test(name)\n  };\n  Vue.config.parsePlatformTagName = function (name) { return name.replace(weexRegex, ''); };\n\n  // expose weex-specific info\n  Vue.prototype.$instanceId = instanceId;\n  Vue.prototype.$document = instance.document;\n\n  // expose weex native module getter on subVue prototype so that\n  // vdom runtime modules can access native modules via vnode.context\n  Vue.prototype.$requireWeexModule = weex.requireModule;\n\n  // Hack `Vue` behavior to handle instance information and data\n  // before root component created.\n  Vue.mixin({\n    beforeCreate: function beforeCreate () {\n      var options = this.$options;\n      // root component (vm)\n      if (options.el) {\n        // set external data of instance\n        var dataOption = options.data;\n        var internalData = (typeof dataOption === 'function' ? dataOption() : dataOption) || {};\n        options.data = Object.assign(internalData, instance.data);\n        // record instance by id\n        instance.app = this;\n      }\n    },\n    mounted: function mounted () {\n      var options = this.$options;\n      // root component (vm)\n      if (options.el && weex.document && instance.app === this) {\n        try {\n          // Send \"createFinish\" signal to native.\n          weex.document.taskCenter.send('dom', { action: 'createFinish' }, []);\n        } catch (e) {}\n      }\n    }\n  });\n\n  /**\n   * @deprecated Just instance variable `weex.config`\n   * Get instance config.\n   * @return {object}\n   */\n  Vue.prototype.$getConfig = function () {\n    if (instance.app instanceof Vue) {\n      return instance.config\n    }\n  };\n\n  return Vue\n}\n\n/**\n * DEPRECATED\n * Generate HTML5 Timer APIs. An important point is that the callback\n * will be converted into callback id when sent to native. So the\n * framework can make sure no side effect of the callback happened after\n * an instance destroyed.\n */\nfunction getInstanceTimer (\n  instanceId,\n  moduleGetter\n) {\n  var instance = instanceOptions[instanceId];\n  var timer = moduleGetter('timer');\n  var timerAPIs = {\n    setTimeout: function () {\n      var args = [], len = arguments.length;\n      while ( len-- ) args[ len ] = arguments[ len ];\n\n      var handler = function () {\n        args[0].apply(args, args.slice(2));\n      };\n\n      timer.setTimeout(handler, args[1]);\n      return instance.document.taskCenter.callbackManager.lastCallbackId.toString()\n    },\n    setInterval: function () {\n      var args = [], len = arguments.length;\n      while ( len-- ) args[ len ] = arguments[ len ];\n\n      var handler = function () {\n        args[0].apply(args, args.slice(2));\n      };\n\n      timer.setInterval(handler, args[1]);\n      return instance.document.taskCenter.callbackManager.lastCallbackId.toString()\n    },\n    clearTimeout: function (n) {\n      timer.clearTimeout(n);\n    },\n    clearInterval: function (n) {\n      timer.clearInterval(n);\n    }\n  };\n  return timerAPIs\n}\n\nexports.createInstanceContext = createInstanceContext;\nexports.destroyInstance = destroyInstance;\nexports.refreshInstance = refreshInstance;\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/**\n * @fileOverview The api for invoking with \"$\" prefix\n */\n\n/**\n * @deprecated use $vm instead\n * find the vm by id\n * Note: there is only one id in whole component\n * @param  {string} id\n * @return {Vm}\n */\nexport function $ (id) {\n  console.warn('[JS Framework] Vm#$ is deprecated, please use Vm#$vm instead')\n  const info = this._ids[id]\n  if (info) {\n    return info.vm\n  }\n}\n\n/**\n * find the element by id\n * Note: there is only one id in whole component\n * @param  {string} id\n * @return {Element}\n */\nexport function $el (id) {\n  const info = this._ids[id]\n  if (info) {\n    return info.el\n  }\n}\n\n/**\n * find the vm of the custom component by id\n * Note: there is only one id in whole component\n * @param  {string} id\n * @return {Vm}\n */\nexport function $vm (id) {\n  const info = this._ids[id]\n  if (info) {\n    return info.vm\n  }\n}\n\n/**\n * Fire when differ rendering finished\n *\n * @param  {Function} fn\n */\nexport function $renderThen (fn) {\n  const app = this._app\n  const differ = app.differ\n  return differ.then(() => {\n    fn()\n  })\n}\n\n/**\n * scroll an element specified by id into view,\n * moreover specify a number of offset optionally\n * @param  {string} id\n * @param  {number} offset\n */\nexport function $scrollTo (id, offset) {\n  console.warn('[JS Framework] Vm#$scrollTo is deprecated, ' +\n          'please use \"require(\\'@weex-module/dom\\')' +\n          '.scrollTo(el, options)\" instead')\n  const el = this.$el(id)\n  if (el) {\n    const dom = this._app.requireModule('dom')\n    dom.scrollToElement(el.ref, { offset: offset })\n  }\n}\n\n/**\n * perform transition animation on an element specified by id\n * @param  {string}   id\n * @param  {object}   options\n * @param  {object}   options.styles\n * @param  {object}   options.duration(ms)\n * @param  {object}   [options.timingFunction]\n * @param  {object}   [options.delay=0(ms)]\n * @param  {Function} callback\n */\nexport function $transition (id, options, callback) {\n  const el = this.$el(id)\n  if (el && options && options.styles) {\n    const animation = this._app.requireModule('animation')\n    animation.transition(el.ref, options, (...args) => {\n      this._setStyle(el, options.styles)\n      callback && callback(...args)\n    })\n  }\n}\n\n/**\n * get some config\n * @return {object} some config for app instance\n * @property {string} bundleUrl\n * @property {boolean} debug\n * @property {object} env\n * @property {string} env.weexVersion(ex. 1.0.0)\n * @property {string} env.appName(ex. TB/TM)\n * @property {string} env.appVersion(ex. 5.0.0)\n * @property {string} env.platform(ex. iOS/Android)\n * @property {string} env.osVersion(ex. 7.0.0)\n * @property {string} env.deviceModel **native only**\n * @property {number} env.[deviceWidth=750]\n * @property {number} env.deviceHeight\n */\nexport function $getConfig (callback) {\n  const config = this._app.options\n  if (typeof callback === 'function') {\n    console.warn('[JS Framework] the callback of Vm#$getConfig(callback) is deprecated, ' +\n      'this api now can directly RETURN config info.')\n    callback(config)\n  }\n  return config\n}\n\n/**\n * @deprecated\n * request network via http protocol\n * @param  {object}   params\n * @param  {Function} callback\n */\nexport function $sendHttp (params, callback) {\n  console.warn('[JS Framework] Vm#$sendHttp is deprecated, ' +\n          'please use \"require(\\'@weex-module/stream\\')' +\n          '.sendHttp(params, callback)\" instead')\n  const stream = this._app.requireModule('stream')\n  stream.sendHttp(params, callback)\n}\n\n/**\n * @deprecated\n * open a url\n * @param  {string} url\n */\nexport function $openURL (url) {\n  console.warn('[JS Framework] Vm#$openURL is deprecated, ' +\n          'please use \"require(\\'@weex-module/event\\')' +\n          '.openURL(url)\" instead')\n  const event = this._app.requireModule('event')\n  event.openURL(url)\n}\n\n/**\n * @deprecated\n * set a title for page\n * @param  {string} title\n */\nexport function $setTitle (title) {\n  console.warn('[JS Framework] Vm#$setTitle is deprecated, ' +\n          'please use \"require(\\'@weex-module/pageInfo\\')' +\n          '.setTitle(title)\" instead')\n  const pageInfo = this._app.requireModule('pageInfo')\n  pageInfo.setTitle(title)\n}\n\n/**\n * @deprecated use \"require('@weex-module/moduleName') instead\"\n * invoke a native method by specifing the name of module and method\n * @param  {string} moduleName\n * @param  {string} methodName\n * @param  {...*} the rest arguments\n */\nexport function $call (moduleName, methodName, ...args) {\n  console.warn('[JS Framework] Vm#$call is deprecated, ' +\n    'please use \"require(\\'@weex-module/moduleName\\')\" instead')\n  const module = this._app.requireModule(moduleName)\n  if (module && module[methodName]) {\n    module[methodName](...args)\n  }\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/**\n * Mix properties into target object.\n *\n * @param {Object} to\n * @param {Object} from\n */\n\nfunction extend (target, ...src) {\n  /* istanbul ignore else */\n  if (typeof Object.assign === 'function') {\n    Object.assign(target, ...src)\n  }\n  else {\n    const first = src.shift()\n    for (const key in first) {\n      target[key] = first[key]\n    }\n    if (src.length) {\n      extend(target, ...src)\n    }\n  }\n  return target\n}\n\n/**\n * Define a property.\n *\n * @param {Object} obj\n * @param {String} key\n * @param {*} val\n * @param {Boolean} [enumerable]\n */\n\nfunction def (obj, key, val, enumerable) {\n  Object.defineProperty(obj, key, {\n    value: val,\n    enumerable: !!enumerable,\n    writable: true,\n    configurable: true\n  })\n}\n\n/**\n * Remove an item from an array\n *\n * @param {Array} arr\n * @param {*} item\n */\n\nfunction remove (arr, item) {\n  if (arr.length) {\n    const index = arr.indexOf(item)\n    if (index > -1) {\n      return arr.splice(index, 1)\n    }\n  }\n}\n\n/**\n * Check whether the object has the property.\n *\n * @param {Object} obj\n * @param {String} key\n * @return {Boolean}\n */\nconst hasOwnProperty = Object.prototype.hasOwnProperty\nfunction hasOwn (obj, key) {\n  return hasOwnProperty.call(obj, key)\n}\n\n/**\n * Simple bind, faster than native\n *\n * @param {Function} fn\n * @param {Object} ctx\n * @return {Function}\n */\n\nfunction bind (fn, ctx) {\n  return function (a) {\n    const l = arguments.length\n    return l\n      ? l > 1\n        ? fn.apply(ctx, arguments)\n        : fn.call(ctx, a)\n      : fn.call(ctx)\n  }\n}\n\n/**\n * Convert an Array-like object to a real Array.\n *\n * @param {Array-like} list\n * @param {Number} [start] - start index\n * @return {Array}\n */\n\nfunction toArray (list, start) {\n  start = start || 0\n  let i = list.length - start\n  const ret = new Array(i)\n  while (i--) {\n    ret[i] = list[i + start]\n  }\n  return ret\n}\n\n/**\n * Quick object check - this is primarily used to tell\n * Objects from primitive values when we know the value\n * is a JSON-compliant type.\n *\n * @param {*} obj\n * @return {Boolean}\n */\n\nfunction isObject (obj) {\n  return obj !== null && typeof obj === 'object'\n}\n\n/**\n * Strict object type check. Only returns true\n * for plain JavaScript objects.\n *\n * @param {*} obj\n * @return {Boolean}\n */\n\nconst toString = Object.prototype.toString\nconst OBJECT_STRING = '[object Object]'\nfunction isPlainObject (obj) {\n  return toString.call(obj) === OBJECT_STRING\n}\n\nexport {\n  extend,\n  def,\n  remove,\n  hasOwn,\n  bind,\n  toArray,\n  isObject,\n  isPlainObject\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nexport {\n  extend,\n  def,\n  remove,\n  hasOwn,\n  bind,\n  toArray,\n  isObject,\n  isPlainObject\n} from './shared'\n\n/**\n * Check if a string starts with $ or _\n *\n * @param {String} str\n * @return {Boolean}\n */\n\nexport function isReserved (str) {\n  const c = (str + '').charCodeAt(0)\n  return c === 0x24 || c === 0x5F\n}\n\n// can we use __proto__?\nexport const hasProto = '__proto__' in {}\n\nlet _Set\n/* istanbul ignore next */\nif (typeof Set !== 'undefined' && Set.toString().match(/native code/)) {\n  // use native Set when available.\n  _Set = Set\n}\nelse {\n  // a non-standard Set polyfill that only works with primitive keys.\n  _Set = function () {\n    this.set = Object.create(null)\n  }\n  _Set.prototype.has = function (key) {\n    return this.set[key] !== undefined\n  }\n  _Set.prototype.add = function (key) {\n    if (key == null || this.set[key]) {\n      return\n    }\n    this.set[key] = 1\n  }\n  _Set.prototype.clear = function () {\n    this.set = Object.create(null)\n  }\n}\n\nexport { _Set }\n\n/**\n * Polyfill in iOS7 by native because the JavaScript polyfill has memory problem.\n * @return {object}\n */\n\nexport function createNewSet () {\n  /* istanbul ignore next */\n  /* eslint-disable */\n  if (typeof nativeSet === 'object') {\n    return nativeSet.create()\n  }\n  /* eslint-enable */\n  return new _Set()\n}\n\n/**\n * Create a cached version of a pure function.\n *\n * @param {Function} fn\n * @return {Function}\n */\n\nexport function cached (fn) {\n  const cache = Object.create(null)\n  return function cachedFn (str) {\n    const hit = cache[str]\n    return hit || (cache[str] = fn(str))\n  }\n}\n\n/**\n * Camelize a hyphen-delmited string.\n *\n * @param {String} str\n * @return {String}\n */\n\nconst camelizeRE = /-(\\w)/g\nexport const camelize = cached(str => {\n  return str.replace(camelizeRE, toUpper)\n})\n\nfunction toUpper (_, c) {\n  return c ? c.toUpperCase() : ''\n}\n\n/**\n * Hyphenate a camelCase string.\n *\n * @param {String} str\n * @return {String}\n */\n\nconst hyphenateRE = /([a-z\\d])([A-Z])/g\nexport const hyphenate = cached(str => {\n  return str\n    .replace(hyphenateRE, '$1-$2')\n    .toLowerCase()\n})\n\nexport function typof (v) {\n  const s = Object.prototype.toString.call(v)\n  return s.substring(8, s.length - 1).toLowerCase()\n}\n\n// weex name rules\n\nconst WEEX_COMPONENT_REG = /^@weex-component\\//\nconst WEEX_MODULE_REG = /^@weex-module\\//\nconst NORMAL_MODULE_REG = /^\\.{1,2}\\//\nconst JS_SURFIX_REG = /\\.js$/\n\nexport const isWeexComponent = name => !!name.match(WEEX_COMPONENT_REG)\nexport const isWeexModule = name => !!name.match(WEEX_MODULE_REG)\nexport const isNormalModule = name => !!name.match(NORMAL_MODULE_REG)\nexport const isNpmModule = name => !isWeexComponent(name) && !isWeexModule(name) && !isNormalModule(name)\n\nexport function removeWeexPrefix (str) {\n  const result = str.replace(WEEX_COMPONENT_REG, '').replace(WEEX_MODULE_REG, '')\n  return result\n}\n\nexport function removeJSSurfix (str) {\n  return str.replace(JS_SURFIX_REG, '')\n}\n","/* eslint-disable */\n\n\nimport { remove } from '../util/index'\n\nlet uid = 0\n\n/**\n * A dep is an observable that can have multiple\n * directives subscribing to it.\n *\n * @constructor\n */\n\nexport default function Dep () {\n  this.id = uid++\n  this.subs = []\n}\n\n// the current target watcher being evaluated.\n// this is globally unique because there could be only one\n// watcher being evaluated at any time.\nDep.target = null\nlet targetStack = []\n\nexport function pushTarget (_target) {\n  if (Dep.target) targetStack.push(Dep.target)\n  Dep.target = _target\n}\n\nexport function popTarget () {\n  Dep.target = targetStack.pop()\n}\n\nexport function resetTarget () {\n  Dep.target = null\n  targetStack = []\n}\n\n/**\n * Add a directive subscriber.\n *\n * @param {Directive} sub\n */\n\nDep.prototype.addSub = function (sub) {\n  this.subs.push(sub)\n}\n\n/**\n * Remove a directive subscriber.\n *\n * @param {Directive} sub\n */\n\nDep.prototype.removeSub = function (sub) {\n  remove(this.subs, sub)\n}\n\n/**\n * Add self as a dependency to the target watcher.\n */\n\nDep.prototype.depend = function () {\n  if (Dep.target) {\n    Dep.target.addDep(this)\n  }\n}\n\n/**\n * Notify all subscribers of a new value.\n */\n\nDep.prototype.notify = function () {\n  // stablize the subscriber list first\n  const subs = this.subs.slice()\n  for (let i = 0, l = subs.length; i < l; i++) {\n    subs[i].update()\n  }\n}\n","/* eslint-disable */\n\n\nimport Dep, { pushTarget, popTarget } from './dep'\n// import { pushWatcher } from './batcher'\nimport {\n  remove,\n  extend,\n  isObject,\n  createNewSet\n  // _Set as Set\n} from '../util/index'\n\nlet uid = 0\n\n/**\n * A watcher parses an expression, collects dependencies,\n * and fires callback when the expression value changes.\n * This is used for both the $watch() api and directives.\n *\n * @param {Vue} vm\n * @param {String|Function} expOrFn\n * @param {Function} cb\n * @param {Object} options\n *                 - {Array} filters\n *                 - {Boolean} twoWay\n *                 - {Boolean} deep\n *                 - {Boolean} user\n *                 - {Boolean} sync\n *                 - {Boolean} lazy\n *                 - {Function} [preProcess]\n *                 - {Function} [postProcess]\n * @constructor\n */\n\nexport default function Watcher (vm, expOrFn, cb, options) {\n  // mix in options\n  if (options) {\n    extend(this, options)\n  }\n  const isFn = typeof expOrFn === 'function'\n  this.vm = vm\n  vm._watchers.push(this)\n  this.expression = expOrFn\n  this.cb = cb\n  this.id = ++uid // uid for batching\n  this.active = true\n  this.dirty = this.lazy // for lazy watchers\n  this.deps = []\n  this.newDeps = []\n  this.depIds = createNewSet() // new Set()\n  this.newDepIds = createNewSet() // new Set()\n  // parse expression for getter\n  if (isFn) {\n    this.getter = expOrFn\n  }\n  this.value = this.lazy\n    ? undefined\n    : this.get()\n  // state for avoiding false triggers for deep and Array\n  // watchers during vm._digest()\n  this.queued = this.shallow = false\n}\n\n/**\n * Evaluate the getter, and re-collect dependencies.\n */\n\nWatcher.prototype.get = function () {\n  pushTarget(this)\n  const value = this.getter.call(this.vm, this.vm)\n  // \"touch\" every property so they are all tracked as\n  // dependencies for deep watching\n  if (this.deep) {\n    traverse(value)\n  }\n  popTarget()\n  this.cleanupDeps()\n  return value\n}\n\n/**\n * Add a dependency to this directive.\n *\n * @param {Dep} dep\n */\n\nWatcher.prototype.addDep = function (dep) {\n  const id = dep.id\n  if (!this.newDepIds.has(id)) {\n    this.newDepIds.add(id)\n    this.newDeps.push(dep)\n    if (!this.depIds.has(id)) {\n      dep.addSub(this)\n    }\n  }\n}\n\n/**\n * Clean up for dependency collection.\n */\n\nWatcher.prototype.cleanupDeps = function () {\n  let i = this.deps.length\n  while (i--) {\n    const dep = this.deps[i]\n    if (!this.newDepIds.has(dep.id)) {\n      dep.removeSub(this)\n    }\n  }\n  let tmp = this.depIds\n  this.depIds = this.newDepIds\n  this.newDepIds = tmp\n  this.newDepIds.clear()\n  tmp = this.deps\n  this.deps = this.newDeps\n  this.newDeps = tmp\n  this.newDeps.length = 0\n}\n\n/**\n * Subscriber interface.\n * Will be called when a dependency changes.\n *\n * @param {Boolean} shallow\n */\n\nWatcher.prototype.update = function (shallow) {\n  if (this.lazy) {\n    this.dirty = true\n  } else {\n    this.run()\n  }\n  // } else if (this.sync) {\n  //   this.run()\n  // } else {\n  //   // if queued, only overwrite shallow with non-shallow,\n  //   // but not the other way around.\n  //   this.shallow = this.queued\n  //     ? shallow\n  //       ? this.shallow\n  //       : false\n  //     : !!shallow\n  //   this.queued = true\n  //   pushWatcher(this)\n  // }\n}\n\n/**\n * Batcher job interface.\n * Will be called by the batcher.\n */\n\nWatcher.prototype.run = function () {\n  if (this.active) {\n    const value = this.get()\n    if (\n      value !== this.value ||\n      // Deep watchers and watchers on Object/Arrays should fire even\n      // when the value is the same, because the value may\n      // have mutated; but only do so if this is a\n      // non-shallow update (caused by a vm digest).\n      ((isObject(value) || this.deep) && !this.shallow)\n    ) {\n      // set new value\n      const oldValue = this.value\n      this.value = value\n      this.cb.call(this.vm, value, oldValue)\n    }\n    this.queued = this.shallow = false\n  }\n}\n\n/**\n * Evaluate the value of the watcher.\n * This only gets called for lazy watchers.\n */\n\nWatcher.prototype.evaluate = function () {\n  this.value = this.get()\n  this.dirty = false\n}\n\n/**\n * Depend on all deps collected by this watcher.\n */\n\nWatcher.prototype.depend = function () {\n  let i = this.deps.length\n  while (i--) {\n    this.deps[i].depend()\n  }\n}\n\n/**\n * Remove self from all dependencies' subcriber list.\n */\n\nWatcher.prototype.teardown = function () {\n  if (this.active) {\n    // remove self from vm's watcher list\n    // this is a somewhat expensive operation so we skip it\n    // if the vm is being destroyed or is performing a v-for\n    // re-render (the watcher list is then filtered by v-for).\n    if (!this.vm._isBeingDestroyed && !this.vm._vForRemoving) {\n      remove(this.vm._watchers, this)\n    }\n    let i = this.deps.length\n    while (i--) {\n      this.deps[i].removeSub(this)\n    }\n    this.active = false\n    this.vm = this.cb = this.value = null\n  }\n}\n\n/**\n * Recrusively traverse an object to evoke all converted\n * getters, so that every nested property inside the object\n * is collected as a \"deep\" dependency.\n *\n * @param {*} val\n * @param {Set} seen\n */\n\nconst seenObjects = createNewSet() // new Set()\n/* istanbul ignore next */\nfunction traverse (val, seen) {\n  let i, keys, isA, isO\n  if (!seen) {\n    seen = seenObjects\n    seen.clear()\n  }\n  isA = Array.isArray(val)\n  isO = isObject(val)\n  if (isA || isO) {\n    if (val.__ob__) {\n      const depId = val.__ob__.dep.id\n      if (seen.has(depId)) {\n        return\n      } else {\n        seen.add(depId)\n      }\n    }\n    if (isA) {\n      i = val.length\n      while (i--) traverse(val[i], seen)\n    } else if (isO) {\n      keys = Object.keys(val)\n      i = keys.length\n      while (i--) traverse(val[keys[i]], seen)\n    }\n  }\n}\n","/* eslint-disable */\n\n\nimport { def } from '../util/index'\n\nconst arrayProto = Array.prototype\nexport const arrayMethods = Object.create(arrayProto)\n\n/**\n * Intercept mutating methods and emit events\n */\n\n;[\n  'push',\n  'pop',\n  'shift',\n  'unshift',\n  'splice',\n  'sort',\n  'reverse'\n]\n.forEach(function (method) {\n  // cache original method\n  const original = arrayProto[method]\n  def(arrayMethods, method, function mutator () {\n    // avoid leaking arguments:\n    // http://jsperf.com/closure-with-arguments\n    let i = arguments.length\n    const args = new Array(i)\n    while (i--) {\n      args[i] = arguments[i]\n    }\n    const result = original.apply(this, args)\n    const ob = this.__ob__\n    let inserted\n    switch (method) {\n      case 'push':\n        inserted = args\n        break\n      case 'unshift':\n        inserted = args\n        break\n      case 'splice':\n        inserted = args.slice(2)\n        break\n    }\n    if (inserted) ob.observeArray(inserted)\n    // notify change\n    ob.dep.notify()\n    return result\n  })\n})\n\n/**\n * Swap the element at the given index with a new value\n * and emits corresponding event.\n *\n * @param {Number} index\n * @param {*} val\n * @return {*} - replaced element\n */\n\ndef(\n  arrayProto,\n  '$set',\n  function $set (index, val) {\n    console.warn(`[JS Framework] \"Array.prototype.$set\" is not a standard API,`\n      + ` it will be removed in the next version.`)\n    if (index >= this.length) {\n      this.length = index + 1\n    }\n    return this.splice(index, 1, val)[0]\n  }\n)\n\n/**\n * Convenience method to remove the element at given index.\n *\n * @param {Number} index\n * @param {*} val\n */\n\ndef(\n  arrayProto,\n  '$remove',\n  function $remove (index) {\n    console.warn(`[JS Framework] \"Array.prototype.$remove\" is not a standard API,`\n      + ` it will be removed in the next version.`)\n    /* istanbul ignore if */\n    if (!this.length) return\n    /* istanbul ignore else */\n    if (typeof index !== 'number') {\n      index = this.indexOf(index)\n    }\n    /* istanbul ignore else */\n    if (index > -1) {\n      this.splice(index, 1)\n    }\n  }\n)\n","/* eslint-disable */\n\n\nimport Dep from './dep'\nimport { arrayMethods } from './array'\nimport {\n  def,\n  remove,\n  isObject,\n  isPlainObject,\n  hasProto,\n  hasOwn,\n  isReserved\n} from '../util/index'\n\nconst arrayKeys = Object.getOwnPropertyNames(arrayMethods)\n\n/**\n * Observer class that are attached to each observed\n * object. Once attached, the observer converts target\n * object's property keys into getter/setters that\n * collect dependencies and dispatches updates.\n *\n * @param {Array|Object} value\n * @constructor\n */\n\nexport function Observer (value) {\n  this.value = value\n  this.dep = new Dep()\n  def(value, '__ob__', this)\n  if (Array.isArray(value)) {\n    const augment = hasProto\n      ? protoAugment\n      : copyAugment\n    augment(value, arrayMethods, arrayKeys)\n    this.observeArray(value)\n  } else {\n    this.walk(value)\n  }\n}\n\n// Instance methods\n\n/**\n * Walk through each property and convert them into\n * getter/setters. This method should only be called when\n * value type is Object.\n *\n * @param {Object} obj\n */\n\nObserver.prototype.walk = function (obj) {\n  for (let key in obj) {\n    this.convert(key, obj[key])\n  }\n}\n\n/**\n * Observe a list of Array items.\n *\n * @param {Array} items\n */\n\nObserver.prototype.observeArray = function (items) {\n  for (let i = 0, l = items.length; i < l; i++) {\n    observe(items[i])\n  }\n}\n\n/**\n * Convert a property into getter/setter so we can emit\n * the events when the property is accessed/changed.\n *\n * @param {String} key\n * @param {*} val\n */\n\nObserver.prototype.convert = function (key, val) {\n  defineReactive(this.value, key, val)\n}\n\n/**\n * Add an owner vm, so that when $set/$delete mutations\n * happen we can notify owner vms to proxy the keys and\n * digest the watchers. This is only called when the object\n * is observed as an instance's root $data.\n *\n * @param {Vue} vm\n */\n\nObserver.prototype.addVm = function (vm) {\n  (this.vms || (this.vms = [])).push(vm)\n}\n\n/**\n * Remove an owner vm. This is called when the object is\n * swapped out as an instance's $data object.\n *\n * @param {Vue} vm\n */\n\n/* istanbul ignore next */\nObserver.prototype.removeVm = function (vm) {\n  remove(this.vms, vm)\n}\n\n// helpers\n\n/**\n * Augment an target Object or Array by intercepting\n * the prototype chain using __proto__\n *\n * @param {Object|Array} target\n * @param {Object} src\n */\n\nfunction protoAugment (target, src) {\n  /* eslint-disable no-proto */\n  target.__proto__ = src\n  /* eslint-enable no-proto */\n}\n\n/**\n * Augment an target Object or Array by defining\n * hidden properties.\n *\n * @param {Object|Array} target\n * @param {Object} proto\n */\n\n/* istanbul ignore next */\nfunction copyAugment (target, src, keys) {\n  for (let i = 0, l = keys.length; i < l; i++) {\n    const key = keys[i]\n    def(target, key, src[key])\n  }\n}\n\n/**\n * Attempt to create an observer instance for a value,\n * returns the new observer if successfully observed,\n * or the existing observer if the value already has one.\n *\n * @param {*} value\n * @param {Vue} [vm]\n * @return {Observer|undefined}\n * @static\n */\n\nexport function observe (value, vm) {\n  if (!isObject(value)) {\n    return\n  }\n  let ob\n  if (hasOwn(value, '__ob__') && value.__ob__ instanceof Observer) {\n    ob = value.__ob__\n  } else if (\n    (Array.isArray(value) || isPlainObject(value)) &&\n    Object.isExtensible(value) &&\n    !value._isVue\n  ) {\n    ob = new Observer(value)\n  }\n  if (ob && vm) {\n    ob.addVm(vm)\n  }\n  return ob\n}\n\n/**\n * Define a reactive property on an Object.\n *\n * @param {Object} obj\n * @param {String} key\n * @param {*} val\n */\n\nexport function defineReactive (obj, key, val) {\n  const dep = new Dep()\n\n  const property = Object.getOwnPropertyDescriptor(obj, key)\n  if (property && property.configurable === false) {\n    return\n  }\n\n  // cater for pre-defined getter/setters\n  const getter = property && property.get\n  const setter = property && property.set\n\n  let childOb = observe(val)\n  Object.defineProperty(obj, key, {\n    enumerable: true,\n    configurable: true,\n    get: function reactiveGetter () {\n      const value = getter ? getter.call(obj) : val\n      if (Dep.target) {\n        dep.depend()\n        if (childOb) {\n          childOb.dep.depend()\n        }\n        if (Array.isArray(value)) {\n          for (let e, i = 0, l = value.length; i < l; i++) {\n            e = value[i]\n            e && e.__ob__ && e.__ob__.dep.depend()\n          }\n        }\n      }\n      return value\n    },\n    set: function reactiveSetter (newVal) {\n      const value = getter ? getter.call(obj) : val\n      if (newVal === value) {\n        return\n      }\n      if (setter) {\n        setter.call(obj, newVal)\n      } else {\n        val = newVal\n      }\n      childOb = observe(newVal)\n      dep.notify()\n    }\n  })\n}\n\n/**\n * Set a property on an object. Adds the new property and\n * triggers change notification if the property doesn't\n * already exist.\n *\n * @param {Object} obj\n * @param {String} key\n * @param {*} val\n * @public\n */\n\n/* istanbul ignore next */\nexport function set (obj, key, val) {\n  if (Array.isArray(obj)) {\n    return obj.splice(key, 1, val)\n  }\n  if (hasOwn(obj, key)) {\n    obj[key] = val\n    return\n  }\n  if (obj._isVue) {\n    set(obj._data, key, val)\n    return\n  }\n  const ob = obj.__ob__\n  if (!ob) {\n    obj[key] = val\n    return\n  }\n  ob.convert(key, val)\n  ob.dep.notify()\n  if (ob.vms) {\n    let i = ob.vms.length\n    while (i--) {\n      const vm = ob.vms[i]\n      proxy(vm, key)\n      // vm.$forceUpdate()\n    }\n  }\n  return val\n}\n\n/**\n * Delete a property and trigger change if necessary.\n *\n * @param {Object} obj\n * @param {String} key\n */\n\n/* istanbul ignore next */\nexport function del (obj, key) {\n  if (!hasOwn(obj, key)) {\n    return\n  }\n  delete obj[key]\n  const ob = obj.__ob__\n\n  if (!ob) {\n    if (obj._isVue) {\n      delete obj._data[key]\n      // obj.$forceUpdate()\n    }\n    return\n  }\n  ob.dep.notify()\n  if (ob.vms) {\n    let i = ob.vms.length\n    while (i--) {\n      const vm = ob.vms[i]\n      unproxy(vm, key)\n      // vm.$forceUpdate()\n    }\n  }\n}\n\nconst KEY_WORDS = ['$index', '$value', '$event']\nexport function proxy (vm, key) {\n  if (KEY_WORDS.indexOf(key) > -1 || !isReserved(key)) {\n    Object.defineProperty(vm, key, {\n      configurable: true,\n      enumerable: true,\n      get: function proxyGetter () {\n        return vm._data[key]\n      },\n      set: function proxySetter (val) {\n        vm._data[key] = val\n      }\n    })\n  }\n}\n\n/* istanbul ignore next */\nexport function unproxy (vm, key) {\n  if (!isReserved(key)) {\n    delete vm[key]\n  }\n}\n","/* eslint-disable */\n\n\nimport Watcher from './watcher'\nimport Dep from './dep'\nimport {\n  observe,\n  proxy,\n  unproxy\n} from './observer'\nimport {\n  isPlainObject,\n  bind\n} from '../util/index'\n\nexport function initState (vm) {\n  vm._watchers = []\n  initData(vm)\n  initComputed(vm)\n  initMethods(vm)\n}\n\nexport function initData (vm) {\n  let data = vm._data\n\n  if (!isPlainObject(data)) {\n    data = {}\n  }\n  // proxy data on instance\n  const keys = Object.keys(data)\n  let i = keys.length\n  while (i--) {\n    proxy(vm, keys[i])\n  }\n  // observe data\n  observe(data, vm)\n}\n\n/* istanbul ignore next */\nfunction noop () {\n}\n\nexport function initComputed (vm) {\n  const computed = vm._computed\n  if (computed) {\n    for (let key in computed) {\n      const userDef = computed[key]\n      const def = {\n        enumerable: true,\n        configurable: true\n      }\n      if (typeof userDef === 'function') {\n        def.get = makeComputedGetter(userDef, vm)\n        def.set = noop\n      } else {\n        def.get = userDef.get\n          ? userDef.cache !== false\n            ? makeComputedGetter(userDef.get, vm)\n            : bind(userDef.get, vm)\n          : noop\n        def.set = userDef.set\n          ? bind(userDef.set, vm)\n          : noop\n      }\n      Object.defineProperty(vm, key, def)\n    }\n  }\n}\n\nfunction makeComputedGetter (getter, owner) {\n  const watcher = new Watcher(owner, getter, null, {\n    lazy: true\n  })\n  return function computedGetter () {\n    if (watcher.dirty) {\n      watcher.evaluate()\n    }\n    if (Dep.target) {\n      watcher.depend()\n    }\n    return watcher.value\n  }\n}\n\nexport function initMethods (vm) {\n  const methods = vm._methods\n  if (methods) {\n    for (let key in methods) {\n      vm[key] = methods[key]\n    }\n  }\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n// @todo: It should be registered by native from `registerComponents()`.\n\nexport default {\n  nativeComponentMap: {\n    text: true,\n    image: true,\n    container: true,\n    slider: {\n      type: 'slider',\n      append: 'tree'\n    },\n    cell: {\n      type: 'cell',\n      append: 'tree'\n    }\n  }\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/**\n * @fileOverview\n * Directive Parser\n */\n\nimport { bind, typof } from '../util/index'\nimport Watcher from '../core/watcher'\nimport config from '../config'\n\nconst { nativeComponentMap } = config\n\nconst SETTERS = {\n  attr: 'setAttr',\n  style: 'setStyle',\n  event: 'addEvent'\n}\n\n/**\n * apply the native component's options(specified by template.type)\n * to the template\n */\nexport function applyNaitveComponentOptions (template) {\n  const { type } = template\n  const options = nativeComponentMap[type]\n\n  if (typeof options === 'object') {\n    for (const key in options) {\n      if (template[key] == null) {\n        template[key] = options[key]\n      }\n      else if (typof(template[key]) === 'object' &&\n        typof(options[key]) === 'object') {\n        for (const subkey in options[key]) {\n          if (template[key][subkey] == null) {\n            template[key][subkey] = options[key][subkey]\n          }\n        }\n      }\n    }\n  }\n}\n\n/**\n * bind all id, attr, classnames, style, events to an element\n */\nexport function bindElement (vm, el, template) {\n  setId(vm, el, template.id, vm)\n  setAttr(vm, el, template.attr)\n  setClass(vm, el, template.classList)\n  setStyle(vm, el, template.style)\n  bindEvents(vm, el, template.events)\n}\n\n/**\n * bind all props to sub vm and bind all style, events to the root element\n * of the sub vm if it doesn't have a replaced multi-node fragment\n */\nexport function bindSubVm (vm, subVm, template, repeatItem) {\n  subVm = subVm || {}\n  template = template || {}\n\n  const options = subVm._options || {}\n\n  // bind props\n  let props = options.props\n\n  if (Array.isArray(props)) {\n    props = props.reduce((result, value) => {\n      result[value] = true\n      return result\n    }, {})\n  }\n\n  mergeProps(repeatItem, props, vm, subVm)\n  mergeProps(template.attr, props, vm, subVm)\n}\n\n/**\n * merge class and styles from vm to sub vm.\n */\nexport function bindSubVmAfterInitialized (vm, subVm, template, target = {}) {\n  mergeClassStyle(template.classList, vm, subVm)\n  mergeStyle(template.style, vm, subVm)\n\n  // bind subVm to the target element\n  if (target.children) {\n    target.children[target.children.length - 1]._vm = subVm\n  }\n  else {\n    target._vm = subVm\n  }\n}\n\n/**\n * Bind props from vm to sub vm and watch their updates.\n */\nfunction mergeProps (target, props, vm, subVm) {\n  if (!target) {\n    return\n  }\n  for (const key in target) {\n    if (!props || props[key]) {\n      const value = target[key]\n      if (typeof value === 'function') {\n        const returnValue = watch(vm, value, function (v) {\n          subVm[key] = v\n        })\n        subVm[key] = returnValue\n      }\n      else {\n        subVm[key] = value\n      }\n    }\n  }\n}\n\n/**\n * Bind style from vm to sub vm and watch their updates.\n */\nfunction mergeStyle (target, vm, subVm) {\n  for (const key in target) {\n    const value = target[key]\n    if (typeof value === 'function') {\n      const returnValue = watch(vm, value, function (v) {\n        if (subVm._rootEl) {\n          subVm._rootEl.setStyle(key, v)\n        }\n      })\n      subVm._rootEl.setStyle(key, returnValue)\n    }\n    else {\n      if (subVm._rootEl) {\n        subVm._rootEl.setStyle(key, value)\n      }\n    }\n  }\n}\n\n/**\n * Bind class & style from vm to sub vm and watch their updates.\n */\nfunction mergeClassStyle (target, vm, subVm) {\n  const css = vm._options && vm._options.style || {}\n\n  /* istanbul ignore if */\n  if (!subVm._rootEl) {\n    return\n  }\n\n  const className = '@originalRootEl'\n  css[className] = subVm._rootEl.classStyle\n\n  function addClassName (list, name) {\n    if (typof(list) === 'array') {\n      list.unshift(name)\n    }\n  }\n\n  if (typeof target === 'function') {\n    const value = watch(vm, target, v => {\n      addClassName(v, className)\n      setClassStyle(subVm._rootEl, css, v)\n    })\n    addClassName(value, className)\n    setClassStyle(subVm._rootEl, css, value)\n  }\n  else if (target != null) {\n    addClassName(target, className)\n    setClassStyle(subVm._rootEl, css, target)\n  }\n}\n\n/**\n * bind id to an element\n * each id is unique in a whole vm\n */\nexport function setId (vm, el, id, target) {\n  const map = Object.create(null)\n\n  Object.defineProperties(map, {\n    vm: {\n      value: target,\n      writable: false,\n      configurable: false\n    },\n    el: {\n      get: () => el || target._rootEl,\n      configurable: false\n    }\n  })\n\n  if (typeof id === 'function') {\n    const handler = id\n    id = handler.call(vm)\n    if (id || id === 0) {\n      vm._ids[id] = map\n    }\n    watch(vm, handler, (newId) => {\n      if (newId) {\n        vm._ids[newId] = map\n      }\n    })\n  }\n  else if (id && typeof id === 'string') {\n    vm._ids[id] = map\n  }\n}\n\n/**\n * bind attr to an element\n */\nfunction setAttr (vm, el, attr) {\n  bindDir(vm, el, 'attr', attr)\n}\n\nfunction setClassStyle (el, css, classList) {\n  if (typeof classList === 'string') {\n    classList = classList.split(/\\s+/)\n  }\n  classList.forEach((name, i) => {\n    classList.splice(i, 1, ...name.split(/\\s+/))\n  })\n  const classStyle = {}\n  const length = classList.length\n\n  for (let i = 0; i < length; i++) {\n    const style = css[classList[i]]\n    if (style) {\n      Object.keys(style).forEach((key) => {\n        classStyle[key] = style[key]\n      })\n    }\n  }\n  el.setClassStyle(classStyle)\n}\n\n/**\n * bind classnames to an element\n */\nfunction setClass (vm, el, classList) {\n  if (typeof classList !== 'function' && !Array.isArray(classList)) {\n    return\n  }\n  if (Array.isArray(classList) && !classList.length) {\n    el.setClassStyle({})\n    return\n  }\n\n  const style = vm._options && vm._options.style || {}\n  if (typeof classList === 'function') {\n    const value = watch(vm, classList, v => {\n      setClassStyle(el, style, v)\n    })\n    setClassStyle(el, style, value)\n  }\n  else {\n    setClassStyle(el, style, classList)\n  }\n}\n\n/**\n * bind style to an element\n */\nfunction setStyle (vm, el, style) {\n  bindDir(vm, el, 'style', style)\n}\n\n/**\n * add an event type and handler to an element and generate a dom update\n */\nfunction setEvent (vm, el, type, handler) {\n  el.addEvent(type, bind(handler, vm))\n}\n\n/**\n * add all events of an element\n */\nfunction bindEvents (vm, el, events) {\n  if (!events) {\n    return\n  }\n  const keys = Object.keys(events)\n  let i = keys.length\n  while (i--) {\n    const key = keys[i]\n    let handler = events[key]\n    if (typeof handler === 'string') {\n      handler = vm[handler]\n      /* istanbul ignore if */\n      if (!handler) {\n        console.warn(`[JS Framework] The event handler \"${handler}\" is not defined.`)\n      }\n    }\n    setEvent(vm, el, key, handler)\n  }\n}\n\n/**\n * set a series of members as a kind of an element\n * for example: style, attr, ...\n * if the value is a function then bind the data changes\n */\nfunction bindDir (vm, el, name, data) {\n  if (!data) {\n    return\n  }\n  const keys = Object.keys(data)\n  let i = keys.length\n  while (i--) {\n    const key = keys[i]\n    const value = data[key]\n    if (typeof value === 'function') {\n      bindKey(vm, el, name, key, value)\n    }\n    else {\n      el[SETTERS[name]](key, value)\n    }\n  }\n}\n\n/**\n * bind data changes to a certain key to a name series in an element\n */\nfunction bindKey (vm, el, name, key, calc) {\n  const methodName = SETTERS[name]\n  // watch the calc, and returns a value by calc.call()\n  const value = watch(vm, calc, (value) => {\n    function handler () {\n      el[methodName](key, value)\n    }\n    const differ = vm && vm._app && vm._app.differ\n    if (differ) {\n      differ.append('element', el.depth || 0, el.ref, handler)\n    }\n    else {\n      handler()\n    }\n  })\n\n  el[methodName](key, value)\n}\n\n/**\n * watch a calc function and callback if the calc value changes\n */\nexport function watch (vm, calc, callback) {\n  if (vm._static) {\n    return calc.call(vm, vm)\n  }\n  const watcher = new Watcher(vm, calc, function (value, oldValue) {\n    /* istanbul ignore if */\n    if (typeof value !== 'object' && value === oldValue) {\n      return\n    }\n    callback(value)\n  })\n\n  return watcher.value\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/**\n * @fileOverview Document & Element Helpers.\n *\n * required:\n * Document#: createElement, createComment, getRef\n * Element#: appendChild, insertBefore, removeChild, nextSibling\n */\n\n/**\n * Create a body by type\n * Using this._app.doc\n *\n * @param  {string} type\n */\nexport function createBody (vm, type) {\n  const doc = vm._app.doc\n  return doc.createBody(type)\n}\n\n/**\n * Create an element by type\n * Using this._app.doc\n *\n * @param  {string} type\n */\nexport function createElement (vm, type) {\n  const doc = vm._app.doc\n  return doc.createElement(type)\n}\n\n/**\n * Create and return a frag block for an element.\n * The frag block has a starter, ender and the element itself.\n *\n * @param  {object} element\n */\nexport function createBlock (vm, element) {\n  const start = createBlockStart(vm)\n  const end = createBlockEnd(vm)\n  const blockId = lastestBlockId++\n  if (element.element) {\n    let updateMark = element.updateMark\n    if (updateMark) {\n      if (updateMark.element) {\n        updateMark = updateMark.end\n      }\n      element.element.insertAfter(end, updateMark)\n      element.element.insertAfter(start, updateMark)\n      element.updateMark = end\n    }\n    else {\n      element.element.insertBefore(start, element.end)\n      element.element.insertBefore(end, element.end)\n    }\n    element = element.element\n  }\n  else {\n    element.appendChild(start)\n    element.appendChild(end)\n  }\n  return { start, end, element, blockId }\n}\n\nlet lastestBlockId = 1\n\n/**\n * Create and return a block starter.\n * Using this._app.doc\n */\nfunction createBlockStart (vm) {\n  const doc = vm._app.doc\n  const anchor = doc.createComment('start')\n  return anchor\n}\n\n/**\n * Create and return a block ender.\n * Using this._app.doc\n */\nfunction createBlockEnd (vm) {\n  const doc = vm._app.doc\n  const anchor = doc.createComment('end')\n  return anchor\n}\n\n/**\n * Attach target to a certain dest using appendChild by default.\n * If the dest is a frag block then insert before the ender.\n * If the target is a frag block then attach the starter and ender in order.\n *\n * @param  {object} target\n * @param  {object} dest\n */\nexport function attachTarget (vm, target, dest) {\n  if (dest.element) {\n    const before = dest.end\n    const after = dest.updateMark\n    // push new target for watch list update later\n    if (dest.children) {\n      dest.children.push(target)\n    }\n    // for check repeat case\n    if (after) {\n      const signal = moveTarget(vm, target, after)\n      dest.updateMark = target.element ? target.end : target\n      return signal\n    }\n    else if (target.element) {\n      dest.element.insertBefore(target.start, before)\n      dest.element.insertBefore(target.end, before)\n    }\n    else {\n      return dest.element.insertBefore(target, before)\n    }\n  }\n  else {\n    if (target.element) {\n      dest.appendChild(target.start)\n      dest.appendChild(target.end)\n    }\n    else {\n      return dest.appendChild(target)\n    }\n  }\n}\n\n/**\n * Move target before a certain element. The target maybe block or element.\n *\n * @param  {object} target\n * @param  {object} before\n */\nexport function moveTarget (vm, target, after) {\n  if (target.element) {\n    return moveBlock(target, after)\n  }\n  return moveElement(target, after)\n}\n\n/**\n * Move element before a certain element.\n *\n * @param  {object} element\n * @param  {object} before\n */\nfunction moveElement (element, after) {\n  const parent = after.parentNode\n  if (parent) {\n    return parent.insertAfter(element, after)\n  }\n}\n\n/**\n * Move all elements of the block before a certain element.\n *\n * @param  {object} fragBlock\n * @param  {object} before\n */\nfunction moveBlock (fragBlock, after) {\n  const parent = after.parentNode\n\n  if (parent) {\n    let el = fragBlock.start\n    let signal\n    const group = [el]\n\n    while (el && el !== fragBlock.end) {\n      el = el.nextSibling\n      group.push(el)\n    }\n\n    let temp = after\n    group.every((el) => {\n      signal = parent.insertAfter(el, temp)\n      temp = el\n      return signal !== -1\n    })\n\n    return signal\n  }\n}\n\n/**\n * Remove target from DOM tree.\n * If the target is a frag block then call _removeBlock\n *\n * @param  {object} target\n */\nexport function removeTarget (vm, target, preserveBlock = false) {\n  if (target.element) {\n    removeBlock(target, preserveBlock)\n  }\n  else {\n    removeElement(target)\n  }\n  if (target._vm) {\n    target._vm.$emit('hook:destroyed')\n  }\n}\n\n/**\n * Remove a certain element.\n * Using this._app.doc\n *\n * @param  {object} target\n */\nfunction removeElement (target) {\n  const parent = target.parentNode\n\n  if (parent) {\n    parent.removeChild(target)\n  }\n}\n\n/**\n * Remove a frag block.\n * The second param decides whether the block self should be removed too.\n *\n * @param  {object}  fragBlock\n * @param  {Boolean} preserveBlock=false\n */\nfunction removeBlock (fragBlock, preserveBlock = false) {\n  const result = []\n  let el = fragBlock.start.nextSibling\n\n  while (el && el !== fragBlock.end) {\n    result.push(el)\n    el = el.nextSibling\n  }\n\n  if (!preserveBlock) {\n    removeElement(fragBlock.start)\n  }\n  result.forEach((el) => {\n    removeElement(el)\n  })\n  if (!preserveBlock) {\n    removeElement(fragBlock.end)\n  }\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/**\n * @fileOverview\n * ViewModel template parser & data-binding process\n */\n\nimport {\n  extend,\n  isObject,\n  bind\n} from '../util/index'\nimport {\n  initData,\n  initComputed\n} from '../core/state'\nimport {\n  bindElement,\n  setId,\n  bindSubVm,\n  bindSubVmAfterInitialized,\n  applyNaitveComponentOptions,\n  watch\n} from './directive'\nimport {\n  createBlock,\n  createBody,\n  createElement,\n  attachTarget,\n  moveTarget,\n  removeTarget\n} from './dom-helper'\n\n/**\n * build()\n *   compile(template, parentNode)\n *     if (type is content) create contentNode\n *     else if (dirs have v-for) foreach -> create context\n *       -> compile(templateWithoutFor, parentNode): diff(list) onchange\n *     else if (dirs have v-if) assert\n *       -> compile(templateWithoutIf, parentNode): toggle(shown) onchange\n *     else if (type is dynamic)\n *       -> compile(templateWithoutDynamicType, parentNode): watch(type) onchange\n *     else if (type is custom)\n *       addChildVm(vm, parentVm)\n *       build(externalDirs)\n *       foreach childNodes -> compile(childNode, template)\n *     else if (type is native)\n *       set(dirs): update(id/attr/style/class) onchange\n *       append(template, parentNode)\n *       foreach childNodes -> compile(childNode, template)\n */\nexport function build(vm) {\n  const opt = vm._options || {}\n  const template = opt.template || {}\n\n  if (opt.replace) {\n    if (template.children && template.children.length === 1) {\n      compile(vm, template.children[0], vm._parentEl)\n    }\n    else {\n      compile(vm, template.children, vm._parentEl)\n    }\n  }\n  else {\n    compile(vm, template, vm._parentEl)\n  }\n\n  console.log(`[JS Framework] \"ready\" lifecycle in Vm(${vm._type})`)\n  vm.$emit('hook:ready')\n  vm._ready = true\n}\n\n/**\n * Generate elements by child or children and append to parent elements.\n * Root element info would be merged if has. The first argument may be an array\n * if the root element with options.replace has not only one child.\n *\n * @param {object|array} target\n * @param {object}       dest\n * @param {object}       meta\n */\nfunction compile(vm, target, dest, meta) {\n  const app = vm._app || {}\n\n  if (app.lastSignal === -1) {\n    return\n  }\n\n  if (target.attr && target.attr.hasOwnProperty('static')) {\n    vm._static = true\n  }\n\n  if (targetIsFragment(target)) {\n    compileFragment(vm, target, dest, meta)\n    return\n  }\n  meta = meta || {}\n  if (targetIsContent(target)) {\n    console.log('[JS Framework] compile \"content\" block by', target)\n    vm._content = createBlock(vm, dest)\n    return\n  }\n\n  if (targetNeedCheckRepeat(target, meta)) {\n    console.log('[JS Framework] compile \"repeat\" logic by', target)\n    if (dest.type === 'document') {\n      console.warn('[JS Framework] The root element does\\'t support `repeat` directive!')\n    }\n    else {\n      compileRepeat(vm, target, dest)\n    }\n    return\n  }\n  if (targetNeedCheckShown(target, meta)) {\n    console.log('[JS Framework] compile \"if\" logic by', target)\n    if (dest.type === 'document') {\n      console.warn('[JS Framework] The root element does\\'t support `if` directive!')\n    }\n    else {\n      compileShown(vm, target, dest, meta)\n    }\n    return\n  }\n  const typeGetter = meta.type || target.type\n  if (targetNeedCheckType(typeGetter, meta)) {\n    compileType(vm, target, dest, typeGetter, meta)\n    return\n  }\n  const type = typeGetter\n  const component = targetIsComposed(vm, target, type)\n  if (component) {\n    console.log('[JS Framework] compile composed component by', target)\n    compileCustomComponent(vm, component, target, dest, type, meta)\n    return\n  }\n  console.log('[JS Framework] compile native component by', target)\n  compileNativeComponent(vm, target, dest, type)\n}\n\n/**\n * Check if target is a fragment (an array).\n *\n * @param  {object}  target\n * @return {boolean}\n */\nfunction targetIsFragment(target) {\n  return Array.isArray(target)\n}\n\n/**\n * Check if target type is content/slot.\n *\n * @param  {object}  target\n * @return {boolean}\n */\nfunction targetIsContent(target) {\n  return target.type === 'content' || target.type === 'slot'\n}\n\n/**\n * Check if target need to compile by a list.\n *\n * @param  {object}  target\n * @param  {object}  meta\n * @return {boolean}\n */\nfunction targetNeedCheckRepeat(target, meta) {\n  return !meta.hasOwnProperty('repeat') && target.repeat\n}\n\n/**\n * Check if target need to compile by a boolean value.\n *\n * @param  {object}  target\n * @param  {object}  meta\n * @return {boolean}\n */\nfunction targetNeedCheckShown(target, meta) {\n  return !meta.hasOwnProperty('shown') && target.shown\n}\n\n/**\n * Check if target need to compile by a dynamic type.\n *\n * @param  {string|function} typeGetter\n * @param  {object}          meta\n * @return {boolean}\n */\nfunction targetNeedCheckType(typeGetter, meta) {\n  return (typeof typeGetter === 'function') && !meta.hasOwnProperty('type')\n}\n\n/**\n * Check if this kind of component is composed.\n *\n * @param  {string}  type\n * @return {boolean}\n */\nfunction targetIsComposed(vm, target, type) {\n  let component\n  if (vm._app && vm._app.customComponentMap) {\n    component = vm._app.customComponentMap[type]\n  }\n  if (vm._options && vm._options.components) {\n    component = vm._options.components[type]\n  }\n  if (target.component) {\n    component = component || {}\n  }\n  return component\n}\n\n/**\n * Compile a list of targets.\n *\n * @param {object} target\n * @param {object} dest\n * @param {object} meta\n */\nfunction compileFragment(vm, target, dest, meta) {\n  const fragBlock = createBlock(vm, dest)\n  target.forEach((child) => {\n    compile(vm, child, fragBlock, meta)\n  })\n}\n\n/**\n * Compile a target with repeat directive.\n *\n * @param {object} target\n * @param {object} dest\n */\nfunction compileRepeat(vm, target, dest) {\n  const repeat = target.repeat\n  const oldStyle = typeof repeat === 'function'\n  let getter = repeat.getter || repeat.expression || repeat\n  if (typeof getter !== 'function') {\n    getter = function () { return [] }\n  }\n  const key = repeat.key || '$index'\n  const value = repeat.value || '$value'\n  const trackBy = repeat.trackBy || target.trackBy ||\n    (target.attr && target.attr.trackBy)\n\n  const fragBlock = createBlock(vm, dest)\n  fragBlock.children = []\n  fragBlock.data = []\n  fragBlock.vms = []\n\n  bindRepeat(vm, target, fragBlock, { getter, key, value, trackBy, oldStyle })\n}\n\n/**\n * Compile a target with if directive.\n *\n * @param {object} target\n * @param {object} dest\n * @param {object} meta\n */\nfunction compileShown(vm, target, dest, meta) {\n  const newMeta = { shown: true }\n  const fragBlock = createBlock(vm, dest)\n\n  if (dest.element && dest.children) {\n    dest.children.push(fragBlock)\n  }\n\n  if (meta.repeat) {\n    newMeta.repeat = meta.repeat\n  }\n\n  bindShown(vm, target, fragBlock, newMeta)\n}\n\n/**\n * Compile a target with dynamic component type.\n *\n * @param {object}   target\n * @param {object}   dest\n * @param {function} typeGetter\n */\nfunction compileType(vm, target, dest, typeGetter, meta) {\n  const type = typeGetter.call(vm)\n  const newMeta = extend({ type }, meta)\n  const fragBlock = createBlock(vm, dest)\n\n  if (dest.element && dest.children) {\n    dest.children.push(fragBlock)\n  }\n\n  watch(vm, typeGetter, (value) => {\n    const newMeta = extend({ type: value }, meta)\n    removeTarget(vm, fragBlock, true)\n    compile(vm, target, fragBlock, newMeta)\n  })\n\n  compile(vm, target, fragBlock, newMeta)\n}\n\n/**\n * Compile a composed component.\n *\n * @param {object} target\n * @param {object} dest\n * @param {string} type\n */\nfunction compileCustomComponent(vm, component, target, dest, type, meta) {\n  const Ctor = vm.constructor\n  const subVm = new Ctor(type, component, vm, dest, undefined, {\n    'hook:init': function () {\n      if (vm._static) {\n        this._static = vm._static\n      }\n      setId(vm, null, target.id, this)\n      // bind template earlier because of lifecycle issues\n      this._externalBinding = {\n        parent: vm,\n        template: target\n      }\n    },\n    'hook:created': function () {\n      bindSubVm(vm, this, target, meta.repeat)\n    },\n    'hook:ready': function () {\n      if (this._content) {\n        compileChildren(vm, target, this._content)\n      }\n    }\n  })\n  bindSubVmAfterInitialized(vm, subVm, target, dest)\n}\n\n/**\n * Generate element from template and attach to the dest if needed.\n * The time to attach depends on whether the mode status is node or tree.\n *\n * @param {object} template\n * @param {object} dest\n * @param {string} type\n */\nfunction compileNativeComponent(vm, template, dest, type) {\n  applyNaitveComponentOptions(template)\n\n  let element\n  if (dest.ref === '_documentElement') {\n    // if its parent is documentElement then it's a body\n    console.log(`[JS Framework] compile to create body for ${type}`)\n    element = createBody(vm, type)\n  }\n  else {\n    console.log(`[JS Framework] compile to create element for ${type}`)\n    element = createElement(vm, type)\n  }\n\n  if (!vm._rootEl) {\n    vm._rootEl = element\n    // bind event earlier because of lifecycle issues\n    const binding = vm._externalBinding || {}\n    const target = binding.template\n    const parentVm = binding.parent\n    if (target && target.events && parentVm && element) {\n      for (const type in target.events) {\n        const handler = parentVm[target.events[type]]\n        if (handler) {\n          element.addEvent(type, bind(handler, parentVm))\n        }\n      }\n    }\n  }\n\n  bindElement(vm, element, template)\n\n  if (template.attr && template.attr.append) { // backward, append prop in attr\n    template.append = template.attr.append\n  }\n\n  if (template.append) { // give the append attribute for ios adaptation\n    element.attr = element.attr || {}\n    element.attr.append = template.append\n  }\n\n  const treeMode = template.append === 'tree'\n  const app = vm._app || {}\n  if (app.lastSignal !== -1 && !treeMode) {\n    console.log('[JS Framework] compile to append single node for', element)\n    app.lastSignal = attachTarget(vm, element, dest)\n  }\n  if (app.lastSignal !== -1) {\n    compileChildren(vm, template, element)\n  }\n  if (app.lastSignal !== -1 && treeMode) {\n    console.log('[JS Framework] compile to append whole tree for', element)\n    app.lastSignal = attachTarget(vm, element, dest)\n  }\n}\n\n/**\n * Set all children to a certain parent element.\n *\n * @param {object} template\n * @param {object} dest\n */\nfunction compileChildren(vm, template, dest) {\n  const app = vm._app || {}\n  const children = template.children\n  if (children && children.length) {\n    children.every((child) => {\n      compile(vm, child, dest)\n      return app.lastSignal !== -1\n    })\n  }\n}\n\n/**\n * Watch the list update and refresh the changes.\n *\n * @param {object} target\n * @param {object} fragBlock {vms, data, children}\n * @param {object} info      {getter, key, value, trackBy, oldStyle}\n */\nfunction bindRepeat(vm, target, fragBlock, info) {\n  const vms = fragBlock.vms\n  const children = fragBlock.children\n  const { getter, trackBy, oldStyle } = info\n  const keyName = info.key\n  const valueName = info.value\n\n  function compileItem(item, index, context) {\n    let mergedData\n    if (oldStyle) {\n      mergedData = item\n      if (isObject(item)) {\n        mergedData[keyName] = index\n        if (!mergedData.hasOwnProperty('INDEX')) {\n          Object.defineProperty(mergedData, 'INDEX', {\n            value: () => {\n              console.warn('[JS Framework] \"INDEX\" in repeat is deprecated, ' +\n                'please use \"$index\" instead')\n            }\n          })\n        }\n      }\n      else {\n        console.warn('[JS Framework] Each list item must be an object in old-style repeat, '\n          + 'please use `repeat={{v in list}}` instead.')\n        mergedData = {}\n        mergedData[keyName] = index\n        mergedData[valueName] = item\n      }\n    }\n    else {\n      mergedData = {}\n      mergedData[keyName] = index\n      mergedData[valueName] = item\n    }\n    const newContext = mergeContext(context, mergedData)\n    vms.push(newContext)\n    compile(newContext, target, fragBlock, { repeat: item })\n  }\n\n  const list = watchBlock(vm, fragBlock, getter, 'repeat',\n    (data) => {\n      console.log('[JS Framework] the \"repeat\" item has changed', data)\n      if (!fragBlock || !data) {\n        return\n      }\n\n      const oldChildren = children.slice()\n      const oldVms = vms.slice()\n      const oldData = fragBlock.data.slice()\n      // 1. collect all new refs track by\n      const trackMap = {}\n      const reusedMap = {}\n      data.forEach((item, index) => {\n        const key = trackBy ? item[trackBy] : (oldStyle ? item[keyName] : index)\n        /* istanbul ignore if */\n        if (key == null || key === '') {\n          return\n        }\n        trackMap[key] = item\n      })\n\n      // 2. remove unused element foreach old item\n      const reusedList = []\n      oldData.forEach((item, index) => {\n        const key = trackBy ? item[trackBy] : (oldStyle ? item[keyName] : index)\n        if (trackMap.hasOwnProperty(key)) {\n          reusedMap[key] = {\n            item, index, key,\n            target: oldChildren[index],\n            vm: oldVms[index]\n          }\n          reusedList.push(item)\n        }\n        else {\n          removeTarget(vm, oldChildren[index])\n        }\n      })\n\n      // 3. create new element foreach new item\n      children.length = 0\n      vms.length = 0\n      fragBlock.data = data.slice()\n      fragBlock.updateMark = fragBlock.start\n\n      data.forEach((item, index) => {\n        const key = trackBy ? item[trackBy] : (oldStyle ? item[keyName] : index)\n        const reused = reusedMap[key]\n        if (reused) {\n          if (reused.item === reusedList[0]) {\n            reusedList.shift()\n          }\n          else {\n            reusedList.$remove(reused.item)\n            moveTarget(vm, reused.target, fragBlock.updateMark, true)\n          }\n          children.push(reused.target)\n          vms.push(reused.vm)\n          if (oldStyle) {\n            reused.vm = item\n          }\n          else {\n            reused.vm[valueName] = item\n          }\n          reused.vm[keyName] = index\n          fragBlock.updateMark = reused.target\n        }\n        else {\n          compileItem(item, index, vm)\n        }\n      })\n\n      delete fragBlock.updateMark\n    }\n  )\n\n  fragBlock.data = list.slice(0)\n  list.forEach((item, index) => {\n    compileItem(item, index, vm)\n  })\n}\n\n/**\n * Watch the display update and add/remove the element.\n *\n * @param  {object} target\n * @param  {object} fragBlock\n * @param  {object} context\n */\nfunction bindShown(vm, target, fragBlock, meta) {\n  const display = watchBlock(vm, fragBlock, target.shown, 'shown',\n    (display) => {\n      console.log('[JS Framework] the \"if\" item was changed', display)\n\n      if (!fragBlock || !!fragBlock.display === !!display) {\n        return\n      }\n      fragBlock.display = !!display\n      if (display) {\n        compile(vm, target, fragBlock, meta)\n      }\n      else {\n        removeTarget(vm, fragBlock, true)\n      }\n    }\n  )\n\n  fragBlock.display = !!display\n  if (display) {\n    compile(vm, target, fragBlock, meta)\n  }\n}\n\n/**\n * Watch calc value changes and append certain type action to differ.\n * It is used for if or repeat data-binding generator.\n *\n * @param  {object}   fragBlock\n * @param  {function} calc\n * @param  {string}   type\n * @param  {function} handler\n * @return {any}      init value of calc\n */\nfunction watchBlock(vm, fragBlock, calc, type, handler) {\n  const differ = vm && vm._app && vm._app.differ\n  const config = {}\n  const depth = (fragBlock.element.depth || 0) + 1\n\n  return watch(vm, calc, (value) => {\n    config.latestValue = value\n    if (differ && !config.recorded) {\n      differ.append(type, depth, fragBlock.blockId, () => {\n        const latestValue = config.latestValue\n        handler(latestValue)\n        config.recorded = false\n        config.latestValue = undefined\n      })\n    }\n    config.recorded = true\n  })\n}\n\n/**\n * Clone a context and merge certain data.\n *\n * @param  {object} mergedData\n * @return {object}\n */\nfunction mergeContext(context, mergedData) {\n  const newContext = Object.create(context)\n  newContext._data = mergedData\n  initData(newContext)\n  initComputed(newContext)\n  newContext._realParent = context\n  if (context._static) {\n    newContext._static = context._static\n  }\n  return newContext\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/**\n * @fileOverview\n * Everything about component event which includes event object, event listener,\n * event emitter and lifecycle hooks.\n */\n\n/**\n * Event object definition. An event object has `type`, `timestamp` and\n * `detail` from which a component emit. The event object could be dispatched to\n * parents or broadcasted to children except `this.stop()` is called.\n * @param {string} type\n * @param {any}    detail\n */\nfunction Evt (type, detail) {\n  if (detail instanceof Evt) {\n    return detail\n  }\n\n  this.timestamp = Date.now()\n  this.detail = detail\n  this.type = type\n\n  let shouldStop = false\n\n  /**\n   * stop dispatch and broadcast\n   */\n  this.stop = function () {\n    shouldStop = true\n  }\n\n  /**\n   * check if it can't be dispatched or broadcasted\n   */\n  this.hasStopped = function () {\n    return shouldStop\n  }\n}\n\n/**\n * Emit an event but not broadcast down or dispatch up.\n * @param  {string} type\n * @param  {any}    detail\n */\nexport function $emit (type, detail) {\n  const events = this._vmEvents\n  const handlerList = events[type]\n  if (handlerList) {\n    const evt = new Evt(type, detail)\n    handlerList.forEach((handler) => {\n      handler.call(this, evt)\n    })\n  }\n}\n\n/**\n * Emit an event and dispatch it up.\n * @param  {string} type\n * @param  {any}    detail\n */\nexport function $dispatch (type, detail) {\n  const evt = new Evt(type, detail)\n  this.$emit(type, evt)\n\n  if (!evt.hasStopped() && this._parent && this._parent.$dispatch) {\n    this._parent.$dispatch(type, evt)\n  }\n}\n\n/**\n * Emit an event and broadcast it down.\n * @param  {string} type\n * @param  {any}    detail\n */\nexport function $broadcast (type, detail) {\n  const evt = new Evt(type, detail)\n  this.$emit(type, evt)\n\n  if (!evt.hasStopped() && this._childrenVms) {\n    this._childrenVms.forEach((subVm) => {\n      subVm.$broadcast(type, evt)\n    })\n  }\n}\n\n/**\n * Add event listener.\n * @param  {string}   type\n * @param  {function} handler\n */\nexport function $on (type, handler) {\n  if (!type || typeof handler !== 'function') {\n    return\n  }\n  const events = this._vmEvents\n  const handlerList = events[type] || []\n  handlerList.push(handler)\n  events[type] = handlerList\n\n  // fixed old version lifecycle design\n  /* istanbul ignore if */\n  if (type === 'hook:ready' && this._ready) {\n    this.$emit('hook:ready')\n  }\n}\n\n/**\n * Remove event listener.\n * @param  {string}   type\n * @param  {function} handler\n */\nexport function $off (type, handler) {\n  if (!type) {\n    return\n  }\n  const events = this._vmEvents\n  if (!handler) {\n    delete events[type]\n    return\n  }\n  const handlerList = events[type]\n  if (!handlerList) {\n    return\n  }\n  handlerList.$remove(handler)\n}\n\nconst LIFE_CYCLE_TYPES = ['init', 'created', 'ready', 'destroyed']\n\n/**\n * Init events:\n * 1. listen `events` in component options & `externalEvents`.\n * 2. bind lifecycle hooks.\n * @param  {Vm}     vm\n * @param  {object} externalEvents\n */\nexport function initEvents (vm, externalEvents) {\n  const options = vm._options || {}\n  const events = options.events || {}\n  for (const type1 in events) {\n    vm.$on(type1, events[type1])\n  }\n  for (const type2 in externalEvents) {\n    vm.$on(type2, externalEvents[type2])\n  }\n  LIFE_CYCLE_TYPES.forEach((type) => {\n    vm.$on(`hook:${type}`, options[type])\n  })\n}\n\n/**\n * Bind event related methods to ViewModel instance.\n * @param  {Vm} vm\n */\nexport function mixinEvents (vm) {\n  vm.$emit = $emit\n  vm.$dispatch = $dispatch\n  vm.$broadcast = $broadcast\n  vm.$on = $on\n  vm.$off = $off\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/**\n * @fileOverview\n * ViewModel Constructor & definition\n */\n\nimport { extend } from '../util/index'\nimport {\n  initState\n} from '../core/state'\nimport {\n  build\n} from './compiler'\nimport {\n  set,\n  del\n} from '../core/observer'\nimport {\n  watch\n} from './directive'\nimport {\n  initEvents,\n  mixinEvents\n} from './events'\n\n/**\n * ViewModel constructor\n *\n * @param {string} type\n * @param {object} options    component options\n * @param {object} parentVm   which contains _app\n * @param {object} parentEl   root element or frag block\n * @param {object} mergedData external data\n * @param {object} externalEvents external events\n */\nexport default function Vm(\n  type,\n  options,\n  parentVm,\n  parentEl,\n  mergedData,\n  externalEvents\n) {\n  parentVm = parentVm || {}\n  this._parent = parentVm._realParent ? parentVm._realParent : parentVm\n  this._app = parentVm._app || {}\n  parentVm._childrenVms && parentVm._childrenVms.push(this)\n\n  if (!options && this._app.customComponentMap) {\n    options = this._app.customComponentMap[type]\n  }\n  options = options || {}\n\n  const data = options.data || {}\n\n  this._options = options\n  this._methods = options.methods || {}\n  this._computed = options.computed || {}\n  this._css = options.style || {}\n  this._ids = {}\n  this._vmEvents = {}\n  this._childrenVms = []\n  this._type = type\n\n  // bind events and lifecycles\n  initEvents(this, externalEvents)\n\n  console.log(`[JS Framework] \"init\" lifecycle in Vm(${this._type})`)\n  this.$emit('hook:init')\n  this._inited = true\n\n  // proxy data and methods\n  // observe data and add this to vms\n  this._data = typeof data === 'function' ? data() : data\n  if (mergedData) {\n    extend(this._data, mergedData)\n  }\n  initState(this)\n\n  console.log(`[JS Framework] \"created\" lifecycle in Vm(${this._type})`)\n  this.$emit('hook:created')\n  this._created = true\n\n  // backward old ready entry\n  if (options.methods && options.methods.ready) {\n    console.warn('\"exports.methods.ready\" is deprecated, ' +\n      'please use \"exports.created\" instead')\n    options.methods.ready.call(this)\n  }\n\n  if (!this._app.doc) {\n    return\n  }\n\n  // if no parentElement then specify the documentElement\n  this._parentEl = parentEl || this._app.doc.documentElement\n  build(this)\n}\n\nmixinEvents(Vm.prototype)\n\n/**\n * Watch an function and bind all the data appeared in it. When the related\n * data changes, the callback will be called with new value as 1st param.\n *\n * @param {Function} fn\n * @param {Function} callback\n */\nVm.prototype.$watch = function (fn, callback) {\n  watch(this, fn, callback)\n}\n\nVm.set = set\nVm.delete = del\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nlet nativeModules = {}\n\n// for testing\n\n/**\n * for testing\n */\nexport function getModule (moduleName) {\n  return nativeModules[moduleName]\n}\n\n/**\n * for testing\n */\nexport function clearModules () {\n  nativeModules = {}\n}\n\n// for framework\n\n/**\n * init modules for an app instance\n * the second param determines whether to replace an existed method\n */\nexport function initModules (modules, ifReplace) {\n  for (const moduleName in modules) {\n    // init `modules[moduleName][]`\n    let methods = nativeModules[moduleName]\n    if (!methods) {\n      methods = {}\n      nativeModules[moduleName] = methods\n    }\n\n    // push each non-existed new method\n    if (Array.isArray(modules[moduleName])) {\n      modules[moduleName].forEach(function (method) {\n        if (typeof method === 'string') {\n          method = {\n            name: method\n          }\n        }\n\n        if (!methods[method.name] || ifReplace) {\n          methods[method.name] = method\n        }\n      })\n    }\n  }\n}\n\n/**\n * init app methods\n */\nexport function initMethods (Vm, apis) {\n  const p = Vm.prototype\n\n  for (const apiName in apis) {\n    if (!p.hasOwnProperty(apiName)) {\n      p[apiName] = apis[apiName]\n    }\n  }\n}\n\n/**\n * get a module of methods for an app instance\n */\nexport function requireModule (app, name) {\n  const methods = nativeModules[name]\n  const target = {}\n  for (const methodName in methods) {\n    Object.defineProperty(target, methodName, {\n      configurable: true,\n      enumerable: true,\n      get: function moduleGetter () {\n        return (...args) => app.callTasks({\n          module: name,\n          method: methodName,\n          args: args\n        })\n      },\n      set: function moduleSetter (value) {\n        if (typeof value === 'function') {\n          return app.callTasks({\n            module: name,\n            method: methodName,\n            args: [value]\n          })\n        }\n      }\n    })\n  }\n  return target\n}\n\n/**\n * get a custom component options\n */\nexport function requireCustomComponent (app, name) {\n  const { customComponentMap } = app\n  return customComponentMap[name]\n}\n\n/**\n * register a custom component options\n */\nexport function registerCustomComponent (app, name, def) {\n  const { customComponentMap } = app\n\n  if (customComponentMap[name]) {\n    console.error(`[JS Framework] define a component(${name}) that already exists`)\n    return\n  }\n\n  customComponentMap[name] = def\n}\n","exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar src = exports.src = []\nvar R = 0\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\nvar NUMERICIDENTIFIERLOOSE = R++\nsrc[NUMERICIDENTIFIERLOOSE] = '[0-9]+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')'\n\nvar MAINVERSIONLOOSE = R++\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')'\n\nvar PRERELEASEIDENTIFIERLOOSE = R++\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))'\n\nvar PRERELEASELOOSE = R++\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++\nsrc[BUILDIDENTIFIER] = '[0-9A-Za-z-]+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?'\n\nsrc[FULL] = '^' + FULLPLAIN + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?'\n\nvar LOOSE = R++\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$'\n\nvar GTLT = R++\nsrc[GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\nvar XRANGEIDENTIFIER = R++\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\nvar XRANGEPLAIN = R++\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?'\n\nvar XRANGEPLAINLOOSE = R++\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?'\n\nvar XRANGE = R++\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$'\nvar XRANGELOOSE = R++\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\nvar COERCE = R++\nsrc[COERCE] = '(?:^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++\nsrc[LONETILDE] = '(?:~>?)'\n\nvar TILDETRIM = R++\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+'\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g')\nvar tildeTrimReplace = '$1~'\n\nvar TILDE = R++\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$'\nvar TILDELOOSE = R++\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++\nsrc[LONECARET] = '(?:\\\\^)'\n\nvar CARETTRIM = R++\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+'\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g')\nvar caretTrimReplace = '$1^'\n\nvar CARET = R++\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$'\nvar CARETLOOSE = R++\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$'\nvar COMPARATOR = R++\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\nvar HYPHENRANGELOOSE = R++\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? re[LOOSE] : re[FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? re[LOOSE] : re[FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compare(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.rcompare(a, b, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1]\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First, split based on boolean or ||\n  this.raw = range\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  range = range.trim()\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[HYPHENRANGELOOSE] : re[HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, re[COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[CARETTRIM], caretTrimReplace)\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ')\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return thisComparators.every(function (thisComparator) {\n      return range.set.some(function (rangeComparators) {\n        return rangeComparators.every(function (rangeComparator) {\n          return thisComparator.intersects(rangeComparator, options)\n        })\n      })\n    })\n  })\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? re[TILDELOOSE] : re[TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? re[CARETLOOSE] : re[CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? re[XRANGELOOSE] : re[XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[STAR], '')\n}\n\n// This function is passed to string.replace(re[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  var match = version.match(re[COERCE])\n\n  if (match == null) {\n    return null\n  }\n\n  return parse(match[1] +\n    '.' + (match[2] || '0') +\n    '.' + (match[3] || '0'))\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport semver from 'semver'\nimport { isPlainObject, typof } from '../util/index'\n\n/**\n * Normalize a version string.\n * @param  {String} Version. ie: 1, 1.0, 1.0.0\n * @return {String} Version\n */\nexport function normalizeVersion (v) {\n  const isValid = semver.valid(v)\n  if (isValid) {\n    return v\n  }\n\n  v = typeof (v) === 'string' ? v : ''\n  const split = v.split('.')\n  let i = 0\n  const result = []\n\n  while (i < 3) {\n    const s = typeof (split[i]) === 'string' && split[i] ? split[i] : '0'\n    result.push(s)\n    i++\n  }\n\n  return result.join('.')\n}\n\n/**\n * Get informations from different error key. Like:\n * - code\n * - errorMessage\n * - errorType\n * - isDowngrade\n * @param  {string} key\n * @param  {string} val\n * @param  {string} criteria\n * @return {object}\n */\nexport function getError (key, val, criteria) {\n  const result = {\n    isDowngrade: true,\n    errorType: 1,\n    code: 1000\n  }\n  const getMsg = function (key, val, criteria) {\n    return 'Downgrade[' + key + '] :: deviceInfo '\n      + val + ' matched criteria ' + criteria\n  }\n  const _key = key.toLowerCase()\n\n  result.errorMessage = getMsg(key, val, criteria)\n\n  if (_key.indexOf('osversion') >= 0) {\n    result.code = 1001\n  }\n  else if (_key.indexOf('appversion') >= 0) {\n    result.code = 1002\n  }\n  else if (_key.indexOf('weexversion') >= 0) {\n    result.code = 1003\n  }\n  else if (_key.indexOf('devicemodel') >= 0) {\n    result.code = 1004\n  }\n\n  return result\n}\n\n/**\n * WEEX framework input(deviceInfo)\n * {\n *   platform: 'iOS' or 'android'\n *   osVersion: '1.0.0' or '1.0' or '1'\n *   appVersion: '1.0.0' or '1.0' or '1'\n *   weexVersion: '1.0.0' or '1.0' or '1'\n *   dDeviceModel: 'MODEL_NAME'\n * }\n *\n * downgrade config(config)\n * {\n *   ios: {\n *     osVersion: '>1.0.0' or '>=1.0.0' or '<1.0.0' or '<=1.0.0' or '1.0.0'\n *     appVersion: '>1.0.0' or '>=1.0.0' or '<1.0.0' or '<=1.0.0' or '1.0.0'\n *     weexVersion: '>1.0.0' or '>=1.0.0' or '<1.0.0' or '<=1.0.0' or '1.0.0'\n *     deviceModel: ['modelA', 'modelB', ...]\n *   },\n *   android: {\n *     osVersion: '>1.0.0' or '>=1.0.0' or '<1.0.0' or '<=1.0.0' or '1.0.0'\n *     appVersion: '>1.0.0' or '>=1.0.0' or '<1.0.0' or '<=1.0.0' or '1.0.0'\n *     weexVersion: '>1.0.0' or '>=1.0.0' or '<1.0.0' or '<=1.0.0' or '1.0.0'\n *     deviceModel: ['modelA', 'modelB', ...]\n *   }\n * }\n *\n *\n * @param  {object} deviceInfo Weex SDK framework input\n * @param  {object} config     user input\n * @return {Object}            { isDowngrade: true/false, errorMessage... }\n */\nexport function check (config, deviceInfo) {\n  deviceInfo = deviceInfo || global.WXEnvironment\n  deviceInfo = isPlainObject(deviceInfo) ? deviceInfo : {}\n\n  let result = {\n    isDowngrade: false // defautl is pass\n  }\n\n  if (typof(config) === 'function') {\n    let customDowngrade = config.call(this, deviceInfo, {\n      semver: semver,\n      normalizeVersion\n    })\n\n    customDowngrade = !!customDowngrade\n\n    result = customDowngrade ? getError('custom', '', 'custom params') : result\n  }\n  else {\n    config = isPlainObject(config) ? config : {}\n\n    const platform = deviceInfo.platform || 'unknow'\n    const dPlatform = platform.toLowerCase()\n    const cObj = config[dPlatform] || {}\n\n    for (const i in deviceInfo) {\n      const key = i\n      const keyLower = key.toLowerCase()\n      const val = deviceInfo[i]\n      const isVersion = keyLower.indexOf('version') >= 0\n      const isDeviceModel = keyLower.indexOf('devicemodel') >= 0\n      const criteria = cObj[i]\n\n      if (criteria && isVersion) {\n        const c = normalizeVersion(criteria)\n        const d = normalizeVersion(deviceInfo[i])\n\n        if (semver.satisfies(d, c)) {\n          result = getError(key, val, criteria)\n          break\n        }\n      }\n      else if (isDeviceModel) {\n        const _criteria = typof(criteria) === 'array' ? criteria : [criteria]\n        if (_criteria.indexOf(val) >= 0) {\n          result = getError(key, val, criteria)\n          break\n        }\n      }\n    }\n  }\n\n  return result\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport semver from 'semver'\nimport Vm from '../../vm/index'\nimport * as downgrade from '../downgrade'\nimport { setViewport } from '../viewport'\nimport {\n  requireCustomComponent\n} from '../register'\nimport {\n  isPlainObject,\n  isWeexComponent,\n  isNpmModule,\n  removeWeexPrefix,\n  removeJSSurfix\n} from '../../util/index'\n\n/**\n * bootstrap app from a certain custom component with config & data\n */\nexport function bootstrap(app, name, config, data) {\n  console.log(`[JS Framework] bootstrap for ${name}`)\n\n  // 1. validate custom component name first\n  let cleanName\n  if (isWeexComponent(name)) {\n    cleanName = removeWeexPrefix(name)\n  }\n  else if (isNpmModule(name)) {\n    cleanName = removeJSSurfix(name)\n    // check if define by old 'define' method\n    /* istanbul ignore if */\n    if (!requireCustomComponent(app, cleanName)) {\n      return new Error(`It's not a component: ${name}`)\n    }\n  }\n  else {\n    return new Error(`Wrong component name: ${name}`)\n  }\n\n  // 2. validate configuration\n  config = isPlainObject(config) ? config : {}\n  // 2.1 transformer version check\n  if (typeof config.transformerVersion === 'string' &&\n    typeof global.transformerVersion === 'string' &&\n    !semver.satisfies(config.transformerVersion,\n      global.transformerVersion)) {\n    return new Error(`JS Bundle version: ${config.transformerVersion} ` +\n      `not compatible with ${global.transformerVersion}`)\n  }\n  // 2.2 downgrade version check\n  const downgradeResult = downgrade.check(config.downgrade)\n  /* istanbul ignore if */\n  if (downgradeResult.isDowngrade) {\n    app.callTasks([{\n      module: 'instanceWrap',\n      method: 'error',\n      args: [\n        downgradeResult.errorType,\n        downgradeResult.code,\n        downgradeResult.errorMessage\n      ]\n    }])\n    return new Error(`Downgrade[${downgradeResult.code}]: ${downgradeResult.errorMessage}`)\n  }\n\n  // set viewport\n  if (config.viewport) {\n    setViewport(app, config.viewport)\n  }\n\n  // 3. create a new Vm with custom component name and data\n  app.vm = new Vm(cleanName, null, { _app: app }, null, data)\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nexport function setViewport(app, configs = {}) {\n  /* istanbul ignore if */\n  if (process.env.NODE_ENV === 'development') {\n    console.log(`[JS Framework] Set viewport (width: ${configs.width}) for app#${app.id}.`)\n    validateViewport(configs)\n  }\n\n  // Send viewport configs to native\n  if (app && app.callTasks) {\n    return app.callTasks([{\n      module: 'meta',\n      method: 'setViewport',\n      args: [configs]\n    }])\n  }\n\n  /* istanbul ignore next */\n  else if (process.env.NODE_ENV === 'development') {\n    console.warn(`[JS Framework] Can't find \"callTasks\" method on current app.`)\n  }\n}\n\n/**\n * Validate the viewport config.\n * @param {Object} configs\n */\nexport function validateViewport(configs = {}) {\n  const { width } = configs\n  if (width) {\n    if (typeof width !== 'number' && width !== 'device-width') {\n      console.warn(`[JS Framework] Not support to use ${width} as viewport width.`)\n      return false\n    }\n    return true\n  }\n  console.warn('[JS Framework] the viewport config should contain the \"width\" property.')\n  return false\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport {\n  isWeexComponent,\n  isWeexModule,\n  isNormalModule,\n  isNpmModule,\n  removeWeexPrefix,\n  removeJSSurfix\n} from '../../util/index'\nimport {\n  registerCustomComponent,\n  requireCustomComponent,\n  initModules\n} from '../register'\n\n/**\n * define(name, factory) for primary usage\n * or\n * define(name, deps, factory) for compatibility\n * Notice: DO NOT use function define() {},\n * it will cause error after builded by webpack\n */\nexport const defineFn = function (app, name, ...args) {\n  console.log(`[JS Framework] define a component ${name}`)\n\n  // adapt args:\n  // 1. name, deps[], factory()\n  // 2. name, factory()\n  // 3. name, definition{}\n  let factory, definition\n  if (args.length > 1) {\n    definition = args[1]\n  }\n  else {\n    definition = args[0]\n  }\n  if (typeof definition === 'function') {\n    factory = definition\n    definition = null\n  }\n\n  // resolve definition from factory\n  if (factory) {\n    const r = (name) => {\n      if (isWeexComponent(name)) {\n        const cleanName = removeWeexPrefix(name)\n        return requireCustomComponent(app, cleanName)\n      }\n      if (isWeexModule(name)) {\n        const cleanName = removeWeexPrefix(name)\n        return app.requireModule(cleanName)\n      }\n      if (isNormalModule(name) || isNpmModule(name)) {\n        const cleanName = removeJSSurfix(name)\n        return app.commonModules[cleanName]\n      }\n    }\n    const m = { exports: {} }\n    factory(r, m.exports, m)\n    definition = m.exports\n  }\n\n  // apply definition\n  if (isWeexComponent(name)) {\n    const cleanName = removeWeexPrefix(name)\n    registerCustomComponent(app, cleanName, definition)\n  }\n  else if (isWeexModule(name)) {\n    const cleanName = removeWeexPrefix(name)\n    initModules({ [cleanName]: definition })\n  }\n  else if (isNormalModule(name)) {\n    const cleanName = removeJSSurfix(name)\n    app.commonModules[cleanName] = definition\n  }\n  else if (isNpmModule(name)) {\n    const cleanName = removeJSSurfix(name)\n    if (definition.template ||\n      definition.style ||\n      definition.methods) {\n      // downgrade to old define method (define('componentName', factory))\n      // the exports contain one key of template, style or methods\n      // but it has risk!!!\n      registerCustomComponent(app, cleanName, definition)\n    }\n    else {\n      app.commonModules[cleanName] = definition\n    }\n  }\n}\n\n/**\n * @deprecated\n */\nexport function register(app, type, options) {\n  console.warn('[JS Framework] Register is deprecated, please install lastest transformer.')\n  registerCustomComponent(app, type, options)\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/**\n * @fileOverview\n * instance controls from native\n *\n * - fire event\n * - callback\n * - refresh\n * - destroy\n *\n * corresponded with the API of instance manager (framework.js)\n */\nimport { extend, typof } from '../../util/index'\n\n/**\n * Refresh an app with data to its root component options.\n * @param  {object} app\n * @param  {any}    data\n */\nexport function refresh(app, data) {\n  console.log(`[JS Framework] Refresh with`, data, `in instance[${app.id}]`)\n  const vm = app.vm\n  if (vm && data) {\n    if (typeof vm.refreshData === 'function') {\n      vm.refreshData(data)\n    }\n    else {\n      extend(vm, data)\n    }\n    app.differ.flush()\n    app.doc.taskCenter.send('dom', { action: 'refreshFinish' }, [])\n    return\n  }\n  return new Error(`invalid data \"${data}\"`)\n}\n\n/**\n * Destroy an app.\n * @param  {object} app\n */\nexport function destroy(app) {\n  console.log(`[JS Framework] Destory an instance(${app.id})`)\n\n  if (app.vm) {\n    destroyVm(app.vm)\n  }\n\n  app.id = ''\n  app.options = null\n  app.blocks = null\n  app.vm = null\n  app.doc.taskCenter.destroyCallback()\n  app.doc.destroy()\n  app.doc = null\n  app.customComponentMap = null\n  app.commonModules = null\n}\n\n/**\n * Destroy an Vm.\n * @param {object} vm\n */\nexport function destroyVm(vm) {\n  delete vm._app\n  delete vm._computed\n  delete vm._css\n  delete vm._data\n  delete vm._ids\n  delete vm._methods\n  delete vm._options\n  delete vm._parent\n  delete vm._parentEl\n  delete vm._rootEl\n\n  // remove all watchers\n  if (vm._watchers) {\n    let watcherCount = vm._watchers.length\n    while (watcherCount--) {\n      vm._watchers[watcherCount].teardown()\n    }\n    delete vm._watchers\n  }\n\n  // destroy child vms recursively\n  if (vm._childrenVms) {\n    let vmCount = vm._childrenVms.length\n    while (vmCount--) {\n      destroyVm(vm._childrenVms[vmCount])\n    }\n    delete vm._childrenVms\n  }\n\n  console.log(`[JS Framework] \"destroyed\" lifecycle in Vm(${vm._type})`)\n  vm.$emit('hook:destroyed')\n\n  delete vm._type\n  delete vm._vmEvents\n}\n\n/**\n * Get a JSON object to describe the document body.\n * @param  {object} app\n * @return {object}\n */\nexport function getRootElement(app) {\n  const doc = app.doc || {}\n  const body = doc.body || {}\n  return body.toJSON ? body.toJSON() : {}\n}\n\n/**\n * Fire an event from renderer. The event has type, an event object and an\n * element ref. If the event comes with some virtual-DOM changes, it should\n * have one more parameter to describe the changes.\n * @param  {object} app\n * @param  {string} ref\n * @param  {type}   type\n * @param  {object} e\n * @param  {object} domChanges\n */\nexport function fireEvent(app, ref, type, e, domChanges) {\n  console.log(`[JS Framework] Fire a \"${type}\" event on an element(${ref}) in instance(${app.id})`)\n  if (Array.isArray(ref)) {\n    ref.some((ref) => {\n      return fireEvent(app, ref, type, e) !== false\n    })\n    return\n  }\n  const el = app.doc.getRef(ref)\n  if (el) {\n    const result = app.doc.fireEvent(el, type, e, domChanges)\n    app.differ.flush()\n    app.doc.taskCenter.send('dom', { action: 'updateFinish' }, [])\n    return result\n  }\n  return new Error(`invalid element reference \"${ref}\"`)\n}\n\n/**\n * Make a callback for a certain app.\n * @param  {object}   app\n * @param  {number}   callbackId\n * @param  {any}      data\n * @param  {boolean}  ifKeepAlive\n */\nexport function callback(app, callbackId, data, ifKeepAlive) {\n  console.log(`[JS Framework] Invoke a callback(${callbackId}) with`, data, `in instance(${app.id})`)\n  const result = app.doc.taskCenter.callback(callbackId, data, ifKeepAlive)\n  updateActions(app)\n  app.doc.taskCenter.send('dom', { action: 'updateFinish' }, [])\n  return result\n}\n\n/**\n * Collect all virtual-DOM mutations together and send them to renderer.\n * @param  {object} app\n */\nexport function updateActions(app) {\n  app.differ.flush()\n}\n\n/**\n * Call all tasks from an app to renderer (native).\n * @param  {object} app\n * @param  {array}  tasks\n */\nexport function callTasks(app, tasks) {\n  let result\n\n  /* istanbul ignore next */\n  if (typof(tasks) !== 'array') {\n    tasks = [tasks]\n  }\n\n  tasks.forEach(task => {\n    result = app.doc.taskCenter.send(\n      'module',\n      {\n        module: task.module,\n        method: task.method\n      },\n      task.args\n    )\n  })\n\n  return result\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/**\n * @fileOverview\n * instance controls from native\n *\n * - init bundle\n *\n * corresponded with the API of instance manager (framework.js)\n */\n\nimport Vm from '../../vm/index'\nimport { removeWeexPrefix } from '../../util/index'\nimport {\n  defineFn,\n  bootstrap,\n  register\n} from '../bundle/index'\nimport { updateActions } from './misc'\n\n/**\n * Init an app by run code witgh data\n * @param  {object} app\n * @param  {string} code\n * @param  {object} data\n */\nexport function init(app, code, data, services) {\n  console.log('[JS Framework] Intialize an instance with:\\n', data)\n  let result\n\n  // prepare app env methods\n  const bundleDefine = (...args) => defineFn(app, ...args)\n  const bundleBootstrap = (name, config, _data) => {\n    result = bootstrap(app, name, config, _data || data)\n    updateActions(app)\n    app.doc.listener.createFinish()\n    console.log(`[JS Framework] After intialized an instance(${app.id})`)\n  }\n  const bundleVm = Vm\n  /* istanbul ignore next */\n  const bundleRegister = (...args) => register(app, ...args)\n  /* istanbul ignore next */\n  const bundleRender = (name, _data) => {\n    result = bootstrap(app, name, {}, _data)\n  }\n  /* istanbul ignore next */\n  const bundleRequire = name => _data => {\n    result = bootstrap(app, name, {}, _data)\n  }\n  const bundleDocument = app.doc\n  /* istanbul ignore next */\n  const bundleRequireModule = name => app.requireModule(removeWeexPrefix(name))\n\n  const weexGlobalObject = {\n    config: app.options,\n    define: bundleDefine,\n    bootstrap: bundleBootstrap,\n    requireModule: bundleRequireModule,\n    document: bundleDocument,\n    Vm: bundleVm\n  }\n\n  Object.freeze(weexGlobalObject)\n\n  // prepare code\n  let functionBody\n  /* istanbul ignore if */\n  if (typeof code === 'function') {\n    // `function () {...}` -> `{...}`\n    // not very strict\n    functionBody = code.toString().substr(12)\n  }\n  /* istanbul ignore next */\n  else if (code) {\n    functionBody = code.toString()\n  }\n  // wrap IFFE and use strict mode\n  functionBody = `(function(global){\\n\\n\"use strict\";\\n\\n ${functionBody} \\n\\n})(Object.create(this))`\n\n  // run code and get result\n  const { WXEnvironment } = global\n  const timerAPIs = {}\n\n  /* istanbul ignore if */\n  if (WXEnvironment && WXEnvironment.platform !== 'Web') {\n    // timer APIs polyfill in native\n    const timer = app.requireModule('timer')\n    Object.assign(timerAPIs, {\n      setTimeout: (...args) => {\n        const handler = function () {\n          args[0](...args.slice(2))\n        }\n        timer.setTimeout(handler, args[1])\n        return app.doc.taskCenter.callbackManager.lastCallbackId.toString()\n      },\n      setInterval: (...args) => {\n        const handler = function () {\n          args[0](...args.slice(2))\n        }\n        timer.setInterval(handler, args[1])\n        return app.doc.taskCenter.callbackManager.lastCallbackId.toString()\n      },\n      clearTimeout: (n) => {\n        timer.clearTimeout(n)\n      },\n      clearInterval: (n) => {\n        timer.clearInterval(n)\n      }\n    })\n  }\n  // run code and get result\n  const globalObjects = Object.assign({\n    define: bundleDefine,\n    require: bundleRequire,\n    bootstrap: bundleBootstrap,\n    register: bundleRegister,\n    render: bundleRender,\n    __weex_define__: bundleDefine, // alias for define\n    __weex_bootstrap__: bundleBootstrap, // alias for bootstrap\n    __weex_document__: bundleDocument,\n    __weex_require__: bundleRequireModule,\n    __weex_viewmodel__: bundleVm,\n    weex: weexGlobalObject\n  }, timerAPIs, services)\n  if (!callFunctionNative(globalObjects, functionBody)) {\n    // If failed to compile functionBody on native side,\n    // fallback to callFunction.\n    callFunction(globalObjects, functionBody)\n  }\n\n  return result\n}\n\n/**\n * Call a new function body with some global objects.\n * @param  {object} globalObjects\n * @param  {string} code\n * @return {any}\n */\nfunction callFunction(globalObjects, body) {\n  const globalKeys = []\n  const globalValues = []\n  for (const key in globalObjects) {\n    globalKeys.push(key)\n    globalValues.push(globalObjects[key])\n  }\n  globalKeys.push(body)\n\n  const result = new Function(...globalKeys)\n  return result(...globalValues)\n}\n\n/**\n * Call a new function generated on the V8 native side.\n * @param  {object} globalObjects\n * @param  {string} body\n * @return {boolean} return true if no error occurred.\n */\nfunction callFunctionNative(globalObjects, body) {\n  if (typeof compileAndRunBundle !== 'function') {\n    return false\n  }\n\n  let fn = void 0\n  let isNativeCompileOk = false\n  let script = '(function ('\n  const globalKeys = []\n  const globalValues = []\n  for (const key in globalObjects) {\n    globalKeys.push(key)\n    globalValues.push(globalObjects[key])\n  }\n  for (let i = 0; i < globalKeys.length - 1; ++i) {\n    script += globalKeys[i]\n    script += ','\n  }\n  script += globalKeys[globalKeys.length - 1]\n  script += ') {'\n  script += body\n  script += '} )'\n\n  try {\n    const weex = globalObjects.weex || {}\n    const config = weex.config || {}\n    fn = compileAndRunBundle(script, config.bundleUrl, config.bundleDigest, config.codeCachePath)\n    if (fn && typeof fn === 'function') {\n      fn(...globalValues)\n      isNativeCompileOk = true\n    }\n  }\n  catch (e) {\n    console.error(e)\n  }\n\n  return isNativeCompileOk\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nexport default class Differ {\n  constructor (id) {\n    this.id = id\n    this.map = []\n    this.hooks = []\n  }\n  isEmpty () {\n    return this.map.length === 0\n  }\n  append (type, depth = 0, ref, handler) {\n    if (!this.hasTimer) {\n      this.hasTimer = true\n      setTimeout(() => {\n        this.hasTimer = false\n        this.flush(true)\n      }, 0)\n    }\n    const map = this.map\n    if (!map[depth]) {\n      map[depth] = {}\n    }\n    const group = map[depth]\n    if (!group[type]) {\n      group[type] = {}\n    }\n    if (type === 'element') {\n      if (!group[type][ref]) {\n        group[type][ref] = []\n      }\n      group[type][ref].push(handler)\n    }\n    else {\n      group[type][ref] = handler\n    }\n  }\n  flush (isTimeout) {\n    const map = this.map.slice()\n    this.map.length = 0\n    map.forEach((group) => {\n      callTypeMap(group, 'repeat')\n      callTypeMap(group, 'shown')\n      callTypeList(group, 'element')\n    })\n\n    const hooks = this.hooks.slice()\n    this.hooks.length = 0\n    hooks.forEach((fn) => {\n      fn()\n    })\n\n    if (!this.isEmpty()) {\n      this.flush()\n    }\n  }\n  then (fn) {\n    this.hooks.push(fn)\n  }\n}\n\nfunction callTypeMap (group, type) {\n  const map = group[type]\n  for (const ref in map) {\n    map[ref]()\n  }\n}\n\nfunction callTypeList (group, type) {\n  const map = group[type]\n  for (const ref in map) {\n    const list = map[ref]\n    list.forEach((handler) => { handler() })\n  }\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/**\n * @fileOverview\n * Weex App constructor & definition\n */\n\nimport Differ from './differ'\nimport renderer from '../config'\n\n/**\n * App constructor for Weex framework.\n * @param {string} id\n * @param {object} options\n */\nexport default function App (id, options) {\n  this.id = id\n  this.options = options || {}\n  this.vm = null\n  this.customComponentMap = {}\n  this.commonModules = {}\n\n  // document\n  this.doc = new renderer.Document(\n    id,\n    this.options.bundleUrl,\n    null,\n    renderer.Listener\n  )\n  this.differ = new Differ(id)\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/**\n * @fileOverview\n * Weex instance constructor & definition\n */\n\nimport { requireModule } from './register'\nimport { updateActions, callTasks } from './ctrl/index'\nimport App from './instance'\n\n/**\n * @deprecated\n */\nApp.prototype.requireModule = function (name) {\n  return requireModule(this, name)\n}\n\n/**\n * @deprecated\n */\nApp.prototype.updateActions = function () {\n  return updateActions(this)\n}\n\n/**\n * @deprecated\n */\nApp.prototype.callTasks = function (tasks) {\n  return callTasks(this, tasks)\n}\n\n/**\n * Prevent modification of App and App.prototype\n */\nObject.freeze(App)\nObject.freeze(App.prototype)\n\nexport default App\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nexport const instanceMap = {}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport Vm from '../vm/index'\nimport config from '../config'\nimport {\n  initModules,\n  initMethods\n} from '../app/register'\n\nconst {\n  nativeComponentMap\n} = config\n\n/**\n * Register the name of each native component.\n * @param  {array} components array of name\n */\nexport function registerComponents(components) {\n  // console.log(\"JS registerComponents components = \" + JSON.stringify(components))\n  if (Array.isArray(components)) {\n    components.forEach(function register(name) {\n      // console.log(\"JS registerComponents name = \" + JSON.stringify(name))\n      /* istanbul ignore if */\n      if (!name) {\n        return\n      }\n      if (typeof name === 'string') {\n        nativeComponentMap[name] = true\n      }\n      /* istanbul ignore else */\n      else if (typeof name === 'object' && typeof name.type === 'string') {\n        nativeComponentMap[name.type] = name\n\n      }\n    })\n  }\n  console.log(\"JS registerComponents nativeComponentMap = \" + JSON.stringify(nativeComponentMap))\n  return 'abcdefj'\n}\n\n/**\n * Register the name and methods of each module.\n * @param  {object} modules a object of modules\n */\nexport function registerModules(modules) {\n  /* istanbul ignore else */\n  if (typeof modules === 'object') {\n    initModules(modules)\n  }\n}\n\n/**\n * Register the name and methods of each api.\n * @param  {object} apis a object of apis\n */\nexport function registerMethods(methods) {\n  /* istanbul ignore else */\n  if (typeof methods === 'object') {\n    initMethods(Vm, methods)\n  }\n}\n\n// @todo: Hack for this framework only. Will be re-designed or removed later.\nglobal.registerMethods = registerMethods\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { instanceMap } from './map'\nimport {\n  fireEvent,\n  callback\n} from '../app/ctrl/index'\n\nconst jsHandlers = {\n  fireEvent: (id, ...args) => {\n    return fireEvent(instanceMap[id], ...args)\n  },\n  callback: (id, ...args) => {\n    return callback(instanceMap[id], ...args)\n  }\n}\n\n/**\n * Accept calls from native (event or callback).\n *\n * @param  {string} id\n * @param  {array} tasks list with `method` and `args`\n */\nexport function receiveTasks (id, tasks) {\n  const instance = instanceMap[id]\n  if (instance && Array.isArray(tasks)) {\n    const results = []\n    tasks.forEach((task) => {\n      const handler = jsHandlers[task.method]\n      const args = [...task.args]\n      /* istanbul ignore else */\n      if (typeof handler === 'function') {\n        args.unshift(id)\n        results.push(handler(...args))\n      }\n    })\n    return results\n  }\n  return new Error(`invalid instance id \"${id}\" or tasks`)\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/**\n * @fileOverview Weex framework entry.\n */\n\nimport * as methods from './api/methods'\n\nimport Vm from './vm'\nexport { createInstance } from './static/create'\nexport { init, refreshInstance, destroyInstance } from './static/life'\nimport { registerComponents, registerModules, registerMethods } from './static/register'\nexport { receiveTasks } from './static/bridge'\nexport { getRoot } from './static/misc'\n\n// register special methods for Weex framework\nregisterMethods(methods)\n\n/**\n * Prevent modification of Vm and Vm.prototype\n */\nObject.freeze(Vm)\n\nexport { registerComponents, registerModules, registerMethods }\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { subversion } from '../../package.json'\nimport runtime from '../api'\nimport services from '../services'\n\n/**\n * Setup frameworks with runtime.\n * You can package more frameworks by\n *  passing them as arguments.\n */\nexport default function (frameworks) {\n  const { init, config } = runtime\n  config.frameworks = frameworks\n  const { native, transformer } = subversion\n\n  for (const serviceName in services) {\n    runtime.service.register(serviceName, services[serviceName])\n  }\n\n  runtime.freezePrototype()\n\n  // register framework meta info\n  global.frameworkVersion = native\n  global.transformerVersion = transformer\n\n  // init frameworks\n  const globalMethods = init(config)\n\n  // set global methods\n  for (const methodName in globalMethods) {\n    global[methodName] = (...args) => {\n      const ret = globalMethods[methodName](...args)\n      if (ret instanceof Error) {\n        console.error(ret.toString())\n      }\n      return ret\n    }\n  }\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { freezePrototype } from './env'\nimport setup from './setup'\nimport frameworks from '../frameworks'\n\nsetup(frameworks)\nfreezePrototype()\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport * as Vanilla from './vanilla/index'\n// import * as Vue from 'weex-vue-framework'\nimport * as Vue from '../../packages/weex-vue-framework'\nimport * as Weex from './legacy/index'\n// import Rax from 'weex-rax-framework'\n\nexport default {\n  Vanilla,\n  Vue,\n  // Rax,\n  Weex\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport App from '../app/index'\nimport { instanceMap } from './map'\nimport { init as initApp } from '../app/ctrl/index'\nimport { resetTarget } from '../core/dep'\n\n/**\n * Create a Weex instance.\n *\n * @param  {string} id\n * @param  {string} code\n * @param  {object} options\n *         option `HAS_LOG` enable print log\n * @param  {object} data\n * @param  {object} info { created, ... services }\n */\nexport function createInstance (id, code, options, data, info) {\n  const { services } = info || {}\n  resetTarget()\n  let instance = instanceMap[id]\n  /* istanbul ignore else */\n  options = options || {}\n  let result\n  /* istanbul ignore else */\n  if (!instance) {\n    instance = new App(id, options)\n    instanceMap[id] = instance\n    result = initApp(instance, code, data, services)\n  }\n  else {\n    result = new Error(`invalid instance id \"${id}\"`)\n  }\n  return (result instanceof Error) ? result : instance\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport config from '../config'\nimport {\n  refresh,\n  destroy\n} from '../app/ctrl/index'\nimport { instanceMap } from './map'\nimport { resetTarget } from '../core/dep'\n\n/**\n * Init config informations for Weex framework\n * @param  {object} cfg\n */\nexport function init (cfg) {\n  config.Document = cfg.Document\n  config.Element = cfg.Element\n  config.Comment = cfg.Comment\n  config.sendTasks = cfg.sendTasks\n  config.Listener = cfg.Listener\n}\n\n/**\n * Refresh a Weex instance with data.\n *\n * @param  {string} id\n * @param  {object} data\n */\nexport function refreshInstance (id, data) {\n  const instance = instanceMap[id]\n  let result\n  /* istanbul ignore else */\n  if (instance) {\n    result = refresh(instance, data)\n  }\n  else {\n    result = new Error(`invalid instance id \"${id}\"`)\n  }\n  return result\n}\n\n/**\n * Destroy a Weex instance.\n * @param  {string} id\n */\nexport function destroyInstance (id) {\n  // Markup some global state in native side\n  if (typeof markupState === 'function') {\n    markupState()\n  }\n\n  resetTarget()\n  const instance = instanceMap[id]\n  /* istanbul ignore else */\n  if (!instance) {\n    return new Error(`invalid instance id \"${id}\"`)\n  }\n  destroy(instance)\n  delete instanceMap[id]\n  // notifyContextDisposed is used to tell v8 to do a full GC,\n  // but this would have a negative performance impact on weex,\n  // because all the inline cache in v8 would get cleared\n  // during a full GC.\n  // To take care of both memory and performance, just tell v8\n  // to do a full GC every eighteen times.\n  const idNum = Math.round(id)\n  const round = 18\n  if (idNum > 0) {\n    const remainder = idNum % round\n    if (!remainder && typeof notifyTrimMemory === 'function') {\n      notifyTrimMemory()\n    }\n  }\n  return instanceMap\n}\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { instanceMap } from './map'\nimport {\n  getRootElement\n} from '../app/ctrl/index'\n\n/**\n * Get a whole element tree of an instance for debugging.\n * @param  {string} id\n * @return {object} a virtual dom tree\n */\nexport function getRoot (id) {\n  const instance = instanceMap[id]\n  let result\n  /* istanbul ignore else */\n  if (instance) {\n    result = getRootElement(instance)\n  }\n  else {\n    result = new Error(`invalid instance id \"${id}\"`)\n  }\n  return result\n}\n"],"names":["isCallable","fn","toStr","call","toLength","value","len","number","Number","isNaN","isFinite","Math","floor","abs","toInteger","min","max","maxSafeInteger","Array","from","Object","prototype","toString","pow","arrayLike","items","TypeError","T","mapFn","arguments","length","kValue","A","this","k","it","isObject","is","document","createElement","bitmap","enumerable","configurable","writable","key","hasOwnProperty","concat","undefined","id","px","that","aFunction","a","b","c","apply","global","module","window","self","Function","__g","core","version","__e","exec","e","require$$0","defineProperty","get","require$$1","require$$2","dP","O","P","Attributes","anObject","S","val","valueOf","toPrimitive","IE8_DOM_DEFINE","object","f","createDesc","random","SHARED","store","push","mode","copyright","SRC","TO_STRING","TPL","$toString","split","inspectSource","safe","isFunction","has","hide","join","String","PROTOTYPE","$export","type","name","source","out","exp","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","IS_PROTO","IS_BIND","B","target","exports","expProto","own","ctx","redefine","U","W","R","slice","IObject","defined","ceil","IS_INCLUDES","propertyIsEnumerable","cof","shared","uid","arrayIndexOf","$this","el","fromIndex","toIObject","index","IE_PROTO","keys","names","i","result","$keys","enumBugKeys","getOwnPropertySymbols","$assign","assign","Symbol","K","forEach","toObject","aLen","getSymbols","gOPS","isEnum","pIE","getKeys","j","DESCRIPTORS","setPrototypeOf","magic","set","proto","getOwnPropertyDescriptor","polyfill","WXEnvironment","platform","__enable_native_promise__","Promise","tryGet","TAG","ARG","callee","USE_SYMBOL","test","classof","Empty","tag","stat","def","defineProperties","Properties","documentElement","createDict","iframe","style","display","appendChild","src","iframeDocument","contentWindow","open","write","lt","close","create","dPs","IteratorPrototype","returnThis","ObjectProto","getPrototypeOf","constructor","ITERATOR","BUGGY","VALUES","Base","NAME","Constructor","next","DEFAULT","IS_SET","FORCED","descriptor","setToStringTag","getMethod","kind","methods","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","entries","Iterators","values","$at","pos","s","l","charCodeAt","charAt","iterated","_t","_i","done","point","UNSCOPABLES","ArrayProto","_k","step","Arguments","addToUnscopables","wks","TO_STRING_TAG","ArrayValues","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","explicit","Collection","$iterators","run","queue","defer","getIteratorMethod","BREAK","RETURN","iterable","iterator","iterFn","getIterFn","ret","SPECIES","process","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","Dispatch","counter","ONREADYSTATECHANGE","listener","event","data","args","un","invoke","nextTick","now","port","channel","port2","port1","onmessage","postMessage","addEventListener","importScripts","cel","html","removeChild","setTimeout","clear","macrotask","Observer","MutationObserver","WebKitMutationObserver","isNode","PromiseCapability","C","resolve","reject","promise","$$resolve","$$reject","v","navigator","userAgent","SAFE_CLOSING","head","last","notify","toggle","node","task","microtask","flush","standalone","then","createTextNode","observe","characterData","parent","domain","exit","enter","empty","isThenable","isReject","chain","_n","_c","_v","ok","_s","reaction","exited","handler","fail","_h","onHandleUnhandled","onUnhandled","$reject","_d","_w","_a","Internal","newGenericPromiseCapability","OwnPromiseCapability","Wrapper","PROMISE","versions","v8","$Promise","newPromiseCapability","newPromiseCapabilityModule","USE_NATIVE","FakePromise","PromiseRejectionEvent","indexOf","console","unhandled","isUnhandled","perform","emit","onunhandledrejection","reason","error","onrejectionhandled","$resolve","wrapper","executor","forbiddenField","anInstance","err","require$$3","onFulfilled","onRejected","D","catch","require$$4","KEY","require$$5","require$$6","r","capability","x","promiseCapability","promiseResolve","skipClosing","arr","iter","require$$7","all","remaining","forOf","$index","alreadyCalled","race","let","nextNodeRef","uniqueId","typof","substring","isPlainObject","bufferToBase64","buffer","btoa","string","map","Uint8Array","code","fromCharCode","isEmpty","any","const","LEVELS","levelMap","debugLog","text","__global","nativeLog","format","toLowerCase","JSON","stringify","timeoutMap","timeoutId","debug","log","info","warn","setTimeoutNative","freezeProtoProperty","propertyName","protoName","origin","Error","cb","time","setTimeoutCallback","level","levelIndex","__ori__","getHookKey","componentId","hookName","CallbackManager","instanceId","lastCallbackId","callbacks","hooks","add","callback","remove","callbackId","registerHook","hookFunction","triggerHook","consume","ifKeepAlive","docMap","getDoc","getTaskCenter","doc","taskCenter","appendBody","before","children","pureChildren","parentNode","beforeIndex","splice","nodeType","role","docId","ownerDocument","linkParent","child","setBody","nodeMap","nodeId","body","toJSON","send","action","sendBody","ref","depth","_root","nextElement","nextSibling","previousElement","previousSibling","insertIndex","list","newIndex","changeSibling","after","moveIndex","newIndexAfter","beforeNew","afterNew","removeIndex","Element","Node","destroy","registeredElements","BUBBLE_EVENTS","registerNode","insertBefore","pureBefore","insertAfter","preserved","setAttr","silent","attr","setAttrs","batchedAttrs","mutations","setStyle","setStyles","batchedStyles","setClassStyle","classStyle","toStyle","addEvent","params","removeEvent","fireEvent","isBubble","options","isStopPropagation","eventDesc","stopPropagation","currentTarget","ignoreChildren","props","isExtended","super","WeexElement","fallback","TaskCenter","sendTasks","receiveTasks","tasks","isArray","method","domChanges","getRef","_nodeId","hook","callbackManager","updateData","newData","destroyCallback","normalize","deep","_isVue","$el","item","toISOString","@type","dataType","base64","normalizePrimitive","component","arg","componentHandler","moduleHandler","callDOM","callComponent","callModule","weexModules","registerModules","newModules","isRegisteredModule","weexComponents","registerComponents","newComponents","methodName","isRegisteredComponent","services","register","unregister","some","service","Comment","createAction","Listener","batched","updates","createFinish","updateFinish","refreshFinish","createBody","element","actions","addActions","addElement","removeElement","moveElement","targetRef","parentRef","handlerMap","updateAttrs","updateStyle","createHandler","defaultHandler","callNative","returnValue","hasAvailableHandler","dispatchTask","Document","url","URL","L","createDocumentElement","getId","weex","_documentElement","tagName","createComment","timestamp","Date","changes","attrs","updateElement","$root","frameworks","runtimeConfig","WeexInstance","config","_nativeData","bundleUrl","requireModule","bind","importScript","moduleName","moduleProxy","supports","condition","res","match","versionRegExp","getJSFMVersion","instanceTypeMap","getFrameworkType","createInstanceContext","bundleType","framework","env","serviceMap","created","instance","freeze","runtimeContext","__WEEX_CALL_JAVASCRIPT__","instanceContext","parse","getBundleType","createInstance","raxInstanceContext","context","bundle","runInContext","getDocument","registerService","unregisterService","callJS","genInstance","refresh","runtime","adaptMethod","sharedMethod","DOM_METHODS","callCreateFinish","callUpdateFinish","callRefreshFinish","callCreateBody","callAddElement","callRemoveElement","callMoveElement","callUpdateAttrs","callUpdateStyle","callAddEvent","callRemoveEvent","__updateComponentData","callNativeComponent","callNativeModule","initTaskHandler","init","MessageEvent","dict","ports","timeStamp","channels","instances","BroadcastChannel","message","_closed","subscribers","member","filter","serviceObject","instanceMap","cfg","serviceObjects","addCallback","func","handleCallback","funcId","ifLast","globalObjects","globalKeys","globalValues","jsHandlers","results","unshift","emptyObject","isUndef","isDef","isTrue","isPrimitive","obj","_toString","isValidArrayIndex","n","parseFloat","isPromise","toNumber","makeMap","str","expectsLowerCase","isReservedAttribute","hasOwn","cached","cache","camelizeRE","camelize","replace","_","toUpperCase","capitalize","hyphenateRE","hyphenate","boundFn","_length","toArray","start","extend","to","_from","noop","no","identity","looseEqual","isObjectA","isObjectB","isArrayA","isArrayB","every","getTime","keysA","keysB","looseIndexOf","once","called","SSR_ATTR","ASSET_TYPES","LIFECYCLE_HOOKS","optionMergeStrategies","productionTip","devtools","performance","errorHandler","warnHandler","ignoredElements","keyCodes","isReservedTag","isReservedAttr","isUnknownElement","getTagNamespace","parsePlatformTagName","mustUseProp","async","_lifecycleHooks","bailRE","RegExp","_isServer","hasProto","inBrowser","inWeex","weexPlatform","UA","isIE","isEdge","isIOS","nativeWatch","watch","opts","isServerRendering","VUE_ENV","__VUE_DEVTOOLS_GLOBAL_HOOK__","isNative","Ctor","hasSymbol","Reflect","ownKeys","_Set","Set","Dep","subs","addSub","sub","removeSub","depend","addDep","update","targetStack","pushTarget","popTarget","pop","VNode","elm","componentOptions","asyncFactory","ns","fnContext","fnOptions","fnScopeId","componentInstance","raw","isStatic","isRootInsert","isComment","isCloned","isOnce","asyncMeta","isAsyncPlaceholder","prototypeAccessors","createEmptyVNode","createTextVNode","cloneVNode","vnode","cloned","arrayProto","arrayMethods","original","inserted","ob","__ob__","observeArray","dep","arrayKeys","getOwnPropertyNames","shouldObserve","toggleObserving","vmCount","__proto__","copyAugment","walk","asRootData","isExtensible","defineReactive","customSetter","shallow","getter","setter","childOb","property","dependArray","newVal","del","strats","mergeData","toVal","fromVal","mergeDataOrFn","parentVal","childVal","vm","instanceData","defaultData","mergeHook","dedupeHooks","mergeAssets","key$1","inject","computed","provide","defaultStrat","mergeOptions","normalizeProps","normalized","normalizeInject","dirs","directives","normalizeDirectives","_base","extends","mixins","mergeField","strat","resolveAsset","assets","camelizedId","PascalCaseId","validateProp","propOptions","propsData","prop","absent","booleanIndex","getTypeIndex","Boolean","stringIndex","default","$options","_props","getType","getPropDefaultValue","prevShouldObserve","isSameType","expectedTypes","handleError","cur","$parent","errorCaptured","globalHandleError","invokeWithErrorHandling","_handled","logError","p","timerFunc","textNode","pending","flushCallbacks","copies","_resolve","observer","seenObjects","traverse","_traverse","seen","isA","isFrozen","depId","normalizeEvent","passive","capture","createFnInvoker","fns","invoker","arguments$1","updateListeners","on","oldOn","createOnceHandler","old","mergeVNodeHook","hookKey","oldHook","wrappedHook","merged","checkProp","hash","altKey","preserve","normalizeChildren","normalizeArrayChildren","nestedIndex","lastIndex","isTextNode","shift","_isVList","initProvide","_provided","initInjections","resolveInject","provideDefault","provideKey","resolveSlots","name$1","slots","slot","isWhitespace","normalizeScopedSlots","normalSlots","prevSlots","key$2","hasNormalSlots","isStable","$stable","$key","_normalized","$hasNormal","proxy","normalizeScopedSlot","proxyNormalSlot","renderList","render","renderSlot","bindObject","scopedSlotFn","$scopedSlots","nodes","$slots","$createElement","resolveFilter","isKeyNotMatch","expect","actual","checkKeyCodes","eventKeyCode","builtInKeyCode","eventKeyName","builtInKeyName","mappedKeyCode","bindObjectProps","asProp","isSync","domProps","camelizedKey","hyphenatedKey","$event","loop","renderStatic","isInFor","_staticTrees","tree","markStatic","staticRenderFns","_renderProxy","markOnce","markStaticNode","bindObjectListeners","existing","ours","resolveScopedSlots","hasDynamicKeys","contentHashKey","bindDynamicKeys","baseObj","prependModifier","symbol","installRenderHelpers","_o","_l","_q","_m","_f","_b","_e","_u","_g","_p","FunctionalRenderContext","contextVm","this$1","_original","isCompiled","_compiled","needNormalization","listeners","injections","scopedSlots","_scopeId","d","cloneAndMarkFunctionalResult","clone","mergeProps","RECYCLE_LIST_MARKER","registerComponentHook","updateComponentData","uid$1","initVirtualComponent","_uid","_isComponent","initInternalComponent","resolveConstructorOptions","initLifecycle","_self","initEvents","initRender","callHook","initState","getData","Watcher","_update","_vnode","_isMounted","$destroy","updateVirtualComponent","_data","renderRecyclableComponentTemplate","BaseCtor","VirtualComponent","cid","_init","beforeCreate","beforeDestroy","_virtualComponents","createComponentInstanceForVnode","componentVNodeHooks","hydrating","_isDestroyed","keepAlive","prepatch","activeInstance","$mount","oldVnode","parentVnode","renderChildren","newScopedSlots","oldScopedSlots","hasDynamicScopedSlot","needsForceUpdate","_renderChildren","_parentVnode","$vnode","$attrs","$listeners","propKeys","_propKeys","oldListeners","_parentListeners","updateComponentListeners","$forceUpdate","updateChildComponent","insert","_inactive","activatedChildren","activateChildComponent","deactivateChildComponent","direct","_directInactive","isInInactiveTree","$children","hooksToMerge","createComponent","factory","baseCtor","errorComp","resolved","owner","currentRenderingInstance","owners","loading","loadingComp","sync","timerLoading","timerTimeout","$on","forceRender","renderCompleted","clearTimeout","ensureCtor","delay","timeout","resolveAsyncComponent","model","transformModel","extractPropsFromVNodeData","functional","renderContext","vnodes","createFunctionalComponent","nativeOn","abstract","toMerge","_merged","f1","f2","mergeHook$1","installComponentHooks","inlineTemplate","SIMPLE_NORMALIZE","ALWAYS_NORMALIZE","normalizationType","alwaysNormalize","simpleNormalizeChildren","pre","applyNS","force","class","registerDeepBindings","_createElement","parentData","comp","base","__esModule","toStringTag","getFirstComponentChild","_events","_hasHookEvent","remove$1","$off","_target","onceHandler","$refs","_watcher","_isBeingDestroyed","handlers","$emit","waiting","flushing","getNow","flushSchedulerQueue","watcher","sort","activatedQueue","updatedQueue","callActivatedHooks","callUpdatedHooks","createEvent","uid$2","expOrFn","isRenderWatcher","_watchers","user","lazy","active","dirty","deps","newDeps","depIds","newDepIds","expression","path","segments","parsePath","cleanupDeps","tmp","queueWatcher","oldValue","evaluate","teardown","sharedPropertyDefinition","sourceKey","propsOptions","initProps","initMethods","isReserved","initData","watchers","_computedWatchers","isSSR","userDef","computedWatcherOptions","defineComputed","initComputed","createWatcher","initWatch","shouldCache","createComputedGetter","createGetterInvoker","$watch","Vue","dataDef","propsDef","hookRE","uid$3","vnodeComponentOptions","_componentTag","superOptions","modifiedOptions","modified","latest","sealed","sealedOptions","resolveModifiedOptions","extendOptions","components","initExtend","Super","SuperId","cachedCtors","_Ctor","Sub","Comp","initProps$1","initComputed$1","mixin","use","getComponentName","matches","pattern","pruneCache","keepAliveInstance","cachedNode","pruneCacheEntry","current","$set","$delete","immediate","$once","i$1","cbs","prevActiveInstance","prevEl","prevVnode","restoreActiveInstance","__patch__","__vue__","$nextTick","_render","configDef","patternTypes","builtInComponents","KeepAlive","include","exclude","destroyed","mounted","parseInt","util","delete","observable","plugin","installedPlugins","_installedPlugins","install","definition","ssrContext","latestNodeId","TextNode","createElement$1","nodeOps","namespaceMap","createElementNS","namespace","setTextContent","setAttribute","setStyleScope","scopeId","registerRef","isRemoval","refs","refInFor","isTextInputType","emptyNode","sameVnode","typeA","typeB","sameInputType","updateDirectives","oldDir","dir","isCreate","isDestroy","oldDirs","normalizeDirectives$1","newDirs","dirsWithInsert","dirsWithPostpatch","oldArg","callHook$1","componentUpdated","callInsert","emptyModifiers","modifiers","rawName","baseModules","oldAttrs","supportBatchUpdate","updateClass","oldData","staticClass","stylesheet","oldClassList","makeClassList","classList","setClassList","dataClass","className","trim","target$1","klass","createOnceHandler$1","remove$2","add$1","updateDOMListeners","events","oldStyle","needClone","toObject$1","staticStyle","resolveTransition","autoCssTransition","css","enterClass","enterToClass","enterActiveClass","leaveClass","leaveToClass","leaveActiveClass","requestAnimationFrame","_leaveCb","cancelled","transition","_enterCb","appearClass","appearToClass","appearActiveClass","beforeEnter","afterEnter","enterCancelled","beforeAppear","appear","afterAppear","appearCancelled","transitionNode","isAppear","startClass","toClass","activeClass","beforeEnterHook","enterHook","afterEnterHook","enterCancelledHook","userWantsControl","startState","transitionProperties","endState","endClass","targetState","activeState","getEnterTargetState","needAnimation","pendingNode","_pending","$requireWeexModule","styles","duration","timingFunction","patch","backend","modules","createRmCb","childElm","removeNode","createElm","insertedVnodeQueue","parentElm","refElm","nested","ownerArray","isReactivated","initComponent","innerNode","activate","reactivateComponent","setScope","appendAsTree","invokeCreateHooks","createChildren","pendingInsert","isPatchable","ancestor","addVnodes","startIdx","endIdx","invokeDestroyHook","removeVnodes","ch","removeAndInvokeRemoveHook","rm","updateChildren","oldCh","newCh","removeOnly","oldKeyToIdx","idxInOld","vnodeToMove","oldStartIdx","newStartIdx","oldEndIdx","oldStartVnode","oldEndVnode","newEndIdx","newStartVnode","newEndVnode","canMove","patchVnode","beginIdx","createKeyToOldIdx","end","findIdxInOld","hydrate","postpatch","invokeInsertHook","initial","isRenderedModule","inVPre","hasChildNodes","innerHTML","childrenMatch","childNode","firstChild","fullInvoke","isInitialPatch","isRealElement","hasAttribute","removeAttribute","oldElm","patchable","i$2","createPatchFunction","beforeLeave","leave","afterLeave","leaveCancelled","delayLeave","performLeave","animation","show","LONG_LIST_THRESHOLD","convertVNodeChildren","cssMap","parseStyle","Richtext","h","transitionProps","getRealChild","compOptions","extractTransitionData","placeholder","rawChild","isNotTextNode","isVShowDirective","Transition","hasParentTransition","_leaving","oldRawChild","oldChild","delayedLeave","moveClass","platformComponents","TransitionGroup","dom","getPosition","getComponentRect","size","animate","kept","removed","prevChildren","rawChildren","transitionData","beforeUpdate","updated","getMoveData","isRuntimeComponent","$document","updateComponent","instanceOptions","timer","VueFactory","weexRegex","$instanceId","internalData","dataOption","app","$getConfig","createVueModuleInstance","timerAPIs","moduleGetter","setInterval","clearInterval","_ids","_app","differ","offset","scrollToElement","_setStyle","sendHttp","openURL","title","setTitle","first","OBJECT_STRING","createNewSet","nativeSet","isWeexModule","WEEX_MODULE_REG","isNormalModule","NORMAL_MODULE_REG","WEEX_COMPONENT_REG","JS_SURFIX_REG","isWeexComponent","isNpmModule","removeWeexPrefix","removeJSSurfix","resetTarget","isFn","queued","isO","_vForRemoving","protoAugment","addVm","convert","vms","removeVm","KEY_WORDS","_methods","_computed","makeComputedGetter","nativeComponentMap","image","container","slider","append","cell","SETTERS","bindElement","template","setId","bindDir","_options","setClass","setEvent","bindEvents","bindSubVmAfterInitialized","subVm","_rootEl","addClassName","mergeClassStyle","mergeStyle","_vm","newId","calc","bindKey","_static","createBlock","blockId","lastestBlockId","updateMark","attachTarget","dest","signal","moveTarget","fragBlock","group","temp","removeTarget","preserveBlock","removeBlock","compile","meta","lastSignal","_content","repeat","trackBy","keyName","valueName","compileItem","mergedData","newContext","_realParent","mergeContext","watchBlock","oldChildren","oldVms","trackMap","reusedMap","reusedList","reused","$remove","bindRepeat","compileRepeat","shown","newMeta","bindShown","compileShown","typeGetter","customComponentMap","targetIsComposed","hook:init","_externalBinding","hook:created","repeatItem","reduce","bindSubVm","hook:ready","compileChildren","compileCustomComponent","subkey","applyNaitveComponentOptions","binding","parentVm","treeMode","compileNativeComponent","compileType","latestValue","recorded","Evt","detail","shouldStop","stop","hasStopped","evt","handlerList","_vmEvents","$dispatch","_parent","$broadcast","_childrenVms","_ready","LIFE_CYCLE_TYPES","Vm","parentEl","externalEvents","_css","_type","type1","type2","_inited","_created","ready","_parentEl","opt","nativeModules","initModules","ifReplace","requireCustomComponent","registerCustomComponent","SemVer","MAX_LENGTH","MAX_SAFE_INTEGER","re","FULL","FULLPLAIN","LOOSEPLAIN","LOOSE","XRANGE","XRANGELOOSE","TILDE","TILDELOOSE","CARET","CARETLOOSE","STAR","loose","includePrerelease","er","m","major","minor","prerelease","num","build","compare","other","compareMain","comparePre","compareIdentifiers","inc","release","identifier","version1","version2","eq","defaultResult","v1","v2","prefix","numeric","anum","bnum","gt","neq","gte","lte","cmp","op","Comparator","semver","ANY","operator","rcompare","Range","range","parseRange","isX","hyphenReplace","$0","fM","fm","fp","fpr","fb","tM","tm","tp","tpr","tb","satisfies","outside","hilo","gtfn","ltefn","ltfn","ecomp","comparators","high","low","comparator","intersects","rangeTmp","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","comps","hr","compRe","M","pr","replaceCaret","replaceCarets","replaceTilde","replaceTildes","gtlt","xM","xm","xp","replaceXRange","replaceXRanges","replaceStars","thisComparators","thisComparator","rangeComparators","rangeComparator","allowed","testSet","maxSV","rangeObj","minSV","minver","compver","parsed","r1","r2","normalizeVersion","valid","getError","criteria","isDowngrade","errorType","_key","errorMessage","bootstrap","cleanName","transformerVersion","downgradeResult","deviceInfo","cObj","keyLower","isVersion","isDeviceModel","downgrade.check","downgrade","callTasks","viewport","configs","defineFn","commonModules","destroyVm","watcherCount","blocks","updateActions","bundleDefine","bundleBootstrap","bundleRequireModule","functionBody","bundleVm","bundleDocument","weexGlobalObject","define","substr","require","__weex_define__","__weex_bootstrap__","__weex_document__","__weex_require__","__weex_viewmodel__","compileAndRunBundle","isNativeCompileOk","script","bundleDigest","codeCachePath","callFunctionNative","callFunction","Differ","callTypeMap","App","renderer","hasTimer","callTypeList","registerMethods","apis","apiName","serviceName","native","transformer","freezePrototype","frameworkVersion","globalMethods","setup","Vanilla","initApp","refreshData","markupState","idNum","round","notifyTrimMemory","seal"],"mappings":"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"}